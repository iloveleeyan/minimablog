"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[2670],{7413:function(e,t,o){o.d(t,{s:function(){return Ye}});o(44114),o(18111),o(22489),o(61701);var a=o(99601),n=o(80587),l=o(93870),r=o(85605),i=o(57781),c=o(98709),s=o(30873),d=o(34963),u=o(21359),h=Object.defineProperty,g=(e,t,o)=>(((e,t,o)=>{t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!=typeof t?t+"":t,o),o);const p=e=>Math.round(100*e)/100;class v{constructor(e){g(this,"instance"),g(this,"alphaValue",0),g(this,"redValue",0),g(this,"greenValue",0),g(this,"blueValue",0),g(this,"hueValue",0),g(this,"saturationValue",0),g(this,"brightnessValue",0),g(this,"hslSaturationValue",0),g(this,"lightnessValue",0),g(this,"initAlpha",(()=>{const e=this.instance.getAlpha();this.alphaValue=100*Math.min(1,e)})),g(this,"initLightness",(()=>{const{s:e,l:t}=this.instance.toHsl();this.hslSaturationValue=p(e),this.lightnessValue=p(t)})),g(this,"initRgb",(()=>{const{r:e,g:t,b:o}=this.instance.toRgb();this.redValue=p(e),this.greenValue=p(t),this.blueValue=p(o)})),g(this,"initHsb",(()=>{const{h:e,s:t,v:o}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(e)),this.saturationValue=p(t),this.brightnessValue=p(o)})),g(this,"toHexString",(()=>this.instance.toHexString())),g(this,"toRgbString",(()=>this.instance.toRgbString())),this.instance=(0,r.A)(e),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(e){return this.instance.toString(e)}get hex(){return this.instance.toHex()}set hex(e){this.instance=(0,r.A)(e),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(e){0===this.saturation&&0===this.brightness&&(this.saturationValue=1,this.brightnessValue=1),this.instance=(0,r.A)({h:p(e),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=p(e)}get hue(){return this.hueValue}set saturation(e){this.instance=(0,r.A)({h:this.hue,s:p(e),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=p(e)}get saturation(){return this.saturationValue}set brightness(e){this.instance=(0,r.A)({h:this.hue,s:this.saturation,v:p(e),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=p(e)}get brightness(){return this.brightnessValue}set lightness(e){this.instance=(0,r.A)({h:this.hue,s:this.hslSaturationValue,l:p(e),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=p(e)}get lightness(){return this.lightnessValue}set red(e){const t=this.instance.toRgb();this.instance=(0,r.A)({...t,r:p(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=p(e)}get red(){return this.redValue}set green(e){const t=this.instance.toRgb();this.instance=(0,r.A)({...t,g:p(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=p(e)}get green(){return this.greenValue}set blue(e){const t=this.instance.toRgb();this.instance=(0,r.A)({...t,b:p(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=p(e)}get blue(){return this.blueValue}set alpha(e){this.instance.setAlpha(e/100),this.alphaValue=e}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,parseFloat((this.alpha/100).toFixed(2))]}get HSB(){return[this.hue,this.saturation,this.brightness,parseFloat((this.alpha/100).toFixed(2))]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,parseFloat((this.alpha/100).toFixed(2))]}}function C(e,t,o,a){return`rgba(${[e,t,o,a/100].join(",")})`}const m=(e,t,o)=>t<o?e<t?t:e>o?o:e:e<o?o:e>t?t:e,f="color-history",y=(e,t)=>{const o=e.__vccOpts||e;for(const[e,a]of t)o[e]=a;return o},b=(0,a.defineComponent)({name:"Alpha",props:{color:s.Ay.instanceOf(v),size:s.Ay.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const o=(0,a.ref)(null),l=(0,a.ref)(null);let r=e.color||new v;const i=(0,a.reactive)({red:r.red,green:r.green,blue:r.blue,alpha:r.alpha});(0,a.watch)((()=>e.color),(e=>{e&&(r=e,(0,u.A)(i,{red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}))}),{deep:!0});const c=(0,a.computed)((()=>({background:`linear-gradient(to right, ${C(i.red,i.green,i.blue,0)} , ${C(i.red,i.green,i.blue,100)})`}))),s=()=>{if(o.value&&l.value){const e=i.alpha/100,t=o.value.getBoundingClientRect(),a=l.value.offsetWidth;return Math.round(e*(t.width-a)+a/2)}return 0},h=(0,a.computed)((()=>({left:s()+"px",top:0}))),g=e=>{if(e.stopPropagation(),o.value&&l.value){const a=o.value.getBoundingClientRect(),n=l.value.offsetWidth;let c=e.clientX-a.left;c=Math.max(n/2,c),c=Math.min(c,a.width-n/2);const s=Math.round((c-n/2)/(a.width-n)*100);r.alpha=s,i.alpha=s,t("change",s)}};return(0,n.rd)((()=>{const e={drag:e=>{g(e)},end:e=>{g(e)}};o.value&&l.value&&d.e0.triggerDragEvent(o.value,e)})),{barElement:o,cursorElement:l,getCursorStyle:h,getBackgroundStyle:c,onClickSider:e=>{e.target!==o.value&&g(e)}}}}),k=[(e=>((0,a.pushScopeId)("data-v-18925ba6"),e=e(),(0,a.popScopeId)(),e))((()=>(0,a.createElementVNode)("div",{class:"vc-alpha-slider__bar-handle"},null,-1)))];const S=y(b,[["render",function(e,t,o,n,l,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["vc-alpha-slider","transparent",{"small-slider":"small"===e.size}])},[(0,a.createElementVNode)("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:(0,a.normalizeStyle)(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-alpha-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:(0,a.normalizeStyle)(e.getCursorStyle)},k,6)],4)],2)}],["__scopeId","data-v-18925ba6"]]),B=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],V=(0,a.defineComponent)({name:"Palette",emits:["change"],setup(e,{emit:t}){return{palettes:B,computedBgStyle:e=>"transparent"===e?e:"advance"===e?{}:{background:(0,r.A)(e).toRgbString()},onColorChange:e=>{t("change",e)}}}}),A={class:"vc-compact"},N=["onClick"];const E=y(V,[["render",function(e,t,o,n,l,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",A,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.palettes,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"vc-compact__row"},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"vc-compact__color-cube--wrap",onClick:o=>e.onColorChange(t)},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-compact__color_cube",{advance:"advance"===t,transparent:"transparent"===t}]),style:(0,a.normalizeStyle)(e.computedBgStyle(t))},null,6)],8,N)))),128))])))),128))])}],["__scopeId","data-v-b969fd48"]]),_=(0,a.defineComponent)({name:"Board",props:{color:s.Ay.instanceOf(v),round:s.Ay.bool.def(!1),hide:s.Ay.bool.def(!0)},emits:["change"],setup(e,{emit:t}){var o,l,r;const i=(0,a.getCurrentInstance)(),c={h:(null==(o=e.color)?void 0:o.hue)||0,s:1,v:1},s=new v(c).toHexString(),d=(0,a.reactive)({hueColor:s,saturation:(null==(l=e.color)?void 0:l.saturation)||0,brightness:(null==(r=e.color)?void 0:r.brightness)||0}),h=(0,a.ref)(0),g=(0,a.ref)(0),p=(0,a.ref)(),C=(0,a.computed)((()=>({top:h.value+"px",left:g.value+"px"}))),f=()=>{if(i){const e=i.vnode.el;g.value=d.saturation*(null==e?void 0:e.clientWidth),h.value=(1-d.brightness)*(null==e?void 0:e.clientHeight)}};let y=!1;const b=e=>{if(i){const o=i.vnode.el,a=null==o?void 0:o.getBoundingClientRect();let n=e.clientX-a.left,l=e.clientY-a.top;n=m(n,0,a.width),l=m(l,0,a.height);const r=n/a.width,c=m(-l/a.height+1,0,1);g.value=n,h.value=l,d.saturation=r,d.brightness=c,t("change",r,c)}};return(0,n.rd)((()=>{i&&i.vnode.el&&p.value&&(0,a.nextTick)((()=>{f()}))})),(0,n.Ns)((()=>e.color),(e=>{(0,u.A)(d,{hueColor:new v({h:e.hue,s:1,v:1}).toHexString(),saturation:e.saturation,brightness:e.brightness}),f()}),{deep:!0}),{state:d,cursorElement:p,getCursorStyle:C,onClickBoard:e=>{y=!0,b(e)},onDrag:e=>{y&&b(e)},onDragEnd:()=>{y=!1}}}}),w=e=>((0,a.pushScopeId)("data-v-7f0cdcdf"),e=e(),(0,a.popScopeId)(),e),x=w((()=>(0,a.createElementVNode)("div",{class:"vc-saturation__white"},null,-1))),R=w((()=>(0,a.createElementVNode)("div",{class:"vc-saturation__black"},null,-1))),H=[w((()=>(0,a.createElementVNode)("div",null,null,-1)))];const z=y(_,[["render",function(e,t,o,n,l,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{ref:"boardElement",class:(0,a.normalizeClass)(["vc-saturation",{"vc-saturation__chrome":e.round,"vc-saturation__hidden":e.hide}]),style:(0,a.normalizeStyle)({backgroundColor:e.state.hueColor}),onMousedown:t[0]||(t[0]=(...t)=>e.onClickBoard&&e.onClickBoard(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.onDrag&&e.onDrag(...t)),onMouseup:t[2]||(t[2]=(...t)=>e.onDragEnd&&e.onDragEnd(...t))},[x,R,(0,a.createElementVNode)("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:(0,a.normalizeStyle)(e.getCursorStyle)},H,4)],38)}],["__scopeId","data-v-7f0cdcdf"]]),P=(0,a.defineComponent)({name:"Hue",props:{color:s.Ay.instanceOf(v),size:s.Ay.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const o=(0,a.ref)(null),l=(0,a.ref)(null);let r=e.color||new v;const i=(0,a.reactive)({hue:r.hue||0});(0,a.watch)((()=>e.color),(e=>{e&&(r=e,(0,u.A)(i,{hue:r.hue}))}),{deep:!0});const c=()=>{if(o.value&&l.value){const e=o.value.getBoundingClientRect(),t=l.value.offsetWidth;return 360===i.hue?e.width-t/2:i.hue%360*(e.width-t)/360+t/2}return 0},s=(0,a.computed)((()=>({left:c()+"px",top:0}))),h=e=>{if(e.stopPropagation(),o.value&&l.value){const a=o.value.getBoundingClientRect(),n=l.value.offsetWidth;let c=e.clientX-a.left;c=Math.min(c,a.width-n/2),c=Math.max(n/2,c);const s=Math.round((c-n/2)/(a.width-n)*360);r.hue=s,i.hue=s,t("change",s)}};return(0,n.rd)((()=>{const e={drag:e=>{h(e)},end:e=>{h(e)}};o.value&&l.value&&d.e0.triggerDragEvent(o.value,e)})),{barElement:o,cursorElement:l,getCursorStyle:s,onClickSider:e=>{e.target!==o.value&&h(e)}}}}),I=[(e=>((0,a.pushScopeId)("data-v-e1a08576"),e=e(),(0,a.popScopeId)(),e))((()=>(0,a.createElementVNode)("div",{class:"vc-hue-slider__bar-handle"},null,-1)))];const M=y(P,[["render",function(e,t,o,n,l,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["vc-hue-slider",{"small-slider":"small"===e.size}])},[(0,a.createElementVNode)("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-hue-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:(0,a.normalizeStyle)(e.getCursorStyle)},I,6)],512)],2)}],["__scopeId","data-v-e1a08576"]]),K=(0,a.defineComponent)({name:"Lightness",props:{color:s.Ay.instanceOf(v),size:s.Ay.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const o=(0,a.ref)(null),l=(0,a.ref)(null);let i=e.color||new v;const[c,s,h]=i.HSL,g=(0,a.reactive)({hue:c,saturation:s,lightness:h});(0,a.watch)((()=>e.color),(e=>{if(e){i=e;const[t,o,a]=i.HSL;(0,u.A)(g,{hue:t,saturation:o,lightness:a})}}),{deep:!0});const p=(0,a.computed)((()=>{const e=(0,r.A)({h:g.hue,s:g.saturation,l:.8}).toPercentageRgbString(),t=(0,r.A)({h:g.hue,s:g.saturation,l:.6}).toPercentageRgbString(),o=(0,r.A)({h:g.hue,s:g.saturation,l:.4}).toPercentageRgbString(),a=(0,r.A)({h:g.hue,s:g.saturation,l:.2}).toPercentageRgbString();return{background:[`linear-gradient(to right, rgb(255, 255, 255), ${e}, ${t}, ${o}, ${a}, rgb(0, 0, 0))`,`-webkit-linear-gradient(left, rgb(255, 255, 255), ${e}, ${t}, ${o}, ${a}, rgb(0, 0, 0))`,`-moz-linear-gradient(left, rgb(255, 255, 255), ${e}, ${t}, ${o}, ${a}, rgb(0, 0, 0))`,`-ms-linear-gradient(left, rgb(255, 255, 255), ${e}, ${t}, ${o}, ${a}, rgb(0, 0, 0))`]}})),C=()=>{if(o.value&&l.value){const e=g.lightness,t=o.value.getBoundingClientRect(),a=l.value.offsetWidth;return(1-e)*(t.width-a)+a/2}return 0},m=(0,a.computed)((()=>({left:C()+"px",top:0}))),f=e=>{if(e.stopPropagation(),o.value&&l.value){const a=o.value.getBoundingClientRect(),n=l.value.offsetWidth;let r=e.clientX-a.left;r=Math.max(n/2,r),r=Math.min(r,a.width-n/2);const c=1-(r-n/2)/(a.width-n);i.lightness=c,t("change",c)}};return(0,n.rd)((()=>{const e={drag:e=>{f(e)},end:e=>{f(e)}};o.value&&l.value&&d.e0.triggerDragEvent(o.value,e)})),{barElement:o,cursorElement:l,getCursorStyle:m,getBackgroundStyle:p,onClickSider:e=>{e.target!==o.value&&f(e)}}}}),D=[(e=>((0,a.pushScopeId)("data-v-94a50a9e"),e=e(),(0,a.popScopeId)(),e))((()=>(0,a.createElementVNode)("div",{class:"vc-lightness-slider__bar-handle"},null,-1)))];const L=y(K,[["render",function(e,t,o,n,l,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["vc-lightness-slider",{"small-slider":"small"===e.size}])},[(0,a.createElementVNode)("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:(0,a.normalizeStyle)(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-lightness-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:(0,a.normalizeStyle)(e.getCursorStyle)},D,6)],4)],2)}],["__scopeId","data-v-94a50a9e"]]),$=(0,a.defineComponent)({name:"History",props:{colors:s.Ay.arrayOf(String).def((()=>[])),round:s.Ay.bool.def(!1)},emits:["change"],setup(e,{emit:t}){return{onColorSelect:e=>{t("change",e)}}}}),T={key:0,class:"vc-colorPicker__record"},W={class:"color-list"},O=["onClick"];const F=y($,[["render",function(e,t,o,n,l,r){return e.colors&&e.colors.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",T,[(0,a.createElementVNode)("div",W,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.colors,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:(0,a.normalizeClass)(["color-item","transparent",{"color-item__round":e.round}]),onClick:o=>e.onColorSelect(t)},[(0,a.createElementVNode)("div",{class:"color-item__display",style:(0,a.normalizeStyle)({backgroundColor:t})},null,4)],10,O)))),128))])])):(0,a.createCommentVNode)("",!0)}],["__scopeId","data-v-0f657238"]]),X=(0,a.defineComponent)({name:"Display",props:{color:s.Ay.instanceOf(v),disableAlpha:s.Ay.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){var o,i,c,s;const{copy:d,copied:u,isSupported:h}=(0,l.iDZ)(),g=(0,a.ref)("hex"),p=(0,a.reactive)({color:e.color,hex:null==(o=e.color)?void 0:o.hex,alpha:Math.round((null==(i=e.color)?void 0:i.alpha)||100),rgba:null==(c=e.color)?void 0:c.RGB,previewBgColor:null==(s=e.color)?void 0:s.toRgbString()}),v=(0,a.computed)((()=>({background:p.previewBgColor}))),C=(0,n.Q0)((e=>{if(!e.target.value)return;let o=parseInt(e.target.value.replace("%",""));o>100&&(e.target.value="100",o=100),o<0&&(e.target.value="0",o=0),isNaN(o)&&(e.target.value="100",o=100),!isNaN(o)&&p.color&&(p.color.alpha=o),t("change",p.color)}),300),m=(0,n.Q0)(((e,o)=>{if(p.color)if("hex"===g.value){const o=e.target.value.replace("#","");(0,r.A)(o).isValid()?[3,4].includes(o.length)&&(p.color.hex=o):p.color.hex="000000",t("change",p.color)}else if("rgba"===g.value&&3===o&&"0."===e.target.value.toString()&&p.rgba){p.rgba[o]=e.target.value;const[a,n,l,i]=p.rgba;p.color.hex=(0,r.A)({r:a,g:n,b:l}).toHex(),p.color.alpha=Math.round(100*i),t("change",p.color)}}),100),f=(0,n.Q0)(((e,o)=>{if(e.target.value){if("hex"===g.value){const t=e.target.value.replace("#","");(0,r.A)(t).isValid()&&p.color&&[6,8].includes(t.length)&&(p.color.hex=t)}else if(void 0!==o&&p.rgba&&p.color){if(e.target.value<0&&(e.target.value=0),3===o&&((e.target.value>1||isNaN(e.target.value))&&(e.target.value=1),"0."===e.target.value.toString()))return;o<3&&e.target.value>255&&(e.target.value=255),p.rgba[o]=e.target.value;const[t,a,n,l]=p.rgba;p.color.hex=(0,r.A)({r:t,g:a,b:n}).toHex(),p.color.alpha=Math.round(100*l)}t("change",p.color)}}),300);return(0,n.Ns)((()=>e.color),(e=>{e&&(p.color=e,p.alpha=Math.round(p.color.alpha),p.hex=p.color.hex,p.rgba=p.color.RGB)}),{deep:!0}),(0,n.Ns)((()=>p.color),(()=>{p.color&&(p.previewBgColor=p.color.toRgbString())}),{deep:!0}),{state:p,getBgColorStyle:v,inputType:g,copied:u,onInputTypeChange:()=>{g.value="rgba"===g.value?"hex":"rgba"},onAlphaBlur:C,onInputChange:f,onBlurChange:m,onCopyColorStr:()=>{if(h&&p.color){const e="hex"===g.value?p.color.toString(100===p.color.alpha?"hex6":"hex8"):p.color.toRgbString();d(e||"")}}}}}),G={class:"vc-display"},q={class:"vc-current-color vc-transparent"},Q={key:0,class:"copy-text"},j={key:0,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},Y={class:"vc-color-input"},U={key:0,class:"vc-alpha-input"},Z=["value"],J={key:1,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},ee=["value","onInput","onBlur"];const te=y(X,[["render",function(e,t,o,n,l,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",G,[(0,a.createElementVNode)("div",q,[(0,a.createElementVNode)("div",{class:"color-cube",style:(0,a.normalizeStyle)(e.getBgColorStyle),onClick:t[0]||(t[0]=(...t)=>e.onCopyColorStr&&e.onCopyColorStr(...t))},[e.copied?((0,a.openBlock)(),(0,a.createElementBlock)("span",Q,"Copied!")):(0,a.createCommentVNode)("",!0)],4)]),"hex"===e.inputType?((0,a.openBlock)(),(0,a.createElementBlock)("div",j,[(0,a.createElementVNode)("div",Y,[(0,a.withDirectives)((0,a.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.hex=t),maxlength:"8",onInput:t[2]||(t[2]=(...t)=>e.onInputChange&&e.onInputChange(...t)),onBlur:t[3]||(t[3]=(...t)=>e.onBlurChange&&e.onBlurChange(...t))},null,544),[[a.vModelText,e.state.hex]])]),e.disableAlpha?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",U,[(0,a.createElementVNode)("input",{class:"vc-alpha-input__inner",value:e.state.alpha,onInput:t[4]||(t[4]=(...t)=>e.onAlphaBlur&&e.onAlphaBlur(...t))},null,40,Z),(0,a.createTextVNode)("% ")]))])):e.state.rgba?((0,a.openBlock)(),(0,a.createElementBlock)("div",J,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.state.rgba,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"vc-color-input",key:o},[(0,a.createElementVNode)("input",{value:t,onInput:t=>e.onInputChange(t,o),onBlur:t=>e.onBlurChange(t,o)},null,40,ee)])))),128))])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",{class:"vc-input-toggle",onClick:t[5]||(t[5]=(...t)=>e.onInputTypeChange&&e.onInputTypeChange(...t))},(0,a.toDisplayString)(e.inputType),1)])}],["__scopeId","data-v-7334ac20"]]),oe=(0,a.defineComponent)({name:"FkColorPicker",components:{Display:te,Alpha:S,Palette:E,Board:z,Hue:M,Lightness:L,History:F},props:{color:s.Ay.instanceOf(v),disableHistory:s.Ay.bool.def(!1),roundHistory:s.Ay.bool.def(!1),disableAlpha:s.Ay.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(e,{emit:t}){const o=e.color||new v,i=(0,a.reactive)({color:o,hex:o.toHexString(),rgb:o.toRgbString()}),c=(0,a.ref)(!1),s=(0,a.computed)((()=>({background:i.rgb}))),d=(0,l.Mjh)(f,[],{}),u=(0,n.Q0)((()=>{if(e.disableHistory)return;const t=i.color.toRgbString();if(d.value=d.value.filter((e=>!r.A.equals(e,t))),!d.value.includes(t)){for(;d.value.length>8;)d.value.pop();d.value.unshift(t)}}),500);return(0,n.Ns)((()=>e.color),(e=>{e&&(i.color=e)}),{deep:!0}),(0,n.Ns)((()=>i.color),(()=>{i.hex=i.color.hex,i.rgb=i.color.toRgbString(),u(),t("update:color",i.color),t("change",i.color)}),{deep:!0}),{state:i,advancePanelShow:c,onBack:()=>{c.value=!1,t("advanceChange",!1)},onCompactChange:e=>{"advance"===e?(c.value=!0,t("advanceChange",!0)):(i.color.hex=e,t("advanceChange",!1))},onAlphaChange:e=>{i.color.alpha=e},onHueChange:e=>{i.color.hue=e},onBoardChange:(e,t)=>{i.color.saturation=e,i.color.brightness=t},onLightChange:e=>{i.color.lightness=e},onInputChange:e=>{const t=e.target.value.replace("#","");(0,r.A)(t).isValid()&&(i.color.hex=t)},previewStyle:s,historyColors:d}}}),ae={class:"vc-fk-colorPicker"},ne={class:"vc-fk-colorPicker__inner"},le={class:"vc-fk-colorPicker__header"},re=[(e=>((0,a.pushScopeId)("data-v-48e3c224"),e=e(),(0,a.popScopeId)(),e))((()=>(0,a.createElementVNode)("div",{class:"back"},null,-1)))];const ie=y(oe,[["render",function(e,t,o,n,l,r){const i=(0,a.resolveComponent)("Palette"),c=(0,a.resolveComponent)("Board"),s=(0,a.resolveComponent)("Hue"),d=(0,a.resolveComponent)("Lightness"),u=(0,a.resolveComponent)("Alpha"),h=(0,a.resolveComponent)("Display"),g=(0,a.resolveComponent)("History");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ae,[(0,a.createElementVNode)("div",ne,[(0,a.createElementVNode)("div",le,[e.advancePanelShow?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:0,style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...t)=>e.onBack&&e.onBack(...t))},re)):(0,a.createCommentVNode)("",!0)]),e.advancePanelShow?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?((0,a.openBlock)(),(0,a.createBlock)(c,{key:1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"])):(0,a.createCommentVNode)("",!0),e.advancePanelShow?((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"])):(0,a.createCommentVNode)("",!0),e.advancePanelShow?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(d,{key:3,color:e.state.color,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(u,{key:4,color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"])),(0,a.createVNode)(h,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(g,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}],["__scopeId","data-v-48e3c224"]]),ce=(0,a.defineComponent)({name:"ChromeColorPicker",components:{Display:te,Alpha:S,Board:z,Hue:M,History:F},props:{color:s.Ay.instanceOf(v),disableHistory:s.Ay.bool.def(!1),roundHistory:s.Ay.bool.def(!1),disableAlpha:s.Ay.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){const o=e.color||new v,i=(0,a.reactive)({color:o,hex:o.toHexString(),rgb:o.toRgbString()}),c=(0,a.computed)((()=>({background:i.rgb}))),s=(0,l.Mjh)(f,[],{}),d=(0,n.Q0)((()=>{if(e.disableHistory)return;const t=i.color.toRgbString();if(s.value=s.value.filter((e=>!r.A.equals(e,t))),!s.value.includes(t)){for(;s.value.length>8;)s.value.pop();s.value.unshift(t)}}),500);return(0,n.Ns)((()=>e.color),(e=>{e&&(i.color=e)}),{deep:!0}),(0,n.Ns)((()=>i.color),(()=>{i.hex=i.color.hex,i.rgb=i.color.toRgbString(),d(),t("update:color",i.color),t("change",i.color)}),{deep:!0}),{state:i,previewStyle:c,historyColors:s,onAlphaChange:e=>{i.color.alpha=e},onHueChange:e=>{i.color.hue=e},onBoardChange:(e,t)=>{i.color.saturation=e,i.color.brightness=t},onInputChange:e=>{void 0!==e.hex&&(i.color.hex=e.hex),void 0!==e.alpha&&(i.color.alpha=e.alpha)},onCompactChange:e=>{"advance"!==e&&(i.color.hex=e)}}}}),se={class:"vc-chrome-colorPicker"},de={class:"vc-chrome-colorPicker-body"},ue={class:"chrome-controls"},he={class:"chrome-sliders"};const ge=y(ce,[["render",function(e,t,o,n,l,r){const i=(0,a.resolveComponent)("Board"),c=(0,a.resolveComponent)("Hue"),s=(0,a.resolveComponent)("Alpha"),d=(0,a.resolveComponent)("Display"),u=(0,a.resolveComponent)("History");return(0,a.openBlock)(),(0,a.createElementBlock)("div",se,[(0,a.createVNode)(i,{round:!0,hide:!1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"]),(0,a.createElementVNode)("div",de,[(0,a.createElementVNode)("div",ue,[(0,a.createElementVNode)("div",he,[(0,a.createVNode)(c,{size:"small",color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"]),e.disableAlpha?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,size:"small",color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"]))])]),(0,a.createVNode)(d,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}],["__scopeId","data-v-2611d66c"]]),pe="Vue3ColorPickerProvider";let ve=!1;const Ce={angle:{type:Number,default:0},size:{type:Number,default:16,validator:e=>e>=16},borderWidth:{type:Number,default:1,validator:e=>e>=1},borderColor:{type:String,default:"#666"}},me=(0,a.defineComponent)({name:"Angle",props:Ce,emits:["update:angle","change"],setup(e,{emit:t}){const o=(0,a.ref)(null),n=(0,a.ref)(0);(0,a.watch)((()=>e.angle),(e=>{n.value=e}));const l=(0,a.computed)((()=>({width:e.size+"px",height:e.size+"px",borderWidth:e.borderWidth+"px",borderColor:e.borderColor,transform:`rotate(${n.value}deg)`}))),r=a=>{o.value&&(n.value=((e,t)=>{const o=e.getBoundingClientRect(),a=o.left+o.width/2,n=o.top+o.height/2,l=Math.abs(a-t.clientX),r=Math.abs(n-t.clientY),i=r/Math.sqrt(Math.pow(l,2)+Math.pow(r,2)),c=Math.acos(i);let s=Math.floor(180/(Math.PI/c));return t.clientX>a&&t.clientY>n&&(s=180-s),t.clientX==a&&t.clientY>n&&(s=180),t.clientX>a&&t.clientY==n&&(s=90),t.clientX<a&&t.clientY>n&&(s=180+s),t.clientX<a&&t.clientY==n&&(s=270),t.clientX<a&&t.clientY<n&&(s=360-s),s})(o.value,a)%360,(()=>{let o=Number(n.value);isNaN(o)||(o=o>360||o<0?e.angle:o,n.value=360===o?0:o,t("update:angle",n.value),t("change",n.value))})())};return(0,a.onMounted)((()=>{const e={drag:e=>{r(e)},end:e=>{r(e)}};o.value&&((e,t)=>{const o=function(e){var o;null==(o=t.drag)||o.call(t,e)},a=function(e){var n;document.removeEventListener("mousemove",o,!1),document.removeEventListener("mouseup",a,!1),document.onselectstart=null,document.ondragstart=null,ve=!1,null==(n=t.end)||n.call(t,e)};e&&e.addEventListener("mousedown",(e=>{var n;ve||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",o,!1),document.addEventListener("mouseup",a,!1),ve=!0,null==(n=t.start)||n.call(t,e))}))})(o.value,e)})),()=>(0,a.createVNode)("div",{class:"bee-angle"},[(0,a.createVNode)("div",{class:"bee-angle__round",ref:o,style:l.value},null)])}}),fe=(0,a.defineComponent)({name:"GradientColorPicker",components:{Angle:me,Display:te,Alpha:S,Palette:E,Board:z,Hue:M,Lightness:L,History:F},props:{startColor:s.Ay.instanceOf(v).isRequired,endColor:s.Ay.instanceOf(v).isRequired,startColorStop:s.Ay.number.def(0),endColorStop:s.Ay.number.def(100),angle:s.Ay.number.def(0),type:s.Ay.oneOf(["linear","radial"]).def("linear"),disableHistory:s.Ay.bool.def(!1),roundHistory:s.Ay.bool.def(!1),disableAlpha:s.Ay.bool.def(!1),pickerType:s.Ay.oneOf(["fk","chrome"]).def("fk")},emits:["update:startColor","update:endColor","update:angle","update:startColorStop","update:endColorStop","startColorChange","endColorChange","advanceChange","angleChange","startColorStopChange","endColorStopChange","typeChange"],setup(e,{emit:t}){const o=(0,a.reactive)({startActive:!0,startColor:e.startColor,endColor:e.endColor,startColorStop:e.startColorStop,endColorStop:e.endColorStop,angle:e.angle,type:e.type,startColorRgba:e.startColor.toRgbString(),endColorRgba:e.endColor.toRgbString()}),i=(0,a.inject)(pe),c=(0,a.ref)("chrome"===e.pickerType),s=(0,a.ref)(),u=(0,a.ref)(),h=(0,a.ref)();(0,a.watch)((()=>[e.startColor,e.endColor,e.angle]),(e=>{o.startColor=e[0],o.endColor=e[1],o.angle=e[2]})),(0,a.watch)((()=>e.type),(e=>{o.type=e}));const g=(0,a.computed)({get:()=>o.startActive?o.startColor:o.endColor,set:e=>{o.startActive?o.startColor=e:o.endColor=e}}),p=(0,a.computed)((()=>{if(h.value&&s.value){const e=o.startColorStop/100,t=h.value.getBoundingClientRect(),a=s.value.offsetWidth;return Math.round(e*(t.width-a)+a/2)}return 0})),v=(0,a.computed)((()=>{if(h.value&&u.value){const e=o.endColorStop/100,t=h.value.getBoundingClientRect(),a=u.value.offsetWidth;return Math.round(e*(t.width-a)+a/2)}return 0})),C=(0,a.computed)((()=>{let e=`background: linear-gradient(${o.angle}deg, ${o.startColorRgba} ${o.startColorStop}%, ${o.endColorRgba} ${o.endColorStop}%)`;return"radial"===o.type&&(e=`background: radial-gradient(circle, ${o.startColorRgba} ${o.startColorStop}%, ${o.endColorRgba} ${o.endColorStop}%)`),e})),m=e=>{var a;if(o.startActive=!0,h.value&&s.value){const n=null==(a=h.value)?void 0:a.getBoundingClientRect();let l=e.clientX-n.left;l=Math.max(s.value.offsetWidth/2,l),l=Math.min(l,n.width-s.value.offsetWidth/2),o.startColorStop=Math.round((l-s.value.offsetWidth/2)/(n.width-s.value.offsetWidth)*100),t("update:startColorStop",o.startColorStop),t("startColorStopChange",o.startColorStop)}},y=e=>{var a;if(o.startActive=!1,h.value&&u.value){const n=null==(a=h.value)?void 0:a.getBoundingClientRect();let l=e.clientX-n.left;l=Math.max(u.value.offsetWidth/2,l),l=Math.min(l,n.width-u.value.offsetWidth/2),o.endColorStop=Math.round((l-u.value.offsetWidth/2)/(n.width-u.value.offsetWidth)*100),t("update:endColorStop",o.endColorStop),t("endColorStopChange",o.endColorStop)}},b=()=>{o.startActive?(t("update:startColor",o.startColor),t("startColorChange",o.startColor)):(t("update:endColor",o.endColor),t("endColorChange",o.endColor))},k=(0,l.Mjh)(f,[],{}),S=(0,n.Q0)((()=>{if(e.disableHistory)return;const t=g.value.toRgbString();if(k.value=k.value.filter((e=>!r.A.equals(e,t))),!k.value.includes(t)){for(;k.value.length>8;)k.value.pop();k.value.unshift(t)}}),500);return(0,n.rd)((()=>{u.value&&s.value&&(d.e0.triggerDragEvent(u.value,{drag:e=>{y(e)},end:e=>{y(e)}}),d.e0.triggerDragEvent(s.value,{drag:e=>{m(e)},end:e=>{m(e)}}))})),(0,n.Ns)((()=>o.startColor),(e=>{o.startColorRgba=e.toRgbString()}),{deep:!0}),(0,n.Ns)((()=>o.endColor),(e=>{o.endColorRgba=e.toRgbString()}),{deep:!0}),(0,n.Ns)((()=>g.value),(()=>{S()}),{deep:!0}),{startGradientRef:s,stopGradientRef:u,colorRangeRef:h,state:o,currentColor:g,getStartColorLeft:p,getEndColorLeft:v,gradientBg:C,advancePanelShow:c,onDegreeBlur:e=>{const a=e.target,n=parseInt(a.value.replace("°",""));isNaN(n)||(o.angle=n%360),t("update:angle",o.angle),t("angleChange",o.angle)},onCompactChange:e=>{"advance"===e?(c.value=!0,t("advanceChange",!0)):(g.value.hex=e,t("advanceChange",!1)),b()},onAlphaChange:e=>{g.value.alpha=e,b()},onHueChange:e=>{g.value.hue=e,b()},onBoardChange:(e,t)=>{g.value.saturation=e,g.value.brightness=t,b()},onLightChange:e=>{g.value.lightness=e,b()},historyColors:k,onBack:()=>{c.value=!1,t("advanceChange",!1)},onDegreeChange:e=>{o.angle=e,t("update:angle",o.angle),t("angleChange",o.angle)},onDisplayChange:()=>{b()},onTypeChange:()=>{o.type="linear"===o.type?"radial":"linear",t("typeChange",o.type)},lang:null==i?void 0:i.lang}}}),ye=e=>((0,a.pushScopeId)("data-v-c4d6d6ea"),e=e(),(0,a.popScopeId)(),e),be={class:"vc-gradient-picker"},ke={class:"vc-gradient-picker__header"},Se={class:"vc-gradient__types"},Be={class:"vc-gradient-wrap__types"},Ve={class:"vc-picker-degree-input vc-degree-input"},Ae={class:"vc-degree-input__control"},Ne=["value"],Ee={class:"vc-degree-input__panel"},_e={class:"vc-degree-input__disk"},we={class:"vc-gradient-picker__body"},xe={class:"vc-color-range",ref:"colorRangeRef"},Re={class:"vc-color-range__container"},He={class:"vc-gradient__stop__container"},ze=["title"],Pe=[ye((()=>(0,a.createElementVNode)("span",{class:"vc-gradient__stop--inner"},null,-1)))],Ie=["title"],Me=[ye((()=>(0,a.createElementVNode)("span",{class:"vc-gradient__stop--inner"},null,-1)))];const Ke=y(fe,[["render",function(e,t,o,n,l,r){var i,c;const s=(0,a.resolveComponent)("Angle"),d=(0,a.resolveComponent)("Board"),u=(0,a.resolveComponent)("Hue"),h=(0,a.resolveComponent)("Palette"),g=(0,a.resolveComponent)("Lightness"),p=(0,a.resolveComponent)("Alpha"),v=(0,a.resolveComponent)("Display"),C=(0,a.resolveComponent)("History");return(0,a.openBlock)(),(0,a.createElementBlock)("div",be,[(0,a.createElementVNode)("div",ke,[(0,a.createElementVNode)("div",null,[(0,a.withDirectives)((0,a.createElementVNode)("div",{class:"back",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...t)=>e.onBack&&e.onBack(...t))},null,512),[[a.vShow,"fk"===e.pickerType&&e.advancePanelShow]])]),(0,a.createElementVNode)("div",Se,[(0,a.createElementVNode)("div",Be,[((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(["linear","radial"],(o=>(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-gradient__type",{active:e.state.type===o}]),key:o,onClick:t[1]||(t[1]=(...t)=>e.onTypeChange&&e.onTypeChange(...t))},(0,a.toDisplayString)(e.lang?e.lang[o]:o),3))),64))]),(0,a.withDirectives)((0,a.createElementVNode)("div",Ve,[(0,a.createElementVNode)("div",Ae,[(0,a.createElementVNode)("input",{value:e.state.angle,onBlur:t[2]||(t[2]=(...t)=>e.onDegreeBlur&&e.onDegreeBlur(...t))},null,40,Ne),(0,a.createTextVNode)("deg ")]),(0,a.createElementVNode)("div",Ee,[(0,a.createElementVNode)("div",_e,[(0,a.createVNode)(s,{angle:e.state.angle,"onUpdate:angle":t[3]||(t[3]=t=>e.state.angle=t),size:40,onChange:e.onDegreeChange},null,8,["angle","onChange"])])])],512),[[a.vShow,"linear"===e.state.type]])])]),(0,a.createElementVNode)("div",we,[(0,a.createElementVNode)("div",xe,[(0,a.createElementVNode)("div",Re,[(0,a.createElementVNode)("div",{class:"vc-background",style:(0,a.normalizeStyle)(e.gradientBg)},null,4),(0,a.createElementVNode)("div",He,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-gradient__stop",{"vc-gradient__stop--current":e.state.startActive}]),ref:"startGradientRef",title:null==(i=e.lang)?void 0:i.start,style:(0,a.normalizeStyle)({left:e.getStartColorLeft+"px",backgroundColor:e.state.startColorRgba})},Pe,14,ze),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-gradient__stop",{"vc-gradient__stop--current":!e.state.startActive}]),ref:"stopGradientRef",title:null==(c=e.lang)?void 0:c.end,style:(0,a.normalizeStyle)({left:e.getEndColorLeft+"px",backgroundColor:e.state.endColorRgba})},Me,14,Ie)])])],512)]),e.advancePanelShow?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,color:e.currentColor,onChange:e.onBoardChange},null,8,["color","onChange"])):(0,a.createCommentVNode)("",!0),e.advancePanelShow?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,color:e.currentColor,onChange:e.onHueChange},null,8,["color","onChange"])):(0,a.createCommentVNode)("",!0),e.advancePanelShow?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(h,{key:2,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(g,{key:3,color:e.currentColor,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(p,{key:4,color:e.currentColor,onChange:e.onAlphaChange},null,8,["color","onChange"])),(0,a.createVNode)(v,{color:e.currentColor,"disable-alpha":e.disableAlpha,onChange:e.onDisplayChange},null,8,["color","disable-alpha","onChange"]),e.disableHistory?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(C,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])}],["__scopeId","data-v-c4d6d6ea"]]),De=(0,a.defineComponent)({name:"WrapContainer",props:{theme:s.Ay.oneOf(["white","black"]).def("white"),showTab:s.Ay.bool.def(!1),activeKey:s.Ay.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(e,{emit:t}){const o=(0,a.reactive)({activeKey:e.activeKey}),l=(0,a.inject)(pe);return(0,n.Ns)((()=>e.activeKey),(e=>{o.activeKey=e})),{state:o,onActiveKeyChange:e=>{o.activeKey=e,t("update:activeKey",e),t("change",e)},lang:null==l?void 0:l.lang}}}),Le={class:"vc-colorpicker--container"},$e={key:0,class:"vc-colorpicker--tabs"},Te={class:"vc-colorpicker--tabs__inner"},We={class:"vc-btn__content"},Oe={class:"vc-btn__content"};const Fe=y(De,[["render",function(e,t,o,n,l,r){var i,c;return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["vc-colorpicker",e.theme])},[(0,a.createElementVNode)("div",Le,[e.showTab?((0,a.openBlock)(),(0,a.createElementBlock)("div",$e,[(0,a.createElementVNode)("div",Te,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-colorpicker--tabs__btn",{"vc-btn-active":"pure"===e.state.activeKey}]),onClick:t[0]||(t[0]=t=>e.onActiveKeyChange("pure"))},[(0,a.createElementVNode)("button",null,[(0,a.createElementVNode)("div",We,(0,a.toDisplayString)(null==(i=e.lang)?void 0:i.pure),1)])],2),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-colorpicker--tabs__btn",{"vc-btn-active":"gradient"===e.state.activeKey}]),onClick:t[1]||(t[1]=t=>e.onActiveKeyChange("gradient"))},[(0,a.createElementVNode)("button",null,[(0,a.createElementVNode)("div",Oe,(0,a.toDisplayString)(null==(c=e.lang)?void 0:c.gradient),1)])],2),(0,a.createElementVNode)("div",{class:"vc-colorpicker--tabs__bg",style:(0,a.normalizeStyle)({width:"50%",left:`calc(${"gradient"===e.state.activeKey?50:0}%)`})},null,4)])])):(0,a.createCommentVNode)("",!0),(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)])],2)}],["__scopeId","data-v-0492277d"]]),Xe={En:{start:"Start",end:"End",pure:"Pure",gradient:"Gradient",linear:"linear",radial:"radial"},"ZH-cn":{start:"开始",end:"结束",pure:"纯色",gradient:"渐变",linear:"线性",radial:"径向"}},Ge={isWidget:s.Ay.bool.def(!1),pickerType:s.Ay.oneOf(["fk","chrome"]).def("fk"),shape:s.Ay.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:s.Ay.string.def("linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)"),format:{type:String,default:"rgb"},disableAlpha:s.Ay.bool.def(!1),disableHistory:s.Ay.bool.def(!1),roundHistory:s.Ay.bool.def(!1),useType:s.Ay.oneOf(["pure","gradient","both"]).def("pure"),activeKey:s.Ay.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:s.Ay.number.def(9999),pickerContainer:{type:[String,HTMLElement],default:"body"},debounce:s.Ay.number.def(100),theme:s.Ay.oneOf(["white","black"]).def("white"),blurClose:s.Ay.bool.def(!1),defaultPopup:s.Ay.bool.def(!1)},qe=(0,a.defineComponent)({name:"ColorPicker",components:{FkColorPicker:ie,ChromeColorPicker:ge,GradientColorPicker:Ke,WrapContainer:Fe},inheritAttrs:!1,props:Ge,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange"],setup(e,{emit:t}){(0,a.provide)(pe,{lang:(0,a.computed)((()=>Xe[e.lang||"ZH-cn"]))});const o=!!(0,a.useSlots)().extra,s=(0,a.reactive)({pureColor:e.pureColor||"",activeKey:"gradient"===e.useType?"gradient":e.activeKey,isAdvanceMode:!1}),d=new v("#000"),u=new v("#000"),h=new v(s.pureColor),g=(0,a.reactive)({startColor:d,endColor:u,startColorStop:0,endColorStop:100,angle:0,type:"linear",gradientColor:e.gradientColor}),p=(0,a.ref)(h),C=(0,a.ref)(e.defaultPopup),m=(0,a.ref)(null),f=(0,a.ref)(null);let y=null;const b=(0,a.computed)((()=>({background:"gradient"!==s.activeKey?(0,r.A)(s.pureColor).toRgbString():g.gradientColor}))),k=(0,a.computed)((()=>"gradient"===s.activeKey?Ke.name:"fk"===e.pickerType?ie.name:ge.name)),S=e=>{s.isAdvanceMode=e},B=(0,a.computed)((()=>{const t={disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,pickerType:e.pickerType};return"gradient"===s.activeKey?{...t,startColor:g.startColor,endColor:g.endColor,angle:g.angle,type:g.type,startColorStop:g.startColorStop,endColorStop:g.endColorStop,onStartColorChange:e=>{g.startColor=e,E()},onEndColorChange:e=>{g.endColor=e,E()},onStartColorStopChange:e=>{g.startColorStop=e,E()},onEndColorStopChange:e=>{g.endColorStop=e,E()},onAngleChange:e=>{g.angle=e,E()},onTypeChange:e=>{g.type=e,E()},onAdvanceChange:S}:{...t,disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,color:p.value,onChange:x,onAdvanceChange:S}})),V=()=>{C.value=!1},A=(0,n.Q0)((()=>{!e.isWidget&&e.blurClose&&V()}),100);(0,l.X2F)(f,(()=>{V()}));const N=()=>{var e,t,o,a;try{const[n]=(0,i.q)(g.gradientColor);if(n&&n.type.includes("gradient")&&n.colorStops.length>=2){const l=n.colorStops[0],r=n.colorStops[1];g.startColorStop=Number(null==(e=l.length)?void 0:e.value)||0,g.endColorStop=Number(null==(t=r.length)?void 0:t.value)||0,"linear-gradient"===n.type&&"angular"===(null==(o=n.orientation)?void 0:o.type)&&(g.angle=Number(null==(a=n.orientation)?void 0:a.value)||0),g.type=n.type.split("-")[0];const[i,c,s,d]=l.value,[u,h,p,C]=r.value;g.startColor=new v({r:Number(i),g:Number(c),b:Number(s),a:Number(d)}),g.endColor=new v({r:Number(u),g:Number(h),b:Number(p),a:Number(C)})}}catch(e){console.log(`[Parse Color]: ${e}`)}},E=(0,n.Q0)((()=>{const e=_();try{g.gradientColor=(0,i.A)(e),t("update:gradientColor",g.gradientColor),t("gradientColorChange",g.gradientColor)}catch(e){console.log(e)}}),e.debounce),_=()=>{const e=[],t=g.startColor.RGB.map((e=>e.toString())),o=g.endColor.RGB.map((e=>e.toString())),a=[{type:"rgba",value:[t[0],t[1],t[2],t[3]],length:{value:g.startColorStop+"",type:"%"}},{type:"rgba",value:[o[0],o[1],o[2],o[3]],length:{value:g.endColorStop+"",type:"%"}}];return"linear"===g.type?e.push({type:"linear-gradient",orientation:{type:"angular",value:g.angle+""},colorStops:a}):"radial"===g.type&&e.push({type:"radial-gradient",orientation:[{type:"shape",value:"circle"}],colorStops:a}),e},w=()=>{m.value&&f.value&&(y=(0,c.n4)(m.value,f.value,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{allowedAutoPlacements:["top","bottom","left","right"],rootBoundary:"viewport"}}]}))},x=t=>{p.value=t,s.pureColor=t.toString(e.format),R()},R=(0,n.Q0)((()=>{t("update:pureColor",s.pureColor),t("pureColorChange",s.pureColor)}),e.debounce);return(0,n.rd)((()=>{N(),y||w()})),(0,n.Ns)((()=>e.gradientColor),(e=>{e!=g.gradientColor&&(g.gradientColor=e)})),(0,n.Ns)((()=>g.gradientColor),(()=>{N()})),(0,n.Ns)((()=>e.activeKey),(e=>{s.activeKey=e})),(0,n.Ns)((()=>e.useType),(e=>{"gradient"!==s.activeKey&&"gradient"===e?s.activeKey="gradient":s.activeKey="pure"})),(0,n.Ns)((()=>e.pureColor),(e=>{r.A.equals(e,s.pureColor)||(s.pureColor=e,p.value=new v(e))}),{deep:!0}),{colorCubeRef:m,pickerRef:f,showPicker:C,colorInstance:p,getBgColorStyle:b,getComponentName:k,getBindArgs:B,state:s,hasExtra:o,onColorChange:x,onShowPicker:()=>{C.value=!0,y?y.update():w()},onActiveKeyChange:e=>{s.activeKey=e,t("update:activeKey",e),t("activeKeyChange",e)},onAutoClose:A}}}),Qe={key:0,class:"vc-color-extra"},je={key:0,class:"vc-color-extra"};const Ye=y(qe,[["render",function(e,t,o,n,l,r){const i=(0,a.resolveComponent)("WrapContainer");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[e.isWidget?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,"active-key":e.state.activeKey,"onUpdate:activeKey":t[0]||(t[0]=t=>e.state.activeKey=t),"show-tab":"both"===e.useType,style:(0,a.normalizeStyle)({zIndex:e.zIndex}),theme:e.theme,onChange:e.onActiveKeyChange},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e.getComponentName),(0,a.mergeProps)({key:e.getComponentName},e.getBindArgs),null,16)),e.hasExtra?((0,a.openBlock)(),(0,a.createElementBlock)("div",Qe,[(0,a.renderSlot)(e.$slots,"extra",{},void 0,!0)])):(0,a.createCommentVNode)("",!0)])),_:3},8,["active-key","show-tab","style","theme","onChange"])):(0,a.createCommentVNode)("",!0),e.isWidget?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["vc-color-wrap transparent",{round:"circle"===e.shape}]),ref:"colorCubeRef"},[(0,a.createElementVNode)("div",{class:"current-color",style:(0,a.normalizeStyle)(e.getBgColorStyle),onClick:t[1]||(t[1]=(...t)=>e.onShowPicker&&e.onShowPicker(...t))},null,4)],2),((0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:e.pickerContainer},[(0,a.withDirectives)((0,a.createElementVNode)("div",{ref:"pickerRef",style:(0,a.normalizeStyle)({zIndex:e.zIndex}),onMouseleave:t[3]||(t[3]=(...t)=>e.onAutoClose&&e.onAutoClose(...t))},[e.showPicker?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,"show-tab":"both"===e.useType&&!e.state.isAdvanceMode,theme:e.theme,"active-key":e.state.activeKey,"onUpdate:activeKey":t[2]||(t[2]=t=>e.state.activeKey=t),onChange:e.onActiveKeyChange},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e.getComponentName),(0,a.mergeProps)({key:e.getComponentName},e.getBindArgs),null,16)),e.hasExtra?((0,a.openBlock)(),(0,a.createElementBlock)("div",je,[(0,a.renderSlot)(e.$slots,"extra",{},void 0,!0)])):(0,a.createCommentVNode)("",!0)])),_:3},8,["show-tab","theme","active-key","onChange"])):(0,a.createCommentVNode)("",!0)],36),[[a.vShow,e.showPicker]])],8,["to"]))],64))],64)}],["__scopeId","data-v-354ca836"]])}}]);
"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[4153],{14447:function(e,t,n){n(44114),n(18111),n(22489),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(74084),o=n(50935),r=n(54596),d=n(4987);t.useSelect=(e,{attrs:t,emit:n},{select:c,tree:s,key:i})=>{const u=r.useNamespace("tree-select");l.watch((()=>e.data),(()=>{e.filterable&&l.nextTick((()=>{var e,t;null==(t=s.value)||t.filter(null==(e=c.value)?void 0:e.states.inputValue)}))}),{flush:"post"});return{...a.pick(l.toRefs(e),Object.keys(o.ElSelect.props)),...t,"onUpdate:modelValue":e=>n(d.UPDATE_MODEL_EVENT,e),valueKey:i,popperClass:l.computed((()=>{const t=[u.e("popper")];return e.popperClass&&t.push(e.popperClass),t.join(" ")})),filterMethod:(t="")=>{var n;e.filterMethod?e.filterMethod(t):e.remoteMethod?e.remoteMethod(t):null==(n=s.value)||n.filter(t)}}}},15122:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(73943);const a=n(1095).withInstall(l.default);t.ElTreeV2=a,t.default=a},20091:function(e,t,n){n(44114),n(18111),n(7588),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(24232);t.useFilter=function(e,t){const n=l.ref(new Set([])),o=l.ref(new Set([])),r=l.computed((()=>a.isFunction(e.filterMethod)));return{hiddenExpandIconKeySet:o,hiddenNodeKeySet:n,doFilter:function(l){var a;if(!r.value)return;const d=new Set,c=o.value,s=n.value,i=[],u=(null==(a=t.value)?void 0:a.treeNodes)||[],f=e.filterMethod;return s.clear(),function e(t){t.forEach((t=>{i.push(t),(null==f?void 0:f(l,t.data,t))?i.forEach((e=>{d.add(e.key)})):t.isLeaf&&s.add(t.key);const n=t.children;if(n&&e(n),!t.isLeaf)if(d.has(t.key)){if(n){let e=!0;for(const t of n)if(!s.has(t.key)){e=!1;break}e?c.add(t.key):c.delete(t.key)}}else s.add(t.key);i.pop()}))}(u),d},isForceHiddenExpandIcon:function(e){return o.value.has(e.key)}}}},27106:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(82236);const a=n(1095).withInstall(l.default);t.ElTreeSelect=a,t.default=a},27190:function(e,t,n){n(18111),n(7588),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(77307),o=n(49614),r=l.defineComponent({props:{data:{type:Array,default:()=>[]}},setup(e){const t=l.inject(a.selectKey);return l.watch((()=>e.data),(()=>{var n;e.data.forEach((e=>{t.states.cachedOptions.has(e.value)||t.states.cachedOptions.set(e.value,e)}));const l=(null==(n=t.selectRef)?void 0:n.querySelectorAll("input"))||[];o.isClient&&!Array.from(l).includes(document.activeElement)&&t.setSelected()}),{flush:"post",immediate:!0}),()=>{}}});t.default=r},27816:function(e,t,n){n(44114),n(18111),n(22489),n(18237),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(45905);t.useComputedData=e=>{const t=a.usePropsAlias(e),n=l.computed((()=>e.data.reduce(((e,n)=>(e[n[t.value.key]]=n)&&e),{})));return{sourceData:l.computed((()=>e.data.filter((n=>!e.modelValue.includes(n[t.value.key]))))),targetData:l.computed((()=>"original"===e.targetOrder?e.data.filter((n=>e.modelValue.includes(n[t.value.key]))):e.modelValue.reduce(((e,t)=>{const l=n.value[t];return l&&e.push(l),e}),[])))}}},30502:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(24232);function a(e){return e||0===e}function o(e){return l.isArray(e)&&e.length}t.isValidArray=o,t.isValidValue=a,t.toValidArray=function(e){return l.isArray(e)?e:a(e)?[e]:[]},t.treeEach=function e(t,n,l,a){for(let r=0;r<t.length;r++){const d=t[r];n(d,r,t,a);const c=l(d);o(c)&&e(c,n,l,d)}},t.treeFind=function e(t,n,l,a,r){for(let d=0;d<t.length;d++){const c=t[d];if(n(c,d,t,r))return a?a(c,d,t,r):c;{const t=l(c);if(o(t)){const o=e(t,n,l,a,c);if(o)return o}}}}},30657:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(10005),a=n(52608),o=n(1951),r=n(9370);const d=Symbol(),c={key:-1,level:-1,data:{}};var s=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e.CLASS="",e))(s||{}),i=(e=>(e.ADD="add",e.DELETE="delete",e))(i||{});const u={type:Number,default:26},f=l.buildProps({data:{type:l.definePropType(Array),default:()=>a.mutable([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:l.definePropType(Object),default:()=>a.mutable({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:l.definePropType(Array),default:()=>a.mutable([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:l.definePropType(Array),default:()=>a.mutable([])},indent:{type:Number,default:16},itemSize:u,icon:{type:o.iconPropType},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:l.definePropType([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:l.definePropType(Function)},perfMode:{type:Boolean,default:!0}}),p=l.buildProps({node:{type:l.definePropType(Object),default:()=>a.mutable(c)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:u}),h=l.buildProps({node:{type:l.definePropType(Object),required:!0}}),k="node-click",C="node-drop",v="node-expand",y="node-collapse",m="current-change",E="check",g="check-change",N="node-contextmenu",b={[k]:(e,t,n)=>e&&t&&n,[C]:(e,t,n)=>e&&t&&n,[v]:(e,t)=>e&&t,[y]:(e,t)=>e&&t,[m]:(e,t)=>e&&t,[E]:(e,t)=>e&&t,[g]:(e,t)=>e&&r.isBoolean(t),[N]:(e,t,n)=>e&&t&&n},_={click:(e,t)=>!(!e||!t),drop:(e,t)=>!(!e||!t),toggle:e=>!!e,check:(e,t)=>e&&r.isBoolean(t)};t.CURRENT_CHANGE=m,t.NODE_CHECK=E,t.NODE_CHECK_CHANGE=g,t.NODE_CLICK=k,t.NODE_COLLAPSE=y,t.NODE_CONTEXTMENU=N,t.NODE_DROP=C,t.NODE_EXPAND=v,t.ROOT_TREE_INJECTION_KEY=d,t.SetOperationEnum=i,t.TreeOptionsEnum=s,t.treeEmits=b,t.treeNodeContentProps=h,t.treeNodeEmits=_,t.treeNodeProps=p,t.treeProps=f},39328:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(50935);const o=l.defineComponent({extends:a.ElOption,setup(e,t){const n=a.ElOption.setup(e,t);delete n.selectOptionClick;const o=l.getCurrentInstance().proxy;return l.nextTick((()=>{n.select.states.cachedOptions.get(o.value)||n.select.onOptionCreate(o)})),l.watch((()=>t.attrs.visible),(e=>{n.states.visible=e}),{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});t.default=o},40380:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(30657),o=n(54596),r=l.defineComponent({name:"ElTreeNodeContent",props:a.treeNodeContentProps,setup(e){const t=l.inject(a.ROOT_TREE_INJECTION_KEY),n=o.useNamespace("tree");return()=>{const a=e.node,{data:o}=a;return(null==t?void 0:t.ctx.slots.default)?t.ctx.slots.default({node:a,data:o}):l.h("span",{class:n.be("node","label")},[null==a?void 0:a.label])}}});t.default=r},41976:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(63538);t.useCheckedChange=(e,t)=>({onSourceCheckedChange:(n,a)=>{e.leftChecked=n,a&&t(l.LEFT_CHECK_CHANGE_EVENT,n,a)},onTargetCheckedChange:(n,a)=>{e.rightChecked=n,a&&t(l.RIGHT_CHECK_CHANGE_EVENT,n,a)}})},45905:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601);t.usePropsAlias=e=>{const t={label:"label",key:"key",disabled:"disabled"};return l.computed((()=>({...t,...e.props})))}},47458:function(e,t,n){n(18111),n(22489),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(41703),o=n(33046),r=n(27003),d=n(63538),c=n(59677),s=n(8752),i=n(27816),u=n(56129),f=n(41976),p=n(46775),h=n(54596),k=n(84431),C=n(45905),v=n(35937),y=n(9370);const m=l.defineComponent({name:"ElTransfer"}),E=l.defineComponent({...m,props:d.transferProps,emits:d.transferEmits,setup(e,{expose:t,emit:n}){const d=e,s=l.useSlots(),{t:m}=p.useLocale(),E=h.useNamespace("transfer"),{formItem:g}=k.useFormItem(),N=l.reactive({leftChecked:[],rightChecked:[]}),b=C.usePropsAlias(d),{sourceData:_,targetData:T}=i.useComputedData(d),{onSourceCheckedChange:x,onTargetCheckedChange:O}=f.useCheckedChange(N,n),{addToLeft:P,addToRight:V}=u.useMove(d,N,n),K=l.ref(),D=l.ref(),S=l.computed((()=>2===d.buttonTexts.length)),A=l.computed((()=>d.titles[0]||m("el.transfer.titles.0"))),M=l.computed((()=>d.titles[1]||m("el.transfer.titles.1"))),w=l.computed((()=>d.filterPlaceholder||m("el.transfer.filterPlaceholder")));l.watch((()=>d.modelValue),(()=>{var e;d.validateEvent&&(null==(e=null==g?void 0:g.validate)||e.call(g,"change").catch((e=>v.debugWarn(e))))}));const B=l.computed((()=>e=>{var t;if(d.renderContent)return d.renderContent(l.h,e);const n=((null==(t=s.default)?void 0:t.call(s,{option:e}))||[]).filter((e=>e.type!==l.Comment));return n.length?n:l.h("span",e[b.value.label]||e[b.value.key])}));return t({clearQuery:e=>{switch(e){case"left":K.value.query="";break;case"right":D.value.query=""}},leftPanel:K,rightPanel:D}),(e,t)=>(l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass(l.unref(E).b())},[l.createVNode(c.default,{ref_key:"leftPanel",ref:K,data:l.unref(_),"option-render":l.unref(B),placeholder:l.unref(w),title:l.unref(A),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:d.props,onCheckedChange:l.unref(x)},{empty:l.withCtx((()=>[l.renderSlot(e.$slots,"left-empty")])),default:l.withCtx((()=>[l.renderSlot(e.$slots,"left-footer")])),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),l.createElementVNode("div",{class:l.normalizeClass(l.unref(E).e("buttons"))},[l.createVNode(l.unref(a.ElButton),{type:"primary",class:l.normalizeClass([l.unref(E).e("button"),l.unref(E).is("with-texts",l.unref(S))]),disabled:l.unref(y.isEmpty)(N.rightChecked),onClick:l.unref(P)},{default:l.withCtx((()=>[l.createVNode(l.unref(o.ElIcon),null,{default:l.withCtx((()=>[l.createVNode(l.unref(r.ArrowLeft))])),_:1}),l.unref(y.isUndefined)(e.buttonTexts[0])?l.createCommentVNode("v-if",!0):(l.openBlock(),l.createElementBlock("span",{key:0},l.toDisplayString(e.buttonTexts[0]),1))])),_:1},8,["class","disabled","onClick"]),l.createVNode(l.unref(a.ElButton),{type:"primary",class:l.normalizeClass([l.unref(E).e("button"),l.unref(E).is("with-texts",l.unref(S))]),disabled:l.unref(y.isEmpty)(N.leftChecked),onClick:l.unref(V)},{default:l.withCtx((()=>[l.unref(y.isUndefined)(e.buttonTexts[1])?l.createCommentVNode("v-if",!0):(l.openBlock(),l.createElementBlock("span",{key:0},l.toDisplayString(e.buttonTexts[1]),1)),l.createVNode(l.unref(o.ElIcon),null,{default:l.withCtx((()=>[l.createVNode(l.unref(r.ArrowRight))])),_:1})])),_:1},8,["class","disabled","onClick"])],2),l.createVNode(c.default,{ref_key:"rightPanel",ref:D,data:l.unref(T),"option-render":l.unref(B),placeholder:l.unref(w),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:l.unref(M),"default-checked":e.rightDefaultChecked,props:d.props,onCheckedChange:l.unref(O)},{empty:l.withCtx((()=>[l.renderSlot(e.$slots,"right-empty")])),default:l.withCtx((()=>[l.renderSlot(e.$slots,"right-footer")])),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var g=s.default(E,[["__file","transfer.vue"]]);t.default=g},56129:function(e,t,n){n(18111),n(22489),n(7588),n(61701),Object.defineProperty(t,"__esModule",{value:!0});var l=n(45905),a=n(4987);t.useMove=(e,t,n)=>{const o=l.usePropsAlias(e),r=(e,t,l)=>{n(a.UPDATE_MODEL_EVENT,e),n(a.CHANGE_EVENT,e,t,l)};return{addToLeft:()=>{const n=e.modelValue.slice();t.rightChecked.forEach((e=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)})),r(n,"left",t.rightChecked)},addToRight:()=>{let n=e.modelValue.slice();const l=e.data.filter((n=>{const l=n[o.value.key];return t.leftChecked.includes(l)&&!e.modelValue.includes(l)})).map((e=>e[o.value.key]));n="unshift"===e.targetOrder?l.concat(n):n.concat(l),"original"===e.targetOrder&&(n=e.data.filter((e=>n.includes(e[o.value.key]))).map((e=>e[o.value.key]))),r(n,"right",t.leftChecked)}}}},59677:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(64566),o=n(7073),r=n(27003),d=n(68847),c=n(8752),s=n(45905),i=n(97034),u=n(46775),f=n(54596),p=n(9370);const h=l.defineComponent({name:"ElTransferPanel"}),k=l.defineComponent({...h,props:d.transferPanelProps,emits:d.transferPanelEmits,setup(e,{expose:t,emit:n}){const d=e,c=l.useSlots(),h=({option:e})=>e,{t:k}=u.useLocale(),C=f.useNamespace("transfer"),v=l.reactive({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),y=s.usePropsAlias(d),{filteredData:m,checkedSummary:E,isIndeterminate:g,handleAllCheckedChange:N}=i.useCheck(d,v,n),b=l.computed((()=>!p.isEmpty(v.query)&&p.isEmpty(m.value))),_=l.computed((()=>!p.isEmpty(c.default()[0].children))),{checked:T,allChecked:x,query:O}=l.toRefs(v);return t({query:O}),(e,t)=>(l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass(l.unref(C).b("panel"))},[l.createElementVNode("p",{class:l.normalizeClass(l.unref(C).be("panel","header"))},[l.createVNode(l.unref(a.ElCheckbox),{modelValue:l.unref(x),"onUpdate:modelValue":e=>l.isRef(x)?x.value=e:null,indeterminate:l.unref(g),"validate-event":!1,onChange:l.unref(N)},{default:l.withCtx((()=>[l.createTextVNode(l.toDisplayString(e.title)+" ",1),l.createElementVNode("span",null,l.toDisplayString(l.unref(E)),1)])),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),l.createElementVNode("div",{class:l.normalizeClass([l.unref(C).be("panel","body"),l.unref(C).is("with-footer",l.unref(_))])},[e.filterable?(l.openBlock(),l.createBlock(l.unref(o.ElInput),{key:0,modelValue:l.unref(O),"onUpdate:modelValue":e=>l.isRef(O)?O.value=e:null,class:l.normalizeClass(l.unref(C).be("panel","filter")),size:"default",placeholder:e.placeholder,"prefix-icon":l.unref(r.Search),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):l.createCommentVNode("v-if",!0),l.withDirectives(l.createVNode(l.unref(a.ElCheckboxGroup),{modelValue:l.unref(T),"onUpdate:modelValue":e=>l.isRef(T)?T.value=e:null,"validate-event":!1,class:l.normalizeClass([l.unref(C).is("filterable",e.filterable),l.unref(C).be("panel","list")])},{default:l.withCtx((()=>[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(m),(t=>(l.openBlock(),l.createBlock(l.unref(a.ElCheckbox),{key:t[l.unref(y).key],class:l.normalizeClass(l.unref(C).be("panel","item")),value:t[l.unref(y).key],disabled:t[l.unref(y).disabled],"validate-event":!1},{default:l.withCtx((()=>{var n;return[l.createVNode(h,{option:null==(n=e.optionRender)?void 0:n.call(e,t)},null,8,["option"])]})),_:2},1032,["class","value","disabled"])))),128))])),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[l.vShow,!l.unref(b)&&!l.unref(p.isEmpty)(e.data)]]),l.withDirectives(l.createElementVNode("div",{class:l.normalizeClass(l.unref(C).be("panel","empty"))},[l.renderSlot(e.$slots,"empty",{},(()=>[l.createTextVNode(l.toDisplayString(l.unref(b)?l.unref(k)("el.transfer.noMatch"):l.unref(k)("el.transfer.noData")),1)]))],2),[[l.vShow,l.unref(b)||l.unref(p.isEmpty)(e.data)]])],2),l.unref(_)?(l.openBlock(),l.createElementBlock("p",{key:0,class:l.normalizeClass(l.unref(C).be("panel","footer"))},[l.renderSlot(e.$slots,"default")],2)):l.createCommentVNode("v-if",!0)],2))}});var C=c.default(k,[["__file","transfer-panel.vue"]]);t.default=C},60152:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(47458),a=n(63538);const o=n(1095).withInstall(l.default);t.LEFT_CHECK_CHANGE_EVENT=a.LEFT_CHECK_CHANGE_EVENT,t.RIGHT_CHECK_CHANGE_EVENT=a.RIGHT_CHECK_CHANGE_EVENT,t.transferCheckedChangeFn=a.transferCheckedChangeFn,t.transferEmits=a.transferEmits,t.transferProps=a.transferProps,t.ElTransfer=o,t.default=o},63538:function(e,t,n){n(18111),n(81148),Object.defineProperty(t,"__esModule",{value:!0});var l=n(74084),a=n(10005),o=n(52608),r=n(24232),d=n(4987);const c="left-check-change",s="right-check-change",i=a.buildProps({data:{type:a.definePropType(Array),default:()=>[]},titles:{type:a.definePropType(Array),default:()=>[]},buttonTexts:{type:a.definePropType(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:a.definePropType(Function)},leftDefaultChecked:{type:a.definePropType(Array),default:()=>[]},rightDefaultChecked:{type:a.definePropType(Array),default:()=>[]},renderContent:{type:a.definePropType(Function)},modelValue:{type:a.definePropType(Array),default:()=>[]},format:{type:a.definePropType(Object),default:()=>({})},filterable:Boolean,props:{type:a.definePropType(Object),default:()=>o.mutable({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),u=(e,t)=>[e,t].every(r.isArray)||r.isArray(e)&&l.isNil(t),f={[d.CHANGE_EVENT]:(e,t,n)=>[e,n].every(r.isArray)&&["left","right"].includes(t),[d.UPDATE_MODEL_EVENT]:e=>r.isArray(e),[c]:u,[s]:u};t.LEFT_CHECK_CHANGE_EVENT=c,t.RIGHT_CHECK_CHANGE_EVENT=s,t.transferCheckedChangeFn=u,t.transferEmits=f,t.transferProps=i},63759:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(33046),o=n(27003),r=n(64566),d=n(40380),c=n(30657),s=n(8752),i=n(54596),u=n(24232);const f=l.defineComponent({name:"ElTreeNode"}),p=l.defineComponent({...f,props:c.treeNodeProps,emits:c.treeNodeEmits,setup(e,{emit:t}){const n=e,s=l.inject(c.ROOT_TREE_INJECTION_KEY),f=i.useNamespace("tree"),p=l.computed((()=>{var e;return null!=(e=null==s?void 0:s.props.indent)?e:16})),h=l.computed((()=>{var e;return null!=(e=null==s?void 0:s.props.icon)?e:o.CaretRight})),k=e=>{const t=null==s?void 0:s.props.props.class;if(!t)return{};let n;if(u.isFunction(t)){const{data:l}=e;n=t(l,e)}else n=t;return u.isString(n)?{[n]:!0}:n},C=e=>{t("click",n.node,e)},v=e=>{t("drop",n.node,e)},y=()=>{t("toggle",n.node)},m=e=>{t("check",n.node,e)},E=e=>{var t,l,a,o;(null==(a=null==(l=null==(t=null==s?void 0:s.instance)?void 0:t.vnode)?void 0:l.props)?void 0:a.onNodeContextmenu)&&(e.stopPropagation(),e.preventDefault()),null==s||s.ctx.emit(c.NODE_CONTEXTMENU,e,null==(o=n.node)?void 0:o.data,n.node)};return(e,t)=>{var n,o,c;return l.openBlock(),l.createElementBlock("div",{ref:"node$",class:l.normalizeClass([l.unref(f).b("node"),l.unref(f).is("expanded",e.expanded),l.unref(f).is("current",e.current),l.unref(f).is("focusable",!e.disabled),l.unref(f).is("checked",!e.disabled&&e.checked),k(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":null==(n=e.node)?void 0:n.key,onClick:l.withModifiers(C,["stop"]),onContextmenu:E,onDragover:l.withModifiers((()=>{}),["prevent"]),onDragenter:l.withModifiers((()=>{}),["prevent"]),onDrop:l.withModifiers(v,["stop"])},[l.createElementVNode("div",{class:l.normalizeClass(l.unref(f).be("node","content")),style:l.normalizeStyle({paddingLeft:(e.node.level-1)*l.unref(p)+"px",height:e.itemSize+"px"})},[l.unref(h)?(l.openBlock(),l.createBlock(l.unref(a.ElIcon),{key:0,class:l.normalizeClass([l.unref(f).is("leaf",!!(null==(o=e.node)?void 0:o.isLeaf)),l.unref(f).is("hidden",e.hiddenExpandIcon),{expanded:!(null==(c=e.node)?void 0:c.isLeaf)&&e.expanded},l.unref(f).be("node","expand-icon")]),onClick:l.withModifiers(y,["stop"])},{default:l.withCtx((()=>[(l.openBlock(),l.createBlock(l.resolveDynamicComponent(l.unref(h))))])),_:1},8,["class","onClick"])):l.createCommentVNode("v-if",!0),e.showCheckbox?(l.openBlock(),l.createBlock(l.unref(r.ElCheckbox),{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:m,onClick:l.withModifiers((()=>{}),["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):l.createCommentVNode("v-if",!0),l.createVNode(l.unref(d.default),{node:e.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var h=s.default(p,[["__file","tree-node.vue"]]);t.default=h},63993:function(e,t,n){n(44114),n(18111),n(7588),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(30657),o=n(75261),r=n(20091),d=n(24232);t.useTree=function(e,t){const n=l.ref(new Set(e.defaultExpandedKeys)),c=l.ref(),s=l.shallowRef(),i=l.ref();l.watch((()=>e.currentNodeKey),(e=>{c.value=e}),{immediate:!0}),l.watch((()=>e.data),(e=>{H(e)}),{immediate:!0});const{isIndeterminate:u,isChecked:f,toggleCheckbox:p,getCheckedKeys:h,getCheckedNodes:k,getHalfCheckedKeys:C,getHalfCheckedNodes:v,setChecked:y,setCheckedKeys:m}=o.useCheck(e,s),{doFilter:E,hiddenNodeKeySet:g,isForceHiddenExpandIcon:N}=r.useFilter(e,s),b=l.computed((()=>{var t;return(null==(t=e.props)?void 0:t.value)||a.TreeOptionsEnum.KEY})),_=l.computed((()=>{var t;return(null==(t=e.props)?void 0:t.children)||a.TreeOptionsEnum.CHILDREN})),T=l.computed((()=>{var t;return(null==(t=e.props)?void 0:t.disabled)||a.TreeOptionsEnum.DISABLED})),x=l.computed((()=>{var t;return(null==(t=e.props)?void 0:t.label)||a.TreeOptionsEnum.LABEL})),O=l.computed((()=>{var e;const t=n.value,l=g.value,a=[],o=(null==(e=s.value)?void 0:e.treeNodes)||[],r=[];for(let e=o.length-1;e>=0;--e)r.push(o[e]);for(;r.length;){const e=r.pop();if(!l.has(e.key)&&(a.push(e),e.children&&t.has(e.key)))for(let t=e.children.length-1;t>=0;--t)r.push(e.children[t])}return a})),P=l.computed((()=>O.value.length>0));function V(e){return e[_.value]}function K(e){return e?e[b.value]:""}function D(e){return e[T.value]}function S(e){return e[x.value]}function A(e){n.value.has(e.key)?w(e):M(e)}function M(l){const o=n.value;if(s.value&&e.accordion){const{treeNodeMap:e}=s.value;o.forEach((t=>{const n=e.get(t);l&&l.level===(null==n?void 0:n.level)&&o.delete(t)}))}o.add(l.key),t(a.NODE_EXPAND,l.data,l)}function w(e){n.value.delete(e.key),t(a.NODE_COLLAPSE,e.data,e)}function B(e){const t=c.value;return void 0!==t&&t===e.key}function H(e){l.nextTick((()=>s.value=function(e){const t=new Map,n=new Map;let l=1;const a=function e(a,o=1,r){var d;const c=[];for(const l of a){const a=K(l),s={level:o,key:a,data:l};s.label=S(l),s.parent=r;const i=V(l);s.disabled=D(l),s.isLeaf=!i||0===i.length,i&&i.length&&(s.children=e(i,o+1,s)),c.push(s),t.set(a,s),n.has(o)||n.set(o,[]),null==(d=n.get(o))||d.push(s)}return o>l&&(l=o),c}(e);return{treeNodeMap:t,levelTreeNodeMap:n,maxLevel:l,treeNodes:a}}(e)))}function L(e){var t;const n=d.isObject(e)?K(e):e;return null==(t=s.value)?void 0:t.treeNodeMap.get(n)}return{tree:s,flattenTree:O,isNotEmpty:P,listRef:i,getKey:K,getChildren:V,toggleExpand:A,toggleCheckbox:p,isExpanded:function(e){return n.value.has(e.key)},isChecked:f,isIndeterminate:u,isDisabled:function(e){return!!e.disabled},isCurrent:B,isForceHiddenExpandIcon:N,handleNodeClick:function(n,l){t(a.NODE_CLICK,n.data,n,l),function(e){B(e)||(c.value=e.key,t(a.CURRENT_CHANGE,e.data,e))}(n),e.expandOnClickNode&&A(n),e.showCheckbox&&e.checkOnClickNode&&!n.disabled&&p(n,!f(n),!0)},handleNodeDrop:function(e,n){t(a.NODE_DROP,e.data,e,n)},handleNodeCheck:function(e,t){p(e,t)},getCurrentNode:function(){var e,t;if(c.value)return null==(t=null==(e=s.value)?void 0:e.treeNodeMap.get(c.value))?void 0:t.data},getCurrentKey:function(){return c.value},setCurrentKey:function(e){c.value=e},getCheckedKeys:h,getCheckedNodes:k,getHalfCheckedKeys:C,getHalfCheckedNodes:v,setChecked:y,setCheckedKeys:m,filter:function(e){const t=E(e);t&&(n.value=t)},setData:H,getNode:L,expandNode:M,collapseNode:w,setExpandedKeys:function(e){const t=new Set,l=s.value.treeNodeMap;e.forEach((e=>{let n=l.get(e);for(;n&&!t.has(n.key);)t.add(n.key),n=n.parent})),n.value=t},scrollToNode:function(e,t="auto"){const n=L(e);n&&i.value&&i.value.scrollToItem(O.value.indexOf(n),t)},scrollTo:function(e){var t;null==(t=i.value)||t.scrollTo(e)}}}},68847:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(63538),a=n(10005);const o="checked-change",r=a.buildProps({data:l.transferProps.data,optionRender:{type:a.definePropType(Function)},placeholder:String,title:String,filterable:Boolean,format:l.transferProps.format,filterMethod:l.transferProps.filterMethod,defaultChecked:l.transferProps.leftDefaultChecked,props:l.transferProps.props}),d={[o]:l.transferCheckedChangeFn};t.CHECKED_CHANGE_EVENT=o,t.transferPanelEmits=d,t.transferPanelProps=r},73943:function(e,t,n){n(18111),n(22489),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(63993),o=n(63759),r=n(30657),d=n(8752),c=n(36998),s=n(12413),i=n(46775),u=n(54596);const f=l.defineComponent({name:"ElTreeV2"}),p=l.defineComponent({...f,props:r.treeProps,emits:r.treeEmits,setup(e,{expose:t,emit:n}){const d=e,f=l.useSlots(),p=l.computed((()=>d.itemSize));l.provide(r.ROOT_TREE_INJECTION_KEY,{ctx:{emit:n,slots:f},props:d,instance:l.getCurrentInstance()}),l.provide(s.formItemContextKey,void 0);const{t:h}=i.useLocale(),k=u.useNamespace("tree"),{flattenTree:C,isNotEmpty:v,listRef:y,toggleExpand:m,isExpanded:E,isIndeterminate:g,isChecked:N,isDisabled:b,isCurrent:_,isForceHiddenExpandIcon:T,handleNodeClick:x,handleNodeDrop:O,handleNodeCheck:P,toggleCheckbox:V,getCurrentNode:K,getCurrentKey:D,setCurrentKey:S,getCheckedKeys:A,getCheckedNodes:M,getHalfCheckedKeys:w,getHalfCheckedNodes:B,setChecked:H,setCheckedKeys:L,filter:I,setData:R,getNode:j,expandNode:z,collapseNode:F,setExpandedKeys:U,scrollToNode:G,scrollTo:$}=a.useTree(d,n);return t({toggleCheckbox:V,getCurrentNode:K,getCurrentKey:D,setCurrentKey:S,getCheckedKeys:A,getCheckedNodes:M,getHalfCheckedKeys:w,getHalfCheckedNodes:B,setChecked:H,setCheckedKeys:L,filter:I,setData:R,getNode:j,expandNode:z,collapseNode:F,setExpandedKeys:U,scrollToNode:G,scrollTo:$}),(e,t)=>(l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass([l.unref(k).b(),{[l.unref(k).m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[l.unref(v)?(l.openBlock(),l.createBlock(l.unref(c.default),{key:0,ref_key:"listRef",ref:y,"class-name":l.unref(k).b("virtual-list"),data:l.unref(C),total:l.unref(C).length,height:e.height,"item-size":l.unref(p),"perf-mode":e.perfMode},{default:l.withCtx((({data:t,index:n,style:a})=>[(l.openBlock(),l.createBlock(o.default,{key:t[n].key,style:l.normalizeStyle(a),node:t[n],expanded:l.unref(E)(t[n]),"show-checkbox":e.showCheckbox,checked:l.unref(N)(t[n]),indeterminate:l.unref(g)(t[n]),"item-size":l.unref(p),disabled:l.unref(b)(t[n]),current:l.unref(_)(t[n]),"hidden-expand-icon":l.unref(T)(t[n]),onClick:l.unref(x),onToggle:l.unref(m),onCheck:l.unref(P),onDrop:l.unref(O)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))])),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(l.openBlock(),l.createElementBlock("div",{key:1,class:l.normalizeClass(l.unref(k).e("empty-block"))},[l.renderSlot(e.$slots,"empty",{},(()=>{var t;return[l.createElementVNode("span",{class:l.normalizeClass(l.unref(k).e("empty-text"))},l.toDisplayString(null!=(t=e.emptyText)?t:l.unref(h)("el.tree.emptyText")),3)]}))],2))],2))}});var h=d.default(p,[["__file","tree.vue"]]);t.default=h},75261:function(e,t,n){n(44114),n(18111),n(7588),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(30657);t.useCheck=function(e,t){const n=l.ref(new Set),o=l.ref(new Set),{emit:r}=l.getCurrentInstance();l.watch([()=>t.value,()=>e.defaultCheckedKeys],(()=>l.nextTick((()=>{p(e.defaultCheckedKeys)}))),{immediate:!0});const d=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:l,maxLevel:a}=t.value,r=n.value,d=new Set;for(let e=a-1;e>=1;--e){const t=l.get(e);t&&t.forEach((e=>{const t=e.children;if(t){let n=!0,l=!1;for(const e of t){const t=e.key;if(r.has(t))l=!0;else{if(d.has(t)){n=!1,l=!0;break}n=!1}}n?r.add(e.key):l?(d.add(e.key),r.delete(e.key)):(r.delete(e.key),d.delete(e.key))}}))}o.value=d},c=e=>n.value.has(e.key),s=(t,l,o=!0,r=!0)=>{const c=n.value,s=(t,n)=>{c[n?a.SetOperationEnum.ADD:a.SetOperationEnum.DELETE](t.key);const l=t.children;!e.checkStrictly&&l&&l.forEach((e=>{e.disabled||s(e,n)}))};s(t,l),r&&d(),o&&i(t,l)},i=(e,t)=>{const{checkedNodes:n,checkedKeys:l}=u(),{halfCheckedNodes:o,halfCheckedKeys:d}=f();r(a.NODE_CHECK,e.data,{checkedKeys:l,checkedNodes:n,halfCheckedKeys:d,halfCheckedNodes:o}),r(a.NODE_CHECK_CHANGE,e.data,t)};function u(l=!1){const a=[],o=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;n.value.forEach((t=>{const n=e.get(t);n&&(!l||l&&n.isLeaf)&&(o.push(t),a.push(n.data))}))}return{checkedKeys:o,checkedNodes:a}}function f(){const n=[],l=[];if((null==t?void 0:t.value)&&e.showCheckbox){const{treeNodeMap:e}=t.value;o.value.forEach((t=>{const a=e.get(t);a&&(l.push(t),n.push(a.data))}))}return{halfCheckedNodes:n,halfCheckedKeys:l}}function p(n){if(null==t?void 0:t.value){const{treeNodeMap:l}=t.value;if(e.showCheckbox&&l&&(null==n?void 0:n.length)>0){for(const e of n){const t=l.get(e);t&&!c(t)&&s(t,!0,!1,!1)}d()}}}return{updateCheckedKeys:d,toggleCheckbox:s,isChecked:c,isIndeterminate:e=>o.value.has(e.key),getCheckedKeys:function(e=!1){return u(e).checkedKeys},getCheckedNodes:function(e=!1){return u(e).checkedNodes},getHalfCheckedKeys:function(){return f().halfCheckedKeys},getHalfCheckedNodes:function(){return f().halfCheckedNodes},setChecked:function(n,l){if((null==t?void 0:t.value)&&e.showCheckbox){const e=t.value.treeNodeMap.get(n);e&&s(e,l,!1)}},setCheckedKeys:function(e){n.value.clear(),o.value.clear(),l.nextTick((()=>{p(e)}))}}}},82236:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(74084),o=n(50935),r=n(63507),d=n(14447),c=n(86983),s=n(27190),i=n(8752);const u=l.defineComponent({name:"ElTreeSelect",inheritAttrs:!1,props:{...o.ElSelect.props,...r.ElTree.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:i}=t,u=l.ref(),f=l.ref(),p=l.computed((()=>e.nodeKey||e.valueKey||"value")),h=d.useSelect(e,t,{select:u,tree:f,key:p}),{cacheOptions:k,...C}=c.useTree(e,t,{select:u,tree:f,key:p}),v=l.reactive({});return i(v),l.onMounted((()=>{Object.assign(v,{...a.pick(f.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...a.pick(u.value,["focus","blur","selectedLabel"])})})),()=>l.h(o.ElSelect,l.reactive({...h,ref:e=>u.value=e}),{...n,default:()=>[l.h(s.default,{data:k.value}),l.h(r.ElTree,l.reactive({...C,ref:e=>f.value=e}))]})}});var f=i.default(u,[["__file","tree-select.vue"]]);t.default=f},86983:function(e,t,n){n(44114),n(18111),n(22489),n(61701),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(74084),o=n(63507),r=n(39328),d=n(30502),c=n(45425),s=n(4987),i=n(24232),u=n(9370);t.useTree=(e,{attrs:t,slots:n,emit:f},{select:p,tree:h,key:k})=>{l.watch((()=>e.modelValue),(()=>{e.showCheckbox&&l.nextTick((()=>{const t=h.value;t&&!a.isEqual(t.getCheckedKeys(),d.toValidArray(e.modelValue))&&t.setCheckedKeys(d.toValidArray(e.modelValue))}))}),{immediate:!0,deep:!0});const C=l.computed((()=>({value:k.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props}))),v=(e,t)=>{var n;const l=C.value[e];return i.isFunction(l)?l(t,null==(n=h.value)?void 0:n.getNode(v("value",t))):t[l]},y=d.toValidArray(e.modelValue).map((t=>d.treeFind(e.data||[],(e=>v("value",e)===t),(e=>v("children",e)),((e,t,n,l)=>l&&v("value",l))))).filter((e=>d.isValidValue(e))),m=l.computed((()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const t=[];return d.treeEach(e.data.concat(e.cacheData),(e=>{const n=v("value",e);t.push({value:n,currentLabel:v("label",e),isDisabled:v("disabled",e)})}),(e=>v("children",e))),t})),E=()=>{var e;return null==(e=h.value)?void 0:e.getCheckedKeys().filter((e=>{var t;const n=null==(t=h.value)?void 0:t.getNode(e);return!a.isNil(n)&&u.isEmpty(n.childNodes)}))};return{...a.pick(l.toRefs(e),Object.keys(o.ElTree.props)),...t,nodeKey:k,expandOnClickNode:l.computed((()=>!e.checkStrictly&&e.expandOnClickNode)),defaultExpandedKeys:l.computed((()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(y):y)),renderContent:(t,{node:l,data:a,store:o})=>t(r.default,{value:v("value",a),label:v("label",a),disabled:v("disabled",a),visible:l.visible},e.renderContent?()=>e.renderContent(t,{node:l,data:a,store:o}):n.default?()=>n.default({node:l,data:a,store:o}):void 0),filterNodeMethod:(t,n,l)=>{if(e.filterNodeMethod)return e.filterNodeMethod(t,n,l);if(!t)return!0;return new RegExp(c.escapeStringRegexp(t),"i").test(v("label",n)||"")},onNodeClick:(n,l,a)=>{var o,r,d,c;if(null==(o=t.onNodeClick)||o.call(t,n,l,a),!e.showCheckbox||!e.checkOnClickNode){if(e.showCheckbox||!e.checkStrictly&&!l.isLeaf)e.expandOnClickNode&&a.proxy.handleExpandIconClick();else if(!v("disabled",n)){const e=null==(r=p.value)?void 0:r.states.options.get(v("value",n));null==(d=p.value)||d.handleOptionSelect(e)}null==(c=p.value)||c.focus()}},onCheck:(n,a)=>{var o;if(!e.showCheckbox)return;const r=v("value",n),c={};d.treeEach([h.value.store.root],(e=>c[e.key]=e),(e=>e.childNodes));const i=a.checkedKeys,u=e.multiple?d.toValidArray(e.modelValue).filter((e=>!(e in c)&&!i.includes(e))):[],k=u.concat(i);if(e.checkStrictly)f(s.UPDATE_MODEL_EVENT,e.multiple?k:k.includes(r)?r:void 0);else if(e.multiple){const e=E();f(s.UPDATE_MODEL_EVENT,u.concat(e))}else{const t=d.treeFind([n],(e=>!d.isValidArray(v("children",e))&&!v("disabled",e)),(e=>v("children",e))),l=t?v("value",t):void 0,a=d.isValidValue(e.modelValue)&&!!d.treeFind([n],(t=>v("value",t)===e.modelValue),(e=>v("children",e)));f(s.UPDATE_MODEL_EVENT,l===e.modelValue||a?void 0:l)}l.nextTick((()=>{var l;const a=d.toValidArray(e.modelValue);h.value.setCheckedKeys(a),null==(l=t.onCheck)||l.call(t,n,{checkedKeys:h.value.getCheckedKeys(),checkedNodes:h.value.getCheckedNodes(),halfCheckedKeys:h.value.getHalfCheckedKeys(),halfCheckedNodes:h.value.getHalfCheckedNodes()})})),null==(o=p.value)||o.focus()},onNodeExpand:(n,a,o)=>{var r;null==(r=t.onNodeExpand)||r.call(t,n,a,o),l.nextTick((()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&a.checked){const t={},n=h.value.getCheckedKeys();d.treeEach([h.value.store.root],(e=>t[e.key]=e),(e=>e.childNodes));const l=d.toValidArray(e.modelValue).filter((e=>!(e in t)&&!n.includes(e))),a=E();f(s.UPDATE_MODEL_EVENT,l.concat(a))}}))},cacheOptions:m}}},97034:function(e,t,n){n(44114),n(18111),n(81148),n(22489),n(7588),n(61701),Object.defineProperty(t,"__esModule",{value:!0});var l=n(99601),a=n(68847),o=n(45905),r=n(24232);t.useCheck=(e,t,n)=>{const d=o.usePropsAlias(e),c=l.computed((()=>e.data.filter((n=>{if(r.isFunction(e.filterMethod))return e.filterMethod(t.query,n);return String(n[d.value.label]||n[d.value.key]).toLowerCase().includes(t.query.toLowerCase())})))),s=l.computed((()=>c.value.filter((e=>!e[d.value.disabled])))),i=l.computed((()=>{const n=t.checked.length,l=e.data.length,{noChecked:a,hasChecked:o}=e.format;return a&&o?n>0?o.replace(/\${checked}/g,n.toString()).replace(/\${total}/g,l.toString()):a.replace(/\${total}/g,l.toString()):`${n}/${l}`})),u=l.computed((()=>{const e=t.checked.length;return e>0&&e<s.value.length})),f=()=>{const e=s.value.map((e=>e[d.value.key]));t.allChecked=e.length>0&&e.every((e=>t.checked.includes(e)))};return l.watch((()=>t.checked),((e,l)=>{if(f(),t.checkChangeByUser){const t=e.concat(l).filter((t=>!e.includes(t)||!l.includes(t)));n(a.CHECKED_CHANGE_EVENT,e,t)}else n(a.CHECKED_CHANGE_EVENT,e),t.checkChangeByUser=!0})),l.watch(s,(()=>{f()})),l.watch((()=>e.data),(()=>{const e=[],n=c.value.map((e=>e[d.value.key]));t.checked.forEach((t=>{n.includes(t)&&e.push(t)})),t.checkChangeByUser=!1,t.checked=e})),l.watch((()=>e.defaultChecked),((e,n)=>{if(n&&e.length===n.length&&e.every((e=>n.includes(e))))return;const l=[],a=s.value.map((e=>e[d.value.key]));e.forEach((e=>{a.includes(e)&&l.push(e)})),t.checkChangeByUser=!1,t.checked=l}),{immediate:!0}),{filteredData:c,checkableData:s,checkedSummary:i,isIndeterminate:u,updateAllChecked:f,handleAllCheckedChange:e=>{t.checked=e?s.value.map((e=>e[d.value.key])):[]}}}}}]);
"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[360],{90776:function(e,t,l){l.d(t,{mi:function(){return te}});l(18111),l(61701);var o=l(99601),a=l(50197),n=l(10512),i=l(813),s=(l(13579),l(29615)),r=l(99077),c=l(93513);const d=(0,o.defineComponent)({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:(0,c.DU)("select")}}});var u=(0,r.A)(d,[["render",function(e,t,l,a,n,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(e.ns.be("group","title")),style:(0,o.normalizeStyle)({...e.style,lineHeight:`${e.height}px`})},(0,o.toDisplayString)(e.item.label),7)}],["__file","group-item.vue"]]);const p={label:"label",value:"value",disabled:"disabled",options:"options"};function m(e){const t=(0,o.computed)((()=>({...p,...e.props})));return{aliasProps:t,getLabel:e=>(0,s.A)(e,t.value.label),getValue:e=>(0,s.A)(e,t.value.value),getDisabled:e=>(0,s.A)(e,t.value.disabled),getOptions:e=>(0,s.A)(e,t.value.options)}}var v=l(86484),f=l(57477),h=l(47378),g=l(20464),b=l(12251),y=l(53845),S=l(86109),w=l(12235),V=l(99180),C=l(58501),x=l(92056);const k=(0,h.b_)({allowCreate:Boolean,autocomplete:{type:(0,h.jq)(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:g.Ze,default:f.R$5},effect:{type:(0,h.jq)(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:(0,h.jq)([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:(0,h.jq)(Array),required:!0},placeholder:{type:String},teleported:b.E.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:(0,h.jq)(Object),default:()=>({})},remote:Boolean,size:y.mU,props:{type:(0,h.jq)(Object),default:()=>p},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:(0,h.jq)(String),values:v.DD,default:"bottom-start"},fallbackPlacements:{type:(0,h.jq)(Array),default:["bottom-start","top-start","right","left"]},tagType:{...S.z.type,default:"info"},tagEffect:{...S.z.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return(0,w.Lm)(e)||(0,w.Et)(e)}},...V.bs,...(0,C.l)(["ariaLabel"])}),O=(0,h.b_)({data:Array,disabled:Boolean,hovering:Boolean,item:{type:(0,h.jq)(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),B={[x.l4]:e=>!0,[x.YU]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},N={hover:e=>(0,w.Et)(e),select:(e,t)=>!0},I=Symbol("ElSelectV2Injection"),T=(0,o.defineComponent)({props:O,emits:N,setup(e,{emit:t}){const l=(0,o.inject)(I),a=(0,c.DU)("select"),{hoverItem:n,selectOptionClick:i}=function(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}(e,{emit:t}),{getLabel:s}=m(l.props);return{ns:a,hoverItem:n,selectOptionClick:i,getLabel:s}}});var E=(0,r.A)(T,[["render",function(e,t,l,a,n,i){return(0,o.openBlock)(),(0,o.createElementBlock)("li",{"aria-selected":e.selected,style:(0,o.normalizeStyle)(e.style),class:(0,o.normalizeClass)([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:(0,o.withModifiers)(e.selectOptionClick,["stop"])},[(0,o.renderSlot)(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},(()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.getLabel(e.item)),1)]))],46,["aria-selected","onMousemove","onClick"])}],["__file","option-item.vue"]]),z=l(57007),R=l(55862),M=l(10515),D=l(24232);const A={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var L=(0,o.defineComponent)({name:"ElSelectDropdown",props:A,setup(e,{slots:t,expose:l}){const a=(0,o.inject)(I),n=(0,c.DU)("select"),{getLabel:i,getValue:r,getDisabled:d}=m(a.props),p=(0,o.ref)([]),v=(0,o.ref)(),f=(0,o.computed)((()=>e.data.length));(0,o.watch)((()=>f.value),(()=>{var e,t;null==(t=(e=a.tooltipRef.value).updatePopper)||t.call(e)}));const h=(0,o.computed)((()=>(0,w.b0)(a.props.estimatedOptionHeight))),g=(0,o.computed)((()=>h.value?{itemSize:a.props.itemHeight}:{estimatedSize:a.props.estimatedOptionHeight,itemSize:e=>p.value[e]})),b=(e,t)=>a.props.multiple?((e=[],t)=>{const{props:{valueKey:l}}=a;return(0,D.isObject)(t)?e&&e.some((e=>(0,o.toRaw)((0,s.A)(e,l))===(0,s.A)(t,l))):e.includes(t)})(e,r(t)):((e,t)=>{if((0,D.isObject)(t)){const{valueKey:l}=a.props;return(0,s.A)(e,l)===(0,s.A)(t,l)}return e===t})(e,r(t)),y=(e,t)=>{const{disabled:l,multiple:o,multipleLimit:n}=a.props;return l||!t&&!!o&&n>0&&e.length>=n},S=t=>e.hoveringIndex===t;l({listRef:v,isSized:h,isItemDisabled:y,isItemHovering:S,isItemSelected:b,scrollToItem:e=>{const t=v.value;t&&t.scrollToItem(e)},resetScrollTop:()=>{const e=v.value;e&&e.resetScrollTop()}});const V=e=>{const{index:l,data:n,style:s}=e,r=(0,o.unref)(h),{itemSize:c,estimatedSize:p}=(0,o.unref)(g),{modelValue:m}=a.props,{onSelect:v,onHover:f}=a,w=n[l];if("Group"===w.type)return(0,o.createVNode)(u,{item:w,style:s,height:r?c:p},null);const V=b(m,w),C=y(m,V),x=S(l);return(0,o.createVNode)(E,(0,o.mergeProps)(e,{selected:V,disabled:d(w)||C,created:!!w.created,hovering:x,item:w,onSelect:v,onHover:f}),{default:e=>{var l;return(null==(l=t.default)?void 0:l.call(t,e))||(0,o.createVNode)("span",null,[i(w)])}})},{onKeyboardNavigate:C,onKeyboardSelect:x}=a,k=e=>{const{code:t}=e,{tab:l,esc:o,down:a,up:n,enter:i,numpadEnter:s}=M.R;switch(t!==l&&(e.preventDefault(),e.stopPropagation()),t){case l:case o:break;case a:C("forward");break;case n:C("backward");break;case i:case s:x()}};return()=>{var l,i,s,r;const{data:c,width:d}=e,{height:u,multiple:p,scrollbarAlwaysOn:m}=a.props,f=(0,o.unref)(h)?z.A:R.A;return(0,o.createVNode)("div",{class:[n.b("dropdown"),n.is("multiple",p)],style:{width:`${d}px`}},[null==(l=t.header)?void 0:l.call(t),(null==(i=t.loading)?void 0:i.call(t))||(null==(s=t.empty)?void 0:s.call(t))||(0,o.createVNode)(f,(0,o.mergeProps)({ref:v},(0,o.unref)(g),{className:n.be("dropdown","list"),scrollbarAlwaysOn:m,data:c,height:u,width:d,total:c.length,onKeydown:k}),{default:e=>(0,o.createVNode)(V,e,null)}),null==(r=t.footer)?void 0:r.call(t)])}}}),K=(l(44114),l(81148),l(22489),l(20116),l(7588),l(18237),l(49780)),F=l(39195),H=l(42762),j=l(91737);function $(e,t){const{aliasProps:l,getLabel:a,getValue:n}=m(e),i=(0,o.ref)(0),s=(0,o.ref)(),r=(0,o.computed)((()=>e.allowCreate&&e.filterable));return{createNewOption:function(o){if(r.value)if(o&&o.length>0){if(function(l){const o=e=>a(e)===l;return e.options&&e.options.some(o)||t.createdOptions.some(o)}(o))return;const n={[l.value.value]:o,[l.value.label]:o,created:!0,[l.value.disabled]:!1};t.createdOptions.length>=i.value?t.createdOptions[i.value]=n:t.createdOptions.push(n)}else if(e.multiple)t.createdOptions.length=i.value;else{const e=s.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}},removeNewOption:function(l){if(!r.value||!l||!l.created||l.created&&e.reserveKeyword&&t.inputValue===a(l))return;const o=t.createdOptions.findIndex((e=>n(e)===n(l)));~o&&(t.createdOptions.splice(o,1),i.value--)},selectNewOption:function(t){r.value&&(e.multiple&&t.created?i.value++:s.value=t)},clearAllNewOption:function(){r.value&&(t.createdOptions.length=0,i.value=0)}}}var _=l(36268),P=l(44216),W=l(73370),U=l(61939),q=l(37207),Y=l(86894),G=l(4642);const Q=(e,t)=>{const{t:l}=(0,_.Ym)(),a=(0,c.DU)("select"),n=(0,c.DU)("input"),{form:i,formItem:r}=(0,P.j)(),{inputId:d}=(0,P.W)(e,{formItemContext:r}),{aliasProps:u,getLabel:p,getValue:v,getDisabled:h,getOptions:b}=m(e),{valueOnClear:y,isEmptyValue:S}=(0,V.fQ)(e),C=(0,o.reactive)({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),k=(0,o.ref)(-1),O=(0,o.ref)(),B=(0,o.ref)(),N=(0,o.ref)(),I=(0,o.ref)(),T=(0,o.ref)(),E=(0,o.ref)(),z=(0,o.ref)(),R=(0,o.ref)(),A=(0,o.ref)(),L=(0,o.ref)(),{isComposing:Q,handleCompositionStart:Z,handleCompositionEnd:J,handleCompositionUpdate:X}=(0,W.o)({afterComposition:e=>tt(e)}),{wrapperRef:ee,isFocused:te,handleBlur:le}=(0,U.K)(T,{beforeFocus(){return ie.value},afterFocus(){e.automaticDropdown&&!ne.value&&(ne.value=!0,C.menuVisibleOnFocus=!0)},beforeBlur(e){var t,l;return(null==(t=N.value)?void 0:t.isFocusInsideContent(e))||(null==(l=I.value)?void 0:l.isFocusInsideContent(e))},afterBlur(){ne.value=!1,C.menuVisibleOnFocus=!1}}),oe=(0,o.ref)([]),ae=(0,o.ref)([]),ne=(0,o.ref)(!1),ie=(0,o.computed)((()=>e.disabled||(null==i?void 0:i.disabled))),se=(0,o.computed)((()=>{var e;return null!=(e=null==i?void 0:i.statusIcon)&&e})),re=(0,o.computed)((()=>{const t=ae.value.length*e.itemHeight;return t>e.height?e.height:t})),ce=(0,o.computed)((()=>e.multiple?(0,D.isArray)(e.modelValue)&&e.modelValue.length>0:!S(e.modelValue))),de=(0,o.computed)((()=>e.clearable&&!ie.value&&C.inputHovering&&ce.value)),ue=(0,o.computed)((()=>e.remote&&e.filterable?"":f.yd$)),pe=(0,o.computed)((()=>ue.value&&a.is("reverse",ne.value))),me=(0,o.computed)((()=>(null==r?void 0:r.validateState)||"")),ve=(0,o.computed)((()=>{if(me.value)return g.vK[me.value]})),fe=(0,o.computed)((()=>e.remote?300:0)),he=(0,o.computed)((()=>e.loading?e.loadingText||l("el.select.loading"):!(e.remote&&!C.inputValue&&0===oe.value.length)&&(e.filterable&&C.inputValue&&oe.value.length>0&&0===ae.value.length?e.noMatchText||l("el.select.noMatch"):0===oe.value.length?e.noDataText||l("el.select.noData"):null))),ge=t=>{const l=l=>{if(e.filterable&&(0,D.isFunction)(e.filterMethod))return!0;if(e.filterable&&e.remote&&(0,D.isFunction)(e.remoteMethod))return!0;const o=new RegExp((0,G.qr)(t),"i");return!t||o.test(p(l)||"")};return e.loading?[]:[...C.createdOptions,...e.options].reduce(((t,o)=>{const a=b(o);if((0,D.isArray)(a)){const e=a.filter(l);e.length>0&&t.push({label:p(o),type:"Group"},...e)}else(e.remote||l(o))&&t.push(o);return t}),[])},be=()=>{oe.value=ge(""),ae.value=ge(C.inputValue)},ye=(0,o.computed)((()=>{const e=new Map;return oe.value.forEach(((t,l)=>{e.set(Ue(v(t)),{option:t,index:l})})),e})),Se=(0,o.computed)((()=>{const e=new Map;return ae.value.forEach(((t,l)=>{e.set(Ue(v(t)),{option:t,index:l})})),e})),we=(0,o.computed)((()=>ae.value.every((e=>h(e))))),Ve=(0,q.NV)(),Ce=(0,o.computed)((()=>"small"===Ve.value?"small":"default")),xe=()=>{var t;if((0,w.Et)(e.fitInputWidth))return void(k.value=e.fitInputWidth);const l=(null==(t=O.value)?void 0:t.offsetWidth)||200;!e.fitInputWidth&&oe.value.length>0?(0,o.nextTick)((()=>{k.value=Math.max(l,ke())})):k.value=l},ke=()=>{var e,t;const l=document.createElement("canvas").getContext("2d"),o=a.be("dropdown","item"),n=((null==(t=null==(e=R.value)?void 0:e.listRef)?void 0:t.innerRef)||document).querySelector(`.${o}`);if(null===n||null===l)return 0;const i=getComputedStyle(n),s=Number.parseFloat(i.paddingLeft)+Number.parseFloat(i.paddingRight);l.font=i.font;return ae.value.reduce(((e,t)=>{const o=l.measureText(p(t));return Math.max(o.width,e)}),0)+s},Oe=(0,o.computed)((()=>{const t=(()=>{if(!B.value)return 0;const e=window.getComputedStyle(B.value);return Number.parseFloat(e.gap||"6px")})();return{maxWidth:`${L.value&&1===e.maxCollapseTags?C.selectionWidth-C.collapseItemWidth-t:C.selectionWidth}px`}})),Be=(0,o.computed)((()=>({maxWidth:`${C.selectionWidth}px`}))),Ne=(0,o.computed)((()=>(0,D.isArray)(e.modelValue)?0===e.modelValue.length&&!C.inputValue:!e.filterable||!C.inputValue)),Ie=(0,o.computed)((()=>{var t;const o=null!=(t=e.placeholder)?t:l("el.select.placeholder");return e.multiple||!ce.value?o:C.selectedLabel})),Te=(0,o.computed)((()=>{var e,t;return null==(t=null==(e=N.value)?void 0:e.popperRef)?void 0:t.contentRef})),Ee=(0,o.computed)((()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0&&Se.value.has(e.modelValue[t-1])){const{index:l}=Se.value.get(e.modelValue[t-1]);return l}}else if(!S(e.modelValue)&&Se.value.has(e.modelValue)){const{index:t}=Se.value.get(e.modelValue);return t}return-1})),ze=(0,o.computed)({get(){return ne.value&&!1!==he.value},set(e){ne.value=e}}),Re=(0,o.computed)((()=>e.multiple?e.collapseTags?C.cachedOptions.slice(0,e.maxCollapseTags):C.cachedOptions:[])),Me=(0,o.computed)((()=>e.multiple&&e.collapseTags?C.cachedOptions.slice(e.maxCollapseTags):[])),{createNewOption:De,removeNewOption:Ae,selectNewOption:Le,clearAllNewOption:Ke}=$(e,C),Fe=()=>{ie.value||(C.menuVisibleOnFocus?C.menuVisibleOnFocus=!1:ne.value=!ne.value)},He=()=>{C.inputValue.length>0&&!ne.value&&(ne.value=!0),De(C.inputValue),$e(C.inputValue)},je=(0,K.A)(He,fe.value),$e=t=>{C.previousQuery===t||Q.value||(C.previousQuery=t,e.filterable&&(0,D.isFunction)(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&(0,D.isFunction)(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&ae.value.length?(0,o.nextTick)(_e):(0,o.nextTick)(et))},_e=()=>{const e=ae.value.filter((e=>!e.disabled&&"Group"!==e.type)),t=e.find((e=>e.created)),l=e[0];C.hoveringIndex=We(ae.value,t||l)},Pe=l=>{t(x.l4,l),(l=>{(0,F.A)(e.modelValue,l)||t(x.YU,l)})(l),C.previousValue=e.multiple?String(l):l},We=(t=[],l)=>{if(!(0,D.isObject)(l))return t.indexOf(l);const o=e.valueKey;let a=-1;return t.some(((e,t)=>(0,s.A)(e,o)===(0,s.A)(l,o)&&(a=t,!0))),a},Ue=t=>(0,D.isObject)(t)?(0,s.A)(t,e.valueKey):t,qe=()=>{xe()},Ye=()=>{C.selectionWidth=B.value.getBoundingClientRect().width},Ge=()=>{var e,t;null==(t=null==(e=N.value)?void 0:e.updatePopper)||t.call(e)},Qe=()=>{var e,t;null==(t=null==(e=I.value)?void 0:e.updatePopper)||t.call(e)},Ze=t=>{if(e.multiple){let l=e.modelValue.slice();const o=We(l,v(t));o>-1?(l=[...l.slice(0,o),...l.slice(o+1)],C.cachedOptions.splice(o,1),Ae(t)):(e.multipleLimit<=0||l.length<e.multipleLimit)&&(l=[...l,v(t)],C.cachedOptions.push(t),Le(t)),Pe(l),t.created&&$e(""),e.filterable&&!e.reserveKeyword&&(C.inputValue="")}else C.selectedLabel=p(t),Pe(v(t)),ne.value=!1,Le(t),t.created||Ke();Je()},Je=()=>{var e;null==(e=T.value)||e.focus()},Xe=(e,t=void 0)=>{const l=ae.value;if(!["forward","backward"].includes(e)||ie.value||l.length<=0||we.value||Q.value)return;if(!ne.value)return Fe();void 0===t&&(t=C.hoveringIndex);let o=-1;"forward"===e?(o=t+1,o>=l.length&&(o=0)):"backward"===e&&(o=t-1,(o<0||o>=l.length)&&(o=l.length-1));const a=l[o];if(h(a)||"Group"===a.type)return Xe(e,o);C.hoveringIndex=o,lt(o)},et=()=>{e.multiple?C.hoveringIndex=ae.value.findIndex((t=>e.modelValue.some((e=>Ue(e)===Ue(t))))):C.hoveringIndex=ae.value.findIndex((t=>Ue(t)===Ue(e.modelValue)))},tt=t=>{if(C.inputValue=t.target.value,!e.remote)return He();je()},lt=e=>{R.value.scrollToItem(e)},ot=(e,t)=>{const l=Ue(e);if(ye.value.has(l)){const{option:e}=ye.value.get(l);return e}if(t&&t.length){const e=t.find((e=>Ue(v(e))===l));if(e)return e}return{[u.value.value]:e,[u.value.label]:e}},at=(t=!1)=>{if(e.multiple)if(e.modelValue.length>0){const t=C.cachedOptions.slice();C.cachedOptions.length=0,C.previousValue=e.modelValue.toString();for(const l of e.modelValue){const e=ot(l,t);C.cachedOptions.push(e)}}else C.cachedOptions=[],C.previousValue=void 0;else if(ce.value){C.previousValue=e.modelValue;const l=ae.value,o=l.findIndex((t=>Ue(v(t))===Ue(e.modelValue)));~o?C.selectedLabel=p(l[o]):C.selectedLabel&&!t||(C.selectedLabel=Ue(e.modelValue))}else C.selectedLabel="",C.previousValue=void 0;Ke(),xe()};return(0,o.watch)((()=>e.fitInputWidth),(()=>{xe()})),(0,o.watch)(ne,(l=>{l?(e.persistent||xe(),$e("")):(C.inputValue="",C.previousQuery=null,C.isBeforeHide=!0,De("")),t("visible-change",l)})),(0,o.watch)((()=>e.modelValue),((t,l)=>{var o;(!t||(0,D.isArray)(t)&&0===t.length||e.multiple&&!(0,F.A)(t.toString(),C.previousValue)||!e.multiple&&Ue(t)!==Ue(C.previousValue))&&at(!0),!(0,F.A)(t,l)&&e.validateEvent&&(null==(o=null==r?void 0:r.validate)||o.call(r,"change").catch((e=>(0,Y.U)(e))))}),{deep:!0}),(0,o.watch)((()=>e.options),(()=>{const e=T.value;(!e||e&&document.activeElement!==e)&&at()}),{deep:!0,flush:"post"}),(0,o.watch)((()=>ae.value),(()=>(xe(),R.value&&(0,o.nextTick)(R.value.resetScrollTop)))),(0,o.watchEffect)((()=>{C.isBeforeHide||be()})),(0,o.watchEffect)((()=>{const{valueKey:t,options:l}=e,o=new Map;for(const e of l){const l=v(e);let a=l;if((0,D.isObject)(a)&&(a=(0,s.A)(l,t)),o.get(a)){(0,Y.U)("ElSelectV2","The option values you provided seem to be duplicated, which may cause some problems, please check.");break}o.set(a,!0)}})),(0,o.onMounted)((()=>{at()})),(0,j.wYm)(O,qe),(0,j.wYm)(B,Ye),(0,j.wYm)(R,Ge),(0,j.wYm)(ee,Ge),(0,j.wYm)(A,Qe),(0,j.wYm)(L,(()=>{C.collapseItemWidth=L.value.getBoundingClientRect().width})),{inputId:d,collapseTagSize:Ce,currentPlaceholder:Ie,expanded:ne,emptyText:he,popupHeight:re,debounce:fe,allOptions:oe,filteredOptions:ae,iconComponent:ue,iconReverse:pe,tagStyle:Oe,collapseTagStyle:Be,popperSize:k,dropdownMenuVisible:ze,hasModelValue:ce,shouldShowPlaceholder:Ne,selectDisabled:ie,selectSize:Ve,needStatusIcon:se,showClearBtn:de,states:C,isFocused:te,nsSelect:a,nsInput:n,inputRef:T,menuRef:R,tagMenuRef:A,tooltipRef:N,tagTooltipRef:I,selectRef:O,wrapperRef:ee,selectionRef:B,prefixRef:E,suffixRef:z,collapseItemRef:L,popperRef:Te,validateState:me,validateIcon:ve,showTagList:Re,collapseTagList:Me,debouncedOnInputChange:je,deleteTag:(l,o)=>{let a=e.modelValue.slice();const n=We(a,v(o));n>-1&&!ie.value&&(a=[...e.modelValue.slice(0,n),...e.modelValue.slice(n+1)],C.cachedOptions.splice(n,1),Pe(a),t("remove-tag",v(o)),Ae(o)),l.stopPropagation(),Je()},getLabel:p,getValue:v,getDisabled:h,getValueKey:Ue,handleClear:()=>{let l;l=(0,D.isArray)(e.modelValue)?[]:y.value,e.multiple?C.cachedOptions=[]:C.selectedLabel="",ne.value=!1,Pe(l),t("clear"),Ke(),Je()},handleClickOutside:e=>{if(ne.value=!1,te.value){const t=new FocusEvent("focus",e);le(t)}},handleDel:l=>{var o;if(e.multiple&&(l.code!==M.R.delete&&0===C.inputValue.length)){l.preventDefault();const a=e.modelValue.slice(),n=(o=a,(0,H.A)(o,(e=>!C.cachedOptions.some((t=>v(t)===e&&h(t))))));if(n<0)return;const i=a[n];a.splice(n,1);const s=C.cachedOptions[n];C.cachedOptions.splice(n,1),Ae(s),Pe(a),t("remove-tag",i)}},handleEsc:()=>{C.inputValue.length>0?C.inputValue="":ne.value=!1},focus:Je,blur:()=>{var e;if(ne.value)return ne.value=!1,void(0,o.nextTick)((()=>{var e;return null==(e=T.value)?void 0:e.blur()}));null==(e=T.value)||e.blur()},handleMenuEnter:()=>(C.isBeforeHide=!1,(0,o.nextTick)((()=>{~Ee.value&&lt(C.hoveringIndex)}))),handleResize:qe,resetSelectionWidth:Ye,updateTooltip:Ge,updateTagTooltip:Qe,updateOptions:be,toggleMenu:Fe,scrollTo:lt,onInput:tt,onKeyboardNavigate:Xe,onKeyboardSelect:()=>{if(!ne.value)return Fe();~C.hoveringIndex&&ae.value[C.hoveringIndex]&&Ze(ae.value[C.hoveringIndex])},onSelect:Ze,onHover:e=>{C.hoveringIndex=null!=e?e:-1},handleCompositionStart:Z,handleCompositionEnd:J,handleCompositionUpdate:X}};var Z=l(72142),J=l(3337);const X=(0,o.defineComponent)({name:"ElSelectV2",components:{ElSelectMenu:L,ElTag:n.u,ElTooltip:a.R7,ElIcon:i.tk},directives:{ClickOutside:Z.A},props:k,emits:B,setup(e,{emit:t}){const l=(0,o.computed)((()=>{const{modelValue:t,multiple:l}=e,o=l?[]:void 0;return(0,D.isArray)(t)?l?t:o:l?o:t})),a=Q((0,o.reactive)({...(0,o.toRefs)(e),modelValue:l}),t),{calculatorRef:n,inputStyle:i}=(0,J.v)();(0,o.provide)(I,{props:(0,o.reactive)({...(0,o.toRefs)(e),height:a.popupHeight,modelValue:l}),expanded:a.expanded,tooltipRef:a.tooltipRef,onSelect:a.onSelect,onHover:a.onHover,onKeyboardNavigate:a.onKeyboardNavigate,onKeyboardSelect:a.onKeyboardSelect});const s=(0,o.computed)((()=>e.multiple?a.states.cachedOptions.map((e=>e.label)):a.states.selectedLabel));return{...a,modelValue:l,selectedLabel:s,calculatorRef:n,inputStyle:i}}});var ee=(0,r.A)(X,[["render",function(e,t,l,a,n,i){const s=(0,o.resolveComponent)("el-tag"),r=(0,o.resolveComponent)("el-tooltip"),c=(0,o.resolveComponent)("el-icon"),d=(0,o.resolveComponent)("el-select-menu"),u=(0,o.resolveDirective)("click-outside");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{ref:"selectRef",class:(0,o.normalizeClass)([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t=>e.states.inputHovering=!0,onMouseleave:t=>e.states.inputHovering=!1},[(0,o.createVNode)(r,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t=>e.states.isBeforeHide=!1},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{ref:"wrapperRef",class:(0,o.normalizeClass)([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:(0,o.withModifiers)(e.toggleMenu,["prevent"])},[e.$slots.prefix?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,ref:"prefixRef",class:(0,o.normalizeClass)(e.nsSelect.e("prefix"))},[(0,o.renderSlot)(e.$slots,"prefix")],2)):(0,o.createCommentVNode)("v-if",!0),(0,o.createElementVNode)("div",{ref:"selectionRef",class:(0,o.normalizeClass)([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?(0,o.renderSlot)(e.$slots,"tag",{key:0},(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.showTagList,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.getValueKey(e.getValue(t)),class:(0,o.normalizeClass)(e.nsSelect.e("selected-item"))},[(0,o.createVNode)(s,{closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:(0,o.normalizeStyle)(e.tagStyle),onClose:l=>e.deleteTag(l,t)},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(e.nsSelect.e("tags-text"))},[(0,o.renderSlot)(e.$slots,"label",{label:e.getLabel(t),value:e.getValue(t)},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.getLabel(t)),1)]))],2)])),_:2},1032,["closable","size","type","effect","style","onClose"])],2)))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{ref:"collapseItemRef",class:(0,o.normalizeClass)(e.nsSelect.e("selected-item"))},[(0,o.createVNode)(s,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:(0,o.normalizeStyle)(e.collapseTagStyle),"disable-transitions":""},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(e.nsSelect.e("tags-text"))}," + "+(0,o.toDisplayString)(e.modelValue.length-e.maxCollapseTags),3)])),_:1},8,["size","type","effect","style"])],2)])),content:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{ref:"tagMenuRef",class:(0,o.normalizeClass)(e.nsSelect.e("selection"))},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.collapseTagList,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.getValueKey(e.getValue(t)),class:(0,o.normalizeClass)(e.nsSelect.e("selected-item"))},[(0,o.createVNode)(s,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(e.nsSelect.e("tags-text"))},[(0,o.renderSlot)(e.$slots,"label",{label:e.getLabel(t),value:e.getValue(t)},(()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.getLabel(t)),1)]))],2)])),_:2},1032,["closable","size","type","effect","onClose"])],2)))),128))],2)])),_:3},8,["disabled","effect","teleported"])):(0,o.createCommentVNode)("v-if",!0)])):(0,o.createCommentVNode)("v-if",!0),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t=>e.states.inputValue=t,style:(0,o.normalizeStyle)(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:(0,o.normalizeClass)([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[(0,o.withKeys)((0,o.withModifiers)((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"]),(0,o.withKeys)((0,o.withModifiers)((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"]),(0,o.withKeys)((0,o.withModifiers)(e.onKeyboardSelect,["stop","prevent"]),["enter"]),(0,o.withKeys)((0,o.withModifiers)(e.handleEsc,["stop","prevent"]),["esc"]),(0,o.withKeys)((0,o.withModifiers)(e.handleDel,["stop"]),["delete"])],onClick:(0,o.withModifiers)(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[o.vModelText,e.states.inputValue]]),e.filterable?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:(0,o.normalizeClass)(e.nsSelect.e("input-calculator")),textContent:(0,o.toDisplayString)(e.states.inputValue)},null,10,["textContent"])):(0,o.createCommentVNode)("v-if",!0)],2),e.shouldShowPlaceholder?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:1,class:(0,o.normalizeClass)([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?(0,o.renderSlot)(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},(()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.currentPlaceholder),1)])):((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:1},(0,o.toDisplayString)(e.currentPlaceholder),1))],2)):(0,o.createCommentVNode)("v-if",!0)],2),(0,o.createElementVNode)("div",{ref:"suffixRef",class:(0,o.normalizeClass)(e.nsSelect.e("suffix"))},[e.iconComponent?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,class:(0,o.normalizeClass)([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.iconComponent)))])),_:1},8,["class"])),[[o.vShow,!e.showClearBtn]]):(0,o.createCommentVNode)("v-if",!0),e.showClearBtn&&e.clearIcon?((0,o.openBlock)(),(0,o.createBlock)(c,{key:1,class:(0,o.normalizeClass)([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:(0,o.withModifiers)(e.handleClear,["prevent","stop"])},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.clearIcon)))])),_:1},8,["class","onClick"])):(0,o.createCommentVNode)("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?((0,o.openBlock)(),(0,o.createBlock)(c,{key:2,class:(0,o.normalizeClass)([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading","validating"===e.validateState)])},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.validateIcon)))])),_:1},8,["class"])):(0,o.createCommentVNode)("v-if",!0)],2)],10,["onClick"])])),content:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},(0,o.createSlots)({default:(0,o.withCtx)((t=>[(0,o.renderSlot)(e.$slots,"default",(0,o.normalizeProps)((0,o.guardReactiveProps)(t)))])),_:2},[e.$slots.header?{name:"header",fn:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(e.nsSelect.be("dropdown","header"))},[(0,o.renderSlot)(e.$slots,"header")],2)]))}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(e.nsSelect.be("dropdown","loading"))},[(0,o.renderSlot)(e.$slots,"loading")],2)]))}:e.loading||0===e.filteredOptions.length?{name:"empty",fn:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(e.nsSelect.be("dropdown","empty"))},[(0,o.renderSlot)(e.$slots,"empty",{},(()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.emptyText),1)]))],2)]))}:void 0,e.$slots.footer?{name:"footer",fn:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(e.nsSelect.be("dropdown","footer"))},[(0,o.renderSlot)(e.$slots,"footer")],2)]))}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])])),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[u,e.handleClickOutside,e.popperRef]])}],["__file","select.vue"]]);const te=(0,l(25376).GU)(ee)}}]);
"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[1280],{2867:function(e,t,a){a.d(t,{w:function(){return o}});var n=a(99601),r=a(1576),l=a(24232);const o=e=>{const{emit:t}=(0,n.getCurrentInstance)(),a=(0,n.useAttrs)(),o=(0,n.useSlots)();return n=>{const s=(0,l.isFunction)(n.value)?n.value():n.value;s?t("pick",[r(s[0]).locale(e.value),r(s[1]).locale(e.value)]):n.onClick&&n.onClick({attrs:a,slots:o,emit:t})}}},19218:function(e,t,a){a.d(t,{u:function(){return n}});const n=Symbol()},25448:function(e,t,a){a.d(t,{A:function(){return s}});var n=a(99601),r=a(19218),l=a(3124),o=a(93513),s=(0,n.defineComponent)({name:"ElDatePickerCell",props:l.l,setup(e){const t=(0,o.DU)("date-table-cell"),{slots:a}=(0,n.inject)(r.u);return()=>{const{cell:r}=e;return(0,n.renderSlot)(a,"default",{...r},(()=>{var e;return[(0,n.createVNode)("div",{class:t.b()},[(0,n.createVNode)("span",{class:t.e("text")},[null!=(e=null==r?void 0:r.renderText)?e:null==r?void 0:r.text])])]}))}}})},27879:function(e,t,a){a.d(t,{X:function(){return i}});var n=a(99601),r=a(58941),l=a(19218),o=a(2867),s=a(93513),u=a(36268),c=a(24232);const i=(e,{defaultValue:t,leftDate:a,rightDate:i,unit:d,onParsedValueChanged:m})=>{const{emit:f}=(0,n.getCurrentInstance)(),{pickerNs:p}=(0,n.inject)(l.u),v=(0,s.DU)("date-range-picker"),{t:y,lang:k}=(0,u.Ym)(),b=(0,o.w)(k),g=(0,n.ref)(),h=(0,n.ref)(),D=(0,n.ref)({endDate:null,selecting:!1}),w=e=>{if((0,c.isArray)(e)&&2===e.length){const[t,r]=e;g.value=t,a.value=t,h.value=r,m((0,n.unref)(g),(0,n.unref)(h))}else x()},x=()=>{const[l,o]=(0,r.Bu)((0,n.unref)(t),{lang:(0,n.unref)(k),unit:d,unlinkPanels:e.unlinkPanels});g.value=void 0,h.value=void 0,a.value=l,i.value=o};return(0,n.watch)(t,(e=>{e&&x()}),{immediate:!0}),(0,n.watch)((()=>e.parsedValue),w,{immediate:!0}),{minDate:g,maxDate:h,rangeState:D,lang:k,ppNs:p,drpNs:v,handleChangeRange:e=>{D.value=e},handleRangeConfirm:(e=!1)=>{const t=(0,n.unref)(g),a=(0,n.unref)(h);(0,r.yZ)([t,a])&&f("pick",[t,a],e)},handleShortcutClick:b,onSelect:e=>{D.value.selecting=e,e||(D.value.endDate=null)},onReset:w,t:y}}},27892:function(e,t,a){a.d(t,{A:function(){return k}});var n=a(99601),r=a(73155),l=(a(44114),a(18111),a(22489),a(20116),a(61701),a(13579),a(1576)),o=a(75101),s=a(58941),u=a(36268),c=a(76010),i=a(93513),d=a(24232);const m=(e="")=>["normal","today"].includes(e),f=(e,t)=>{const{lang:a}=(0,u.Ym)(),r=(0,n.ref)(),i=(0,n.ref)(),f=(0,n.ref)(),p=(0,n.ref)(),v=(0,n.ref)([[],[],[],[],[],[]]);let y=!1;const k=e.date.$locale().weekStart||7,b=e.date.locale("en").localeData().weekdaysShort().map((e=>e.toLowerCase())),g=(0,n.computed)((()=>k>3?7-k:-k)),h=(0,n.computed)((()=>{const t=e.date.startOf("month");return t.subtract(t.day()||7,"day")})),D=(0,n.computed)((()=>b.concat(b).slice(k,k+7))),w=(0,n.computed)((()=>(0,o.A)((0,n.unref)(N)).some((e=>e.isCurrent)))),x=(0,n.computed)((()=>{const t=e.date.startOf("month");return{startOfMonthDay:t.day()||7,dateCountOfMonth:t.daysInMonth(),dateCountOfLastMonth:t.subtract(1,"month").daysInMonth()}})),C=(0,n.computed)((()=>"dates"===e.selectionMode?(0,c.bg)(e.parsedValue):[])),S=(t,{columnIndex:a,rowIndex:r},l)=>{const{disabledDate:o,cellClassName:s}=e,u=(0,n.unref)(C),c=((e,{count:t,rowIndex:a,columnIndex:r})=>{const{startOfMonthDay:l,dateCountOfMonth:o,dateCountOfLastMonth:s}=(0,n.unref)(x),u=(0,n.unref)(g);if(!(a>=0&&a<=1))return t<=o?e.text=t:(e.text=t-o,e.type="next-month"),!0;{const n=l+u<0?7+l+u:l+u;if(r+7*a>=n)return e.text=t,!0;e.text=s-(n-r%7)+1+7*a,e.type="prev-month"}return!1})(t,{count:l,rowIndex:r,columnIndex:a}),i=t.dayjs.toDate();return t.selected=u.find((e=>e.isSame(t.dayjs,"day"))),t.isSelected=!!t.selected,t.isCurrent=O(t),t.disabled=null==o?void 0:o(i),t.customClass=null==s?void 0:s(i),c},M=t=>{if("week"===e.selectionMode){const[a,n]=e.showWeekNumber?[1,7]:[0,6],r=A(t[a+1]);t[a].inRange=r,t[a].start=r,t[n].inRange=r,t[n].end=r}},N=(0,n.computed)((()=>{const{minDate:t,maxDate:r,rangeState:o,showWeekNumber:u}=e,c=(0,n.unref)(g),i=(0,n.unref)(v),d="day";let m=1;if(u)for(let e=0;e<6;e++)i[e][0]||(i[e][0]={type:"week",text:(0,n.unref)(h).add(7*e+1,d).week()});return(0,s.TM)({row:6,column:7},i,{startDate:t,columnIndexOffset:u?1:0,nextEndDate:o.endDate||r||o.selecting&&t||null,now:l().locale((0,n.unref)(a)).startOf(d),unit:d,relativeDateGetter:e=>(0,n.unref)(h).add(e-c,d),setCellMetadata:(...e)=>{S(...e,m)&&(m+=1)},setRowMetadata:M}),i}));(0,n.watch)((()=>e.date),(async()=>{var e;(null==(e=(0,n.unref)(r))?void 0:e.contains(document.activeElement))&&(await(0,n.nextTick)(),await B())}));const B=async()=>{var e;return null==(e=(0,n.unref)(i))?void 0:e.focus()},O=t=>"date"===e.selectionMode&&m(t.type)&&E(t,e.parsedValue),E=(t,r)=>!!r&&l(r).locale((0,n.unref)(a)).isSame(e.date.date(Number(t.text)),"day"),V=(t,a)=>{const r=7*t+(a-(e.showWeekNumber?1:0))-(0,n.unref)(g);return(0,n.unref)(h).add(r,"day")},I=(a,r=!1)=>{const l=a.target.closest("td");if(!l)return;const o=l.parentNode.rowIndex-1,s=l.cellIndex,u=(0,n.unref)(N)[o][s];if(u.disabled||"week"===u.type)return;const i=V(o,s);switch(e.selectionMode){case"range":(a=>{e.rangeState.selecting&&e.minDate?(a>=e.minDate?t("pick",{minDate:e.minDate,maxDate:a}):t("pick",{minDate:a,maxDate:e.minDate}),t("select",!1)):(t("pick",{minDate:a,maxDate:null}),t("select",!0))})(i);break;case"date":t("pick",i,r);break;case"week":(e=>{const a=e.week(),n=`${e.year()}w${a}`;t("pick",{year:e.year(),week:a,value:n,date:e.startOf("week")})})(i);break;case"dates":((a,n)=>{const r=n?(0,c.bg)(e.parsedValue).filter((e=>(null==e?void 0:e.valueOf())!==a.valueOf())):(0,c.bg)(e.parsedValue).concat([a]);t("pick",r)})(i,!!u.selected)}},A=t=>{if("week"!==e.selectionMode)return!1;let a=e.date.startOf("day");if("prev-month"===t.type&&(a=a.subtract(1,"month")),"next-month"===t.type&&(a=a.add(1,"month")),a=a.date(Number.parseInt(t.text,10)),e.parsedValue&&!(0,d.isArray)(e.parsedValue)){const t=(e.parsedValue.day()-k+7)%7-1;return e.parsedValue.subtract(t,"day").isSame(a,"day")}return!1};return{WEEKS:D,rows:N,tbodyRef:r,currentCellRef:i,focus:B,isCurrent:O,isWeekActive:A,isSelectedCell:e=>!(0,n.unref)(w)&&1===(null==e?void 0:e.text)&&"normal"===e.type||e.isCurrent,handlePickDate:I,handleMouseUp:e=>{e.target.closest("td")&&(y=!1)},handleMouseDown:e=>{e.target.closest("td")&&(y=!0)},handleMouseMove:a=>{var r;if(!e.rangeState.selecting)return;let l=a.target;if("SPAN"===l.tagName&&(l=null==(r=l.parentNode)?void 0:r.parentNode),"DIV"===l.tagName&&(l=l.parentNode),"TD"!==l.tagName)return;const o=l.parentNode.rowIndex-1,s=l.cellIndex;(0,n.unref)(N)[o][s].disabled||o===(0,n.unref)(f)&&s===(0,n.unref)(p)||(f.value=o,p.value=s,t("changerange",{selecting:!0,endDate:V(o,s)}))},handleFocus:t=>{y||(0,n.unref)(w)||"date"!==e.selectionMode||I(t,!0)}}};var p=a(25448),v=a(99077);const y=(0,n.defineComponent)({__name:"basic-date-table",props:r.D,emits:r.N,setup(e,{expose:t,emit:a}){const r=e,{WEEKS:l,rows:o,tbodyRef:s,currentCellRef:c,focus:d,isCurrent:v,isWeekActive:y,isSelectedCell:k,handlePickDate:b,handleMouseUp:g,handleMouseDown:h,handleMouseMove:D,handleFocus:w}=f(r,a),{tableLabel:x,tableKls:C,weekLabel:S,getCellClasses:M,getRowKls:N,t:B}=((e,{isCurrent:t,isWeekActive:a})=>{const r=(0,i.DU)("date-table"),{t:l}=(0,u.Ym)();return{tableKls:(0,n.computed)((()=>[r.b(),{"is-week-mode":"week"===e.selectionMode}])),tableLabel:(0,n.computed)((()=>l("el.datepicker.dateTablePrompt"))),weekLabel:(0,n.computed)((()=>l("el.datepicker.week"))),getCellClasses:a=>{const n=[];return m(a.type)&&!a.disabled?(n.push("available"),"today"===a.type&&n.push("today")):n.push(a.type),t(a)&&n.push("current"),a.inRange&&(m(a.type)||"week"===e.selectionMode)&&(n.push("in-range"),a.start&&n.push("start-date"),a.end&&n.push("end-date")),a.disabled&&n.push("disabled"),a.selected&&n.push("selected"),a.customClass&&n.push(a.customClass),n.join(" ")},getRowKls:e=>[r.e("row"),{current:a(e)}],t:l}})(r,{isCurrent:v,isWeekActive:y});return t({focus:d}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("table",{"aria-label":(0,n.unref)(x),class:(0,n.normalizeClass)((0,n.unref)(C)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:(0,n.unref)(b),onMousemove:(0,n.unref)(D),onMousedown:(0,n.withModifiers)((0,n.unref)(h),["prevent"]),onMouseup:(0,n.unref)(g)},[(0,n.createElementVNode)("tbody",{ref_key:"tbodyRef",ref:s},[(0,n.createElementVNode)("tr",null,[e.showWeekNumber?((0,n.openBlock)(),(0,n.createElementBlock)("th",{key:0,scope:"col"},(0,n.toDisplayString)((0,n.unref)(S)),1)):(0,n.createCommentVNode)("v-if",!0),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(l),((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("th",{key:t,"aria-label":(0,n.unref)(B)("el.datepicker.weeksFull."+e),scope:"col"},(0,n.toDisplayString)((0,n.unref)(B)("el.datepicker.weeks."+e)),9,["aria-label"])))),128))]),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(o),((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:t,class:(0,n.normalizeClass)((0,n.unref)(N)(e[1]))},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e,((e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("td",{key:`${t}.${a}`,ref_for:!0,ref:t=>(0,n.unref)(k)(e)&&(c.value=t),class:(0,n.normalizeClass)((0,n.unref)(M)(e)),"aria-current":e.isCurrent?"date":void 0,"aria-selected":e.isCurrent,tabindex:(0,n.unref)(k)(e)?0:-1,onFocus:(0,n.unref)(w)},[(0,n.createVNode)((0,n.unref)(p.A),{cell:e},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"])))),128))],2)))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var k=(0,v.A)(y,[["__file","basic-date-table.vue"]])},29208:function(e,t,a){a.d(t,{f:function(){return r}});var n=a(99601);const r=({unlinkPanels:e,leftDate:t,rightDate:a})=>({leftPrevYear:()=>{t.value=t.value.subtract(10,"year"),e.value||(a.value=a.value.subtract(10,"year"))},rightNextYear:()=>{e.value||(t.value=t.value.add(10,"year")),a.value=a.value.add(10,"year")},leftNextYear:()=>{t.value=t.value.add(10,"year")},rightPrevYear:()=>{a.value=a.value.subtract(10,"year")},leftLabel:(0,n.computed)((()=>{const e=10*Math.floor(t.value.year()/10);return`${e}-${e+9}`})),rightLabel:(0,n.computed)((()=>{const e=10*Math.floor(a.value.year()/10);return`${e}-${e+9}`})),leftYear:(0,n.computed)((()=>10*Math.floor(t.value.year()/10)+9)),rightYear:(0,n.computed)((()=>10*Math.floor(a.value.year()/10)))})},30233:function(e,t,a){a.d(t,{MG:function(){return r}});var n=a(79031);const r=(0,a(25376).GU)(n.A)},44896:function(e,t,a){a.d(t,{A:function(){return p}});a(18111),a(81148),a(22489),a(61701);var n=a(99601),r=a(1576),l=a(79245),o=a(58941),s=a(25448),u=a(99077),c=a(93513),i=a(36268),d=a(76010),m=a(93558);const f=(0,n.defineComponent)({__name:"basic-month-table",props:l.R,emits:["changerange","pick","select"],setup(e,{expose:t,emit:a}){const l=e,u=(0,c.DU)("month-table"),{t:f,lang:p}=(0,i.Ym)(),v=(0,n.ref)(),y=(0,n.ref)(),k=(0,n.ref)(l.date.locale("en").localeData().monthsShort().map((e=>e.toLowerCase()))),b=(0,n.ref)([[],[],[]]),g=(0,n.ref)(),h=(0,n.ref)(),D=(0,n.computed)((()=>{var e,t;const a=b.value,n=r().locale(p.value).startOf("month");for(let r=0;r<3;r++){const o=a[r];for(let a=0;a<4;a++){const s=o[a]||(o[a]={row:r,column:a,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});s.type="normal";const u=4*r+a,c=l.date.startOf("year").month(u),i=l.rangeState.endDate||l.maxDate||l.rangeState.selecting&&l.minDate||null;s.inRange=!!(l.minDate&&c.isSameOrAfter(l.minDate,"month")&&i&&c.isSameOrBefore(i,"month"))||!!(l.minDate&&c.isSameOrBefore(l.minDate,"month")&&i&&c.isSameOrAfter(i,"month")),(null==(e=l.minDate)?void 0:e.isSameOrAfter(i))?(s.start=!(!i||!c.isSame(i,"month")),s.end=l.minDate&&c.isSame(l.minDate,"month")):(s.start=!(!l.minDate||!c.isSame(l.minDate,"month")),s.end=!(!i||!c.isSame(i,"month")));n.isSame(c)&&(s.type="today"),s.text=u,s.disabled=(null==(t=l.disabledDate)?void 0:t.call(l,c.toDate()))||!1}}return a})),w=e=>{const t={},a=l.date.year(),n=new Date,s=e.text;return t.disabled=!!l.disabledDate&&(0,o.pc)(a,s,p.value).every(l.disabledDate),t.current=(0,d.bg)(l.parsedValue).findIndex((e=>r.isDayjs(e)&&e.year()===a&&e.month()===s))>=0,t.today=n.getFullYear()===a&&n.getMonth()===s,e.inRange&&(t["in-range"]=!0,e.start&&(t["start-date"]=!0),e.end&&(t["end-date"]=!0)),t},x=e=>{const t=l.date.year(),a=e.text;return(0,d.bg)(l.date).findIndex((e=>e.year()===t&&e.month()===a))>=0},C=e=>{var t;if(!l.rangeState.selecting)return;let n=e.target;if("SPAN"===n.tagName&&(n=null==(t=n.parentNode)?void 0:t.parentNode),"DIV"===n.tagName&&(n=n.parentNode),"TD"!==n.tagName)return;const r=n.parentNode.rowIndex,o=n.cellIndex;D.value[r][o].disabled||r===g.value&&o===h.value||(g.value=r,h.value=o,a("changerange",{selecting:!0,endDate:l.date.startOf("year").month(4*r+o)}))},S=e=>{var t;const n=null==(t=e.target)?void 0:t.closest("td");if("TD"!==(null==n?void 0:n.tagName))return;if((0,m.nB)(n,"disabled"))return;const s=n.cellIndex,u=4*n.parentNode.rowIndex+s,c=l.date.startOf("year").month(u);if("months"===l.selectionMode){if("keydown"===e.type)return void a("pick",(0,d.bg)(l.parsedValue),!1);const t=(0,o.wL)(l.date.year(),u,p.value,l.disabledDate),s=(0,m.nB)(n,"current")?(0,d.bg)(l.parsedValue).filter((e=>(null==e?void 0:e.month())!==t.month())):(0,d.bg)(l.parsedValue).concat([r(t)]);a("pick",s)}else"range"===l.selectionMode?l.rangeState.selecting?(l.minDate&&c>=l.minDate?a("pick",{minDate:l.minDate,maxDate:c}):a("pick",{minDate:c,maxDate:l.minDate}),a("select",!1)):(a("pick",{minDate:c,maxDate:null}),a("select",!0)):a("pick",u)};return(0,n.watch)((()=>l.date),(async()=>{var e,t;(null==(e=v.value)?void 0:e.contains(document.activeElement))&&(await(0,n.nextTick)(),null==(t=y.value)||t.focus())})),t({focus:()=>{var e;null==(e=y.value)||e.focus()}}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("table",{role:"grid","aria-label":(0,n.unref)(f)("el.datepicker.monthTablePrompt"),class:(0,n.normalizeClass)((0,n.unref)(u).b()),onClick:S,onMousemove:C},[(0,n.createElementVNode)("tbody",{ref_key:"tbodyRef",ref:v},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(D),((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:t},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e,((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("td",{key:t,ref_for:!0,ref:t=>x(e)&&(y.value=t),class:(0,n.normalizeClass)(w(e)),"aria-selected":`${x(e)}`,"aria-label":(0,n.unref)(f)("el.datepicker.month"+(+e.text+1)),tabindex:x(e)?0:-1,onKeydown:[(0,n.withKeys)((0,n.withModifiers)(S,["prevent","stop"]),["space"]),(0,n.withKeys)((0,n.withModifiers)(S,["prevent","stop"]),["enter"])]},[(0,n.createVNode)((0,n.unref)(s.A),{cell:{...e,renderText:(0,n.unref)(f)("el.datepicker.months."+k.value[e.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"])))),128))])))),128))],512)],42,["aria-label"]))}});var p=(0,u.A)(f,[["__file","basic-month-table.vue"]])},78013:function(e,t,a){a.d(t,{m:function(){return l}});var n=a(99601),r=a(36268);const l=({unlinkPanels:e,leftDate:t,rightDate:a})=>{const{t:l}=(0,r.Ym)();return{leftPrevYear:()=>{t.value=t.value.subtract(1,"year"),e.value||(a.value=a.value.subtract(1,"year"))},rightNextYear:()=>{e.value||(t.value=t.value.add(1,"year")),a.value=a.value.add(1,"year")},leftNextYear:()=>{t.value=t.value.add(1,"year")},rightPrevYear:()=>{a.value=a.value.subtract(1,"year")},leftLabel:(0,n.computed)((()=>`${t.value.year()} ${l("el.datepicker.year")}`)),rightLabel:(0,n.computed)((()=>`${a.value.year()} ${l("el.datepicker.year")}`)),leftYear:(0,n.computed)((()=>t.value.year())),rightYear:(0,n.computed)((()=>a.value.year()===t.value.year()?t.value.year()+1:a.value.year()))}}},87471:function(e,t,a){a.d(t,{A:function(){return v}});a(18111),a(81148),a(22489),a(61701);var n=a(99601),r=a(1576),l=a(98620),o=a(58941),s=a(25448),u=a(99077),c=a(93513),i=a(36268),d=a(76010),m=a(39560),f=a(93558);const p=(0,n.defineComponent)({__name:"basic-year-table",props:l.u,emits:["changerange","pick","select"],setup(e,{expose:t,emit:a}){const l=e,u=(0,c.DU)("year-table"),{t:p,lang:v}=(0,i.Ym)(),y=(0,n.ref)(),k=(0,n.ref)(),b=(0,n.computed)((()=>10*Math.floor(l.date.year()/10))),g=(0,n.ref)([[],[],[]]),h=(0,n.ref)(),D=(0,n.ref)(),w=(0,n.computed)((()=>{var e;const t=g.value,a=r().locale(v.value).startOf("year");for(let n=0;n<3;n++){const o=t[n];for(let t=0;t<4&&!(4*n+t>=10);t++){let s=o[t];s||(s={row:n,column:t,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),s.type="normal";const u=4*n+t+b.value,c=r().year(u),i=l.rangeState.endDate||l.maxDate||l.rangeState.selecting&&l.minDate||null;s.inRange=!!(l.minDate&&c.isSameOrAfter(l.minDate,"year")&&i&&c.isSameOrBefore(i,"year"))||!!(l.minDate&&c.isSameOrBefore(l.minDate,"year")&&i&&c.isSameOrAfter(i,"year")),(null==(e=l.minDate)?void 0:e.isSameOrAfter(i))?(s.start=!(!i||!c.isSame(i,"year")),s.end=!(!l.minDate||!c.isSame(l.minDate,"year"))):(s.start=!(!l.minDate||!c.isSame(l.minDate,"year")),s.end=!(!i||!c.isSame(i,"year")));a.isSame(c)&&(s.type="today"),s.text=u;const d=c.toDate();s.disabled=l.disabledDate&&l.disabledDate(d)||!1,o[t]=s}}return t})),x=e=>{const t={},a=r().locale(v.value),n=e.text;return t.disabled=!!l.disabledDate&&((e,t)=>{const a=r(String(e)).locale(t).startOf("year"),n=a.endOf("year").dayOfYear();return(0,m.du)(n).map((e=>a.add(e,"day").toDate()))})(n,v.value).every(l.disabledDate),t.today=a.year()===n,t.current=(0,d.bg)(l.parsedValue).findIndex((e=>e.year()===n))>=0,e.inRange&&(t["in-range"]=!0,e.start&&(t["start-date"]=!0),e.end&&(t["end-date"]=!0)),t},C=e=>{const t=e.text;return(0,d.bg)(l.date).findIndex((e=>e.year()===t))>=0},S=e=>{var t;const n=null==(t=e.target)?void 0:t.closest("td");if(!n||!n.textContent||(0,f.nB)(n,"disabled"))return;const s=n.cellIndex,u=4*n.parentNode.rowIndex+s+b.value,c=r().year(u);if("range"===l.selectionMode)l.rangeState.selecting?(l.minDate&&c>=l.minDate?a("pick",{minDate:l.minDate,maxDate:c}):a("pick",{minDate:c,maxDate:l.minDate}),a("select",!1)):(a("pick",{minDate:c,maxDate:null}),a("select",!0));else if("years"===l.selectionMode){if("keydown"===e.type)return void a("pick",(0,d.bg)(l.parsedValue),!1);const t=(0,o.b_)(c.startOf("year"),v.value,l.disabledDate),r=(0,f.nB)(n,"current")?(0,d.bg)(l.parsedValue).filter((e=>(null==e?void 0:e.year())!==u)):(0,d.bg)(l.parsedValue).concat([t]);a("pick",r)}else a("pick",u)},M=e=>{var t;if(!l.rangeState.selecting)return;const n=null==(t=e.target)?void 0:t.closest("td");if(!n)return;const o=n.parentNode.rowIndex,s=n.cellIndex;w.value[o][s].disabled||o===h.value&&s===D.value||(h.value=o,D.value=s,a("changerange",{selecting:!0,endDate:r().year(b.value).add(4*o+s,"year")}))};return(0,n.watch)((()=>l.date),(async()=>{var e,t;(null==(e=y.value)?void 0:e.contains(document.activeElement))&&(await(0,n.nextTick)(),null==(t=k.value)||t.focus())})),t({focus:()=>{var e;null==(e=k.value)||e.focus()}}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("table",{role:"grid","aria-label":(0,n.unref)(p)("el.datepicker.yearTablePrompt"),class:(0,n.normalizeClass)((0,n.unref)(u).b()),onClick:S,onMousemove:M},[(0,n.createElementVNode)("tbody",{ref_key:"tbodyRef",ref:y},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(w),((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:t},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e,((e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)("td",{key:`${t}_${a}`,ref_for:!0,ref:t=>C(e)&&(k.value=t),class:(0,n.normalizeClass)(["available",x(e)]),"aria-selected":C(e),"aria-label":String(e.text),tabindex:C(e)?0:-1,onKeydown:[(0,n.withKeys)((0,n.withModifiers)(S,["prevent","stop"]),["space"]),(0,n.withKeys)((0,n.withModifiers)(S,["prevent","stop"]),["enter"])]},[(0,n.createVNode)((0,n.unref)(s.A),{cell:e},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"])))),128))])))),128))],512)],42,["aria-label"]))}});var v=(0,u.A)(p,[["__file","basic-year-table.vue"]])}}]);
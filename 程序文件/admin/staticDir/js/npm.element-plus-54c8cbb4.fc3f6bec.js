"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[2833],{26704:function(e,t,o){o.d(t,{Lk:function(){return je},CY:function(){return Ve}});var r=o(99601),l=(o(18111),o(18237),o(44114),o(22489),o(20116),o(7588),o(61701),(e=>(e.ASC="asc",e.DESC="desc",e))(l||{})),n=(e=>(e.CENTER="center",e.RIGHT="right",e))(n||{}),a=(e=>(e.LEFT="left",e.RIGHT="right",e))(a||{});const s={asc:"desc",desc:"asc"},d=Symbol("placeholder");var c=o(24232);var i=o(49780),u=o(12235);const h=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:n,ns:s,isScrolling:d})=>{const c=(0,r.getCurrentInstance)(),{emit:h}=c,f=(0,r.shallowRef)(!1),p=(0,r.ref)(e.defaultExpandedRowKeys||[]),w=(0,r.ref)(-1),m=(0,r.shallowRef)(null),y=(0,r.ref)({}),g=(0,r.ref)({}),x=(0,r.shallowRef)({}),b=(0,r.shallowRef)({}),v=(0,r.shallowRef)({}),R=(0,r.computed)((()=>(0,u.Et)(e.estimatedRowHeight)));const S=(0,i.A)((()=>{var e,n,a,s;f.value=!0,y.value={...(0,r.unref)(y),...(0,r.unref)(g)},H((0,r.unref)(m),!1),g.value={},m.value=null,null==(e=t.value)||e.forceUpdate(),null==(n=o.value)||n.forceUpdate(),null==(a=l.value)||a.forceUpdate(),null==(s=c.proxy)||s.$forceUpdate(),f.value=!1}),0);function H(e,n=!1){(0,r.unref)(R)&&[t,o,l].forEach((t=>{const o=(0,r.unref)(t);o&&o.resetAfterRowIndex(e,n)}))}return{expandedRowKeys:p,lastRenderedRowIndex:w,isDynamic:R,isResetting:f,rowHeights:y,resetAfterIndex:H,onRowExpanded:function({expanded:t,rowData:o,rowIndex:l,rowKey:n}){var a,s;const d=[...(0,r.unref)(p)],c=d.indexOf(n);t?-1===c&&d.push(n):c>-1&&d.splice(c,1),p.value=d,h("update:expandedRowKeys",d),null==(a=e.onRowExpand)||a.call(e,{expanded:t,rowData:o,rowIndex:l,rowKey:n}),null==(s=e.onExpandedRowsChange)||s.call(e,d)},onRowHovered:function({hovered:e,rowKey:t}){if(d.value)return;n.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach((t=>{e?t.classList.add(s.is("hovered")):t.classList.remove(s.is("hovered"))}))},onRowsRendered:function(t){var o;null==(o=e.onRowsRendered)||o.call(e,t),t.rowCacheEnd>(0,r.unref)(w)&&(w.value=t.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:t,rowIndex:o},l){l?l===a.RIGHT?v.value[e]=t:x.value[e]=t:b.value[e]=t;const n=Math.max(...[x,v,b].map((t=>t.value[e]||0)));(0,r.unref)(y)[e]!==n&&(!function(e,t,o){const l=(0,r.unref)(m);(null===l||l>o)&&(m.value=o),g.value[e]=t}(e,n,o),S())}}};o(17642),o(58004),o(33853),o(45876),o(32475),o(15024),o(31698);var f=o(93558);const p=(e,t)=>e+t,w=e=>(0,c.isArray)(e)?e.reduce(p,0):e,m=(e,t,o={})=>(0,c.isFunction)(e)?e(t):null!=e?e:o,y=e=>(["width","maxWidth","minWidth","height"].forEach((t=>{e[t]=(0,f._V)(e[t])})),e),g=e=>(0,r.isVNode)(e)?t=>(0,r.h)(e,t):e;var x=o(93513);function b(e){const t=(0,r.ref)(),o=(0,r.ref)(),n=(0,r.ref)(),{columns:a,columnsStyles:i,columnsTotalWidth:p,fixedColumnsOnLeft:m,fixedColumnsOnRight:g,hasFixedColumns:b,mainColumns:v,onColumnSorted:R}=function(e,t,o){const n=(0,r.computed)((()=>(0,r.unref)(t).map(((e,t)=>{var o,r;return{...e,key:null!=(r=null!=(o=e.key)?o:e.dataKey)?r:t}})))),a=(0,r.computed)((()=>(0,r.unref)(n).filter((e=>!e.hidden)))),i=(0,r.computed)((()=>(0,r.unref)(a).filter((e=>"left"===e.fixed||!0===e.fixed)))),u=(0,r.computed)((()=>(0,r.unref)(a).filter((e=>"right"===e.fixed)))),h=(0,r.computed)((()=>(0,r.unref)(a).filter((e=>!e.fixed)))),f=(0,r.computed)((()=>{const e=[];return(0,r.unref)(i).forEach((t=>{e.push({...t,placeholderSign:d})})),(0,r.unref)(h).forEach((t=>{e.push(t)})),(0,r.unref)(u).forEach((t=>{e.push({...t,placeholderSign:d})})),e})),p=(0,r.computed)((()=>(0,r.unref)(i).length||(0,r.unref)(u).length)),w=(0,r.computed)((()=>(0,r.unref)(n).reduce(((t,l)=>(t[l.key]=((e,t,o)=>{var r;const l={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};o||(l.flexShrink=1);const n={...null!=(r=e.style)?r:{},...l,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(n.maxWidth=e.maxWidth),e.minWidth&&(n.minWidth=e.minWidth)),n})(l,(0,r.unref)(o),e.fixed),t)),{}))),m=(0,r.computed)((()=>(0,r.unref)(a).reduce(((e,t)=>e+t.width),0))),y=e=>(0,r.unref)(n).find((t=>t.key===e));return{columns:n,columnsStyles:w,columnsTotalWidth:m,fixedColumnsOnLeft:i,fixedColumnsOnRight:u,hasFixedColumns:p,mainColumns:f,normalColumns:h,visibleColumns:a,getColumn:y,getColumnStyle:e=>(0,r.unref)(w)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(t){var o;const{key:r}=t.currentTarget.dataset;if(!r)return;const{sortState:n,sortBy:a}=e;let d=l.ASC;d=(0,c.isObject)(n)?s[n[r]]:s[a.order],null==(o=e.onColumnSort)||o.call(e,{column:y(r),key:r,order:d})}}}(e,(0,r.toRef)(e,"columns"),(0,r.toRef)(e,"fixed")),{scrollTo:S,scrollToLeft:H,scrollToTop:T,scrollToRow:C,onScroll:E,onVerticalScroll:I,scrollPos:N}=((e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:n})=>{const a=(0,r.ref)({scrollLeft:0,scrollTop:0});function s(e){var r,n,a;const{scrollTop:s}=e;null==(r=t.value)||r.scrollTo(e),null==(n=o.value)||n.scrollToTop(s),null==(a=l.value)||a.scrollToTop(s)}function d(e){a.value=e,s(e)}function c(e){a.value.scrollTop=e,s((0,r.unref)(a))}return(0,r.watch)((()=>(0,r.unref)(a).scrollTop),((e,t)=>{e>t&&n()})),{scrollPos:a,scrollTo:d,scrollToLeft:function(e){var o,l;a.value.scrollLeft=e,null==(l=null==(o=t.value)?void 0:o.scrollTo)||l.call(o,(0,r.unref)(a))},scrollToTop:c,scrollToRow:function(e,o="auto"){var r;null==(r=t.value)||r.scrollToRow(e,o)},onScroll:function(t){var o;d(t),null==(o=e.onScroll)||o.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:t}=(0,r.unref)(a);e!==t&&c(e)}}})(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,onMaybeEndReached:function(){const{onEndReached:t}=e;if(!t)return;const{scrollTop:o}=(0,r.unref)(N),l=(0,r.unref)(B),n=(0,r.unref)(J),a=l-(o+n)+e.hScrollbarSize;(0,r.unref)(D)>=0&&l===o+(0,r.unref)($)-(0,r.unref)(oe)&&t(a)}}),V=(0,x.DU)("table-v2"),j=(0,r.getCurrentInstance)(),K=(0,r.shallowRef)(!1),{expandedRowKeys:O,lastRenderedRowIndex:D,isDynamic:W,isResetting:q,rowHeights:A,resetAfterIndex:k,onRowExpanded:P,onRowHeightChange:z,onRowHovered:G,onRowsRendered:L}=h(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,tableInstance:j,ns:V,isScrolling:K}),{data:F,depthMap:M}=((e,{expandedRowKeys:t,lastRenderedRowIndex:o,resetAfterIndex:l})=>{const n=(0,r.ref)({}),a=(0,r.computed)((()=>{const o={},{data:l,rowKey:a}=e,s=(0,r.unref)(t);if(!s||!s.length)return l;const d=[],i=new Set;s.forEach((e=>i.add(e)));let u=l.slice();for(u.forEach((e=>o[e[a]]=0));u.length>0;){const e=u.shift();d.push(e),i.has(e[a])&&(0,c.isArray)(e.children)&&e.children.length>0&&(u=[...e.children,...u],e.children.forEach((t=>o[t[a]]=o[e[a]]+1)))}return n.value=o,d})),s=(0,r.computed)((()=>{const{data:t,expandColumnKey:o}=e;return o?(0,r.unref)(a):t}));return(0,r.watch)(s,((e,t)=>{e!==t&&(o.value=-1,l(0,!0))})),{data:s,depthMap:n}})(e,{expandedRowKeys:O,lastRenderedRowIndex:D,resetAfterIndex:k}),B=(0,r.computed)((()=>{const{estimatedRowHeight:t,rowHeight:o}=e,l=(0,r.unref)(F);return(0,u.Et)(t)?Object.values((0,r.unref)(A)).reduce(((e,t)=>e+t),0):l.length*o})),{bodyWidth:U,fixedTableHeight:_,mainTableHeight:$,leftTableWidth:Y,rightTableWidth:Q,headerWidth:Z,windowHeight:J,footerHeight:X,emptyStyle:ee,rootStyle:te,headerHeight:oe}=((e,{columnsTotalWidth:t,rowsHeight:o,fixedColumnsOnLeft:l,fixedColumnsOnRight:n})=>{const a=(0,r.computed)((()=>{const{fixed:o,width:l,vScrollbarSize:n}=e,a=l-n;return o?Math.max(Math.round((0,r.unref)(t)),a):a})),s=(0,r.computed)((()=>(0,r.unref)(a)+e.vScrollbarSize)),d=(0,r.computed)((()=>{const{height:t=0,maxHeight:l=0,footerHeight:n,hScrollbarSize:a}=e;if(l>0){const e=(0,r.unref)(g),t=(0,r.unref)(o),s=(0,r.unref)(m)+e+t+a;return Math.min(s,l-n)}return t-n})),c=(0,r.computed)((()=>{const{maxHeight:t}=e,l=(0,r.unref)(d);if((0,u.Et)(t)&&t>0)return l;const n=(0,r.unref)(o)+(0,r.unref)(m)+(0,r.unref)(g);return Math.min(l,n)})),i=e=>e.width,h=(0,r.computed)((()=>w((0,r.unref)(l).map(i)))),p=(0,r.computed)((()=>w((0,r.unref)(n).map(i)))),m=(0,r.computed)((()=>w(e.headerHeight))),g=(0,r.computed)((()=>{var t;return((null==(t=e.fixedData)?void 0:t.length)||0)*e.rowHeight})),x=(0,r.computed)((()=>(0,r.unref)(d)-(0,r.unref)(m)-(0,r.unref)(g))),b=(0,r.computed)((()=>{const{style:t={},height:o,width:r}=e;return y({...t,height:o,width:r})})),v=(0,r.computed)((()=>y({height:e.footerHeight}))),R=(0,r.computed)((()=>({top:(0,f._V)((0,r.unref)(m)),bottom:(0,f._V)(e.footerHeight),width:(0,f._V)(e.width)})));return{bodyWidth:a,fixedTableHeight:c,mainTableHeight:d,leftTableWidth:h,rightTableWidth:p,headerWidth:s,windowHeight:x,footerHeight:v,emptyStyle:R,rootStyle:b,headerHeight:m}})(e,{columnsTotalWidth:p,fixedColumnsOnLeft:m,fixedColumnsOnRight:g,rowsHeight:B}),re=(0,r.ref)(),le=(0,r.computed)((()=>{const t=0===(0,r.unref)(F).length;return(0,c.isArray)(e.fixedData)?0===e.fixedData.length&&t:t}));return(0,r.watch)((()=>e.expandedRowKeys),(e=>O.value=e),{deep:!0}),{columns:a,containerRef:re,mainTableRef:t,leftTableRef:o,rightTableRef:n,isDynamic:W,isResetting:q,isScrolling:K,hasFixedColumns:b,columnsStyles:i,columnsTotalWidth:p,data:F,expandedRowKeys:O,depthMap:M,fixedColumnsOnLeft:m,fixedColumnsOnRight:g,mainColumns:v,bodyWidth:U,emptyStyle:ee,rootStyle:te,headerWidth:Z,footerHeight:X,mainTableHeight:$,fixedTableHeight:_,leftTableWidth:Y,rightTableWidth:Q,showEmpty:le,getRowHeight:function(t){const{estimatedRowHeight:o,rowHeight:l,rowKey:n}=e;return o?(0,r.unref)(A)[(0,r.unref)(F)[t][n]]||o:l},onColumnSorted:R,onRowHovered:G,onRowExpanded:P,onRowsRendered:L,onRowHeightChange:z,scrollTo:S,scrollToLeft:H,scrollToTop:T,scrollToRow:C,onScroll:E,onVerticalScroll:I}}const v=Symbol("tableV2");var R=o(47378),S=o(76769);const H=String,T={type:(0,R.jq)(Array),required:!0},C=((0,R.jq)(Object),{type:(0,R.jq)(Array)}),E={...C,required:!0},I=String,N={type:(0,R.jq)(Array),default:()=>(0,S.f)([])},V={type:Number,required:!0},j={type:(0,R.jq)([String,Number,Symbol]),default:"id"},K={type:(0,R.jq)(Object)};var O=o(24251);const D=(0,R.b_)({class:String,columns:T,columnsStyles:{type:(0,R.jq)(Object),required:!0},depth:Number,expandColumnKey:I,estimatedRowHeight:{...O.Ki.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:(0,R.jq)(Function)},onRowHover:{type:(0,R.jq)(Function)},onRowHeightChange:{type:(0,R.jq)(Function)},rowData:{type:(0,R.jq)(Object),required:!0},rowEventHandlers:{type:(0,R.jq)(Object)},rowIndex:{type:Number,required:!0},rowKey:j,style:{type:(0,R.jq)(Object)}}),W={type:Number,required:!0},q=(0,R.b_)({class:String,columns:T,fixedHeaderData:{type:(0,R.jq)(Array)},headerData:{type:(0,R.jq)(Array),required:!0},headerHeight:{type:(0,R.jq)([Number,Array]),default:50},rowWidth:W,rowHeight:{type:Number,default:50},height:W,width:W}),A=(0,R.b_)({columns:T,data:E,fixedData:C,estimatedRowHeight:D.estimatedRowHeight,width:V,height:V,headerWidth:V,headerHeight:q.headerHeight,bodyWidth:V,rowHeight:V,cache:O.WW.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:O.Ki.scrollbarAlwaysOn,scrollbarStartGap:O.Ki.scrollbarStartGap,scrollbarEndGap:O.Ki.scrollbarEndGap,class:H,style:K,containerStyle:K,getRowHeight:{type:(0,R.jq)(Function),required:!0},rowKey:D.rowKey,onRowsRendered:{type:(0,R.jq)(Function)},onScroll:{type:(0,R.jq)(Function)}}),k=(0,R.b_)({cache:A.cache,estimatedRowHeight:D.estimatedRowHeight,rowKey:j,headerClass:{type:(0,R.jq)([String,Function])},headerProps:{type:(0,R.jq)([Object,Function])},headerCellProps:{type:(0,R.jq)([Object,Function])},headerHeight:q.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:(0,R.jq)([String,Function])},rowProps:{type:(0,R.jq)([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:(0,R.jq)([Object,Function])},columns:T,data:E,dataGetter:{type:(0,R.jq)(Function)},fixedData:C,expandColumnKey:D.expandColumnKey,expandedRowKeys:N,defaultExpandedRowKeys:N,class:H,fixed:Boolean,style:{type:(0,R.jq)(Object)},width:V,height:V,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:O.Ki.hScrollbarSize,vScrollbarSize:O.Ki.vScrollbarSize,scrollbarAlwaysOn:O.Gd.alwaysOn,sortBy:{type:(0,R.jq)(Object),default:()=>({})},sortState:{type:(0,R.jq)(Object),default:void 0},onColumnSort:{type:(0,R.jq)(Function)},onExpandedRowsChange:{type:(0,R.jq)(Function)},onEndReached:{type:(0,R.jq)(Function)},onRowExpand:D.onRowExpand,onScroll:A.onScroll,onRowsRendered:A.onRowsRendered,rowEventHandlers:D.rowEventHandlers});var P=o(25951);const z=(0,r.defineComponent)({name:"ElTableV2Header",props:q,setup(e,{slots:t,expose:o}){const l=(0,x.DU)("table-v2"),n=(0,r.inject)("tableV2GridScrollLeft"),a=(0,r.ref)(),s=(0,r.computed)((()=>y({width:e.width,height:e.height}))),d=(0,r.computed)((()=>y({width:e.rowWidth,height:e.height}))),c=(0,r.computed)((()=>(0,P.A)((0,r.unref)(e.headerHeight)))),i=e=>{const t=(0,r.unref)(a);(0,r.nextTick)((()=>{(null==t?void 0:t.scroll)&&t.scroll({left:e})}))},u=()=>{const o=l.e("fixed-header-row"),{columns:r,fixedHeaderData:n,rowHeight:a}=e;return null==n?void 0:n.map(((e,l)=>{var n;const s=y({height:a,width:"100%"});return null==(n=t.fixed)?void 0:n.call(t,{class:o,columns:r,rowData:e,rowIndex:-(l+1),style:s})}))},h=()=>{const o=l.e("dynamic-header-row"),{columns:n}=e;return(0,r.unref)(c).map(((e,r)=>{var l;const a=y({width:"100%",height:e});return null==(l=t.dynamic)?void 0:l.call(t,{class:o,columns:n,headerIndex:r,style:a})}))};return(0,r.onUpdated)((()=>{(null==n?void 0:n.value)&&i(n.value)})),o({scrollToLeft:i}),()=>{if(!(e.height<=0))return(0,r.createVNode)("div",{ref:a,class:e.class,style:(0,r.unref)(s),role:"rowgroup"},[(0,r.createVNode)("div",{style:(0,r.unref)(d),class:l.e("header")},[h(),u()])])}}});var G=z,L=o(2526),F=o(10387);const M=(0,r.defineComponent)({name:"ElTableV2Grid",props:A,setup(e,{slots:t,expose:o}){const{ns:l}=(0,r.inject)(v),{bodyRef:n,fixedRowHeight:a,gridHeight:s,hasHeader:d,headerRef:i,headerHeight:h,totalHeight:f,forceUpdate:p,itemKey:m,onItemRendered:y,resetAfterRowIndex:g,scrollTo:x,scrollToTop:b,scrollToRow:R,scrollLeft:S}=(e=>{const t=(0,r.ref)(),o=(0,r.ref)(),l=(0,r.ref)(0),n=(0,r.computed)((()=>{const{data:t,rowHeight:o,estimatedRowHeight:r}=e;if(!r)return t.length*o})),a=(0,r.computed)((()=>{const{fixedData:t,rowHeight:o}=e;return((null==t?void 0:t.length)||0)*o})),s=(0,r.computed)((()=>w(e.headerHeight))),d=(0,r.computed)((()=>{const{height:t}=e;return Math.max(0,t-(0,r.unref)(s)-(0,r.unref)(a))})),i=(0,r.computed)((()=>(0,r.unref)(s)+(0,r.unref)(a)>0));return(0,r.watch)((()=>e.bodyWidth),(()=>{var t;(0,u.Et)(e.estimatedRowHeight)&&(null==(t=o.value)||t.resetAfter({columnIndex:0},!1))})),{bodyRef:o,forceUpdate:function(){var e,l;null==(e=(0,r.unref)(o))||e.$forceUpdate(),null==(l=(0,r.unref)(t))||l.$forceUpdate()},fixedRowHeight:a,gridHeight:d,hasHeader:i,headerHeight:s,headerRef:t,totalHeight:n,itemKey:({data:t,rowIndex:o})=>t[o][e.rowKey],onItemRendered:function({rowCacheStart:t,rowCacheEnd:o,rowVisibleStart:r,rowVisibleEnd:l}){var n;null==(n=e.onRowsRendered)||n.call(e,{rowCacheStart:t,rowCacheEnd:o,rowVisibleStart:r,rowVisibleEnd:l})},resetAfterRowIndex:function(e,t){var r;null==(r=o.value)||r.resetAfterRowIndex(e,t)},scrollTo:function(e,n){const a=(0,r.unref)(t),s=(0,r.unref)(o);(0,c.isObject)(e)?(null==a||a.scrollToLeft(e.scrollLeft),l.value=e.scrollLeft,null==s||s.scrollTo(e)):(null==a||a.scrollToLeft(e),l.value=e,null==s||s.scrollTo({scrollLeft:e,scrollTop:n}))},scrollToTop:function(e){var t;null==(t=(0,r.unref)(o))||t.scrollTo({scrollTop:e})},scrollToRow:function(e,t){var l;null==(l=(0,r.unref)(o))||l.scrollToItem(e,1,t)},scrollLeft:l}})(e);(0,r.provide)("tableV2GridScrollLeft",S),o({forceUpdate:p,totalHeight:f,scrollTo:x,scrollToTop:b,scrollToRow:R,resetAfterRowIndex:g});const H=()=>e.bodyWidth;return()=>{const{cache:o,columns:c,data:f,fixedData:p,useIsScrolling:w,scrollbarAlwaysOn:g,scrollbarEndGap:x,scrollbarStartGap:b,style:v,rowHeight:R,bodyWidth:S,estimatedRowHeight:T,headerWidth:C,height:E,width:I,getRowHeight:N,onScroll:V}=e,j=(0,u.Et)(T),K=j?L.A:F.A,O=(0,r.unref)(h);return(0,r.createVNode)("div",{role:"table",class:[l.e("table"),e.class],style:v},[(0,r.createVNode)(K,{ref:n,data:f,useIsScrolling:w,itemKey:m,columnCache:0,columnWidth:j?H:S,totalColumn:1,totalRow:f.length,rowCache:o,rowHeight:j?N:R,width:I,height:(0,r.unref)(s),class:l.e("body"),role:"rowgroup",scrollbarStartGap:b,scrollbarEndGap:x,scrollbarAlwaysOn:g,onScroll:V,onItemRendered:y,perfMode:!1},{default:e=>{var o;const r=f[e.rowIndex];return null==(o=t.row)?void 0:o.call(t,{...e,columns:c,rowData:r})}}),(0,r.unref)(d)&&(0,r.createVNode)(G,{ref:i,class:l.e("header-wrapper"),columns:c,headerData:f,headerHeight:e.headerHeight,fixedHeaderData:p,rowWidth:C,rowHeight:R,width:I,height:Math.min(O+(0,r.unref)(a),E)},{dynamic:t.header,fixed:t.row})])}}});var B=M;var U=(e,{slots:t})=>{const{mainTableRef:o,...l}=e;return(0,r.createVNode)(B,(0,r.mergeProps)({ref:o},l),"function"==typeof(n=t)||"[object Object]"===Object.prototype.toString.call(n)&&!(0,r.isVNode)(n)?t:{default:()=>[t]});var n};var _=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:o,...l}=e;return(0,r.createVNode)(B,(0,r.mergeProps)({ref:o},l),"function"==typeof(n=t)||"[object Object]"===Object.prototype.toString.call(n)&&!(0,r.isVNode)(n)?t:{default:()=>[t]});var n};var $=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:o,...l}=e;return(0,r.createVNode)(B,(0,r.mergeProps)({ref:o},l),"function"==typeof(n=t)||"[object Object]"===Object.prototype.toString.call(n)&&!(0,r.isVNode)(n)?t:{default:()=>[t]});var n};const Y=e=>{const{isScrolling:t}=(0,r.inject)(v),o=(0,r.ref)(!1),l=(0,r.ref)(),n=(0,r.computed)((()=>(0,u.Et)(e.estimatedRowHeight)&&e.rowIndex>=0)),a=(0,r.computed)((()=>{const{rowData:t,rowIndex:o,rowKey:r,onRowHover:l}=e,n=e.rowEventHandlers||{},a={};return Object.entries(n).forEach((([e,l])=>{(0,c.isFunction)(l)&&(a[e]=e=>{l({event:e,rowData:t,rowIndex:o,rowKey:r})})})),l&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach((({name:e,hovered:n})=>{const s=a[e];a[e]=e=>{l({event:e,hovered:n,rowData:t,rowIndex:o,rowKey:r}),null==s||s(e)}})),a}));return(0,r.onMounted)((()=>{(0,r.unref)(n)&&((t=!1)=>{const n=(0,r.unref)(l);if(!n)return;const{columns:a,onRowHeightChange:s,rowKey:c,rowIndex:i,style:u}=e,{height:h}=n.getBoundingClientRect();o.value=!0,(0,r.nextTick)((()=>{if(t||h!==Number.parseInt(u.height)){const e=a[0],t=(null==e?void 0:e.placeholderSign)===d;null==s||s({rowKey:c,height:h,rowIndex:i},e&&!t&&e.fixed)}}))})(!0)})),{isScrolling:t,measurable:n,measured:o,rowRef:l,eventHandlers:a,onExpand:t=>{const{onRowExpand:o,rowData:r,rowIndex:l,rowKey:n}=e;null==o||o({expanded:t,rowData:r,rowIndex:l,rowKey:n})}}},Q=(0,r.defineComponent)({name:"ElTableV2TableRow",props:D,setup(e,{expose:t,slots:o,attrs:l}){const{eventHandlers:n,isScrolling:a,measurable:s,measured:d,rowRef:i,onExpand:u}=Y(e);return t({onExpand:u}),()=>{const{columns:t,columnsStyles:h,expandColumnKey:f,depth:p,rowData:w,rowIndex:m,style:y}=e;let g=t.map(((e,l)=>{const n=(0,c.isArray)(w.children)&&w.children.length>0&&e.key===f;return o.cell({column:e,columns:t,columnIndex:l,depth:p,style:h[e.key],rowData:w,rowIndex:m,isScrolling:(0,r.unref)(a),expandIconProps:n?{rowData:w,rowIndex:m,onExpand:u}:void 0})}));if(o.row&&(g=o.row({cells:g.map((e=>(0,c.isArray)(e)&&1===e.length?e[0]:e)),style:y,columns:t,depth:p,rowData:w,rowIndex:m,isScrolling:(0,r.unref)(a)})),(0,r.unref)(s)){const{height:t,...o}=y||{},a=(0,r.unref)(d);return(0,r.createVNode)("div",(0,r.mergeProps)({ref:i,class:e.class,style:a?y:o,role:"row"},l,(0,r.unref)(n)),[g])}return(0,r.createVNode)("div",(0,r.mergeProps)(l,{ref:i,class:e.class,style:y,role:"row"},(0,r.unref)(n)),[g])}}});var Z=Q;var J=(e,{slots:t})=>{const{columns:o,columnsStyles:l,depthMap:n,expandColumnKey:a,expandedRowKeys:s,estimatedRowHeight:d,hasFixedColumns:c,rowData:i,rowIndex:u,style:h,isScrolling:f,rowProps:p,rowClass:w,rowKey:y,rowEventHandlers:g,ns:x,onRowHovered:b,onRowExpanded:v}=e,R=m(w,{columns:o,rowData:i,rowIndex:u},""),S=m(p,{columns:o,rowData:i,rowIndex:u}),H=i[y],T=n[H]||0,C=Boolean(a),E=u<0,I=[x.e("row"),R,{[x.e(`row-depth-${T}`)]:C&&u>=0,[x.is("expanded")]:C&&s.includes(H),[x.is("fixed")]:!T&&E,[x.is("customized")]:Boolean(t.row)}],N=c?b:void 0,V={...S,columns:o,columnsStyles:l,class:I,depth:T,expandColumnKey:a,estimatedRowHeight:E?void 0:d,isScrolling:f,rowIndex:u,rowData:i,rowKey:H,rowEventHandlers:g,style:h};return(0,r.createVNode)(Z,(0,r.mergeProps)(V,{onRowExpand:v,onMouseenter:e=>{null==N||N({hovered:!0,rowKey:H,event:e,rowData:i,rowIndex:u})},onMouseleave:e=>{null==N||N({hovered:!1,rowKey:H,event:e,rowData:i,rowIndex:u})},rowkey:H}),"function"==typeof(j=t)||"[object Object]"===Object.prototype.toString.call(j)&&!(0,r.isVNode)(j)?t:{default:()=>[t]});var j},X=o(29615);const ee=(e,{slots:t})=>{var o;const{cellData:l,style:n}=e,a=(null==(o=null==l?void 0:l.toString)?void 0:o.call(l))||"",s=(0,r.renderSlot)(t,"default",e,(()=>[a]));return(0,r.createVNode)("div",{class:e.class,title:a,style:n},[s])};ee.displayName="ElTableV2Cell",ee.inheritAttrs=!1;var te=ee,oe=o(813),re=o(57477);var le=e=>{const{expanded:t,expandable:o,onExpand:l,style:n,size:a}=e,s={onClick:o?()=>l(!t):void 0,class:e.class};return(0,r.createVNode)(oe.tk,(0,r.mergeProps)(s,{size:a,style:n}),{default:()=>[(0,r.createVNode)(re.Qpb,null,null)]})};const ne=({columns:e,column:t,columnIndex:o,depth:l,expandIconProps:a,isScrolling:s,rowData:i,rowIndex:u,style:h,expandedRowKeys:f,ns:p,cellProps:w,expandColumnKey:x,indentSize:b,iconSize:v,rowKey:R},{slots:S})=>{const H=y(h);if(t.placeholderSign===d)return(0,r.createVNode)("div",{class:p.em("row-cell","placeholder"),style:H},null);const{cellRenderer:T,dataKey:C,dataGetter:E}=t,I=(0,c.isFunction)(E)?E({columns:e,column:t,columnIndex:o,rowData:i,rowIndex:u}):(0,X.A)(i,null!=C?C:""),N=m(w,{cellData:I,columns:e,column:t,columnIndex:o,rowIndex:u,rowData:i}),V={class:p.e("cell-text"),columns:e,column:t,columnIndex:o,cellData:I,isScrolling:s,rowData:i,rowIndex:u},j=g(T),K=j?j(V):(0,r.renderSlot)(S,"default",V,(()=>[(0,r.createVNode)(te,V,null)])),O=[p.e("row-cell"),t.class,t.align===n.CENTER&&p.is("align-center"),t.align===n.RIGHT&&p.is("align-right")],D=u>=0&&x&&t.key===x,W=u>=0&&f.includes(i[R]);let q;const A=`margin-inline-start: ${l*b}px;`;return D&&(q=(0,c.isObject)(a)?(0,r.createVNode)(le,(0,r.mergeProps)(a,{class:[p.e("expand-icon"),p.is("expanded",W)],size:v,expanded:W,style:A,expandable:!0}),null):(0,r.createVNode)("div",{style:[A,`width: ${v}px; height: ${v}px;`].join(" ")},null)),(0,r.createVNode)("div",(0,r.mergeProps)({class:O,style:H},N,{role:"cell"}),[q,K])};ne.inheritAttrs=!1;var ae=ne;const se=(0,R.b_)({class:String,columns:T,columnsStyles:{type:(0,R.jq)(Object),required:!0},headerIndex:Number,style:{type:(0,R.jq)(Object)}}),de=(0,r.defineComponent)({name:"ElTableV2HeaderRow",props:se,setup(e,{slots:t}){return()=>{const{columns:o,columnsStyles:l,headerIndex:n,style:a}=e;let s=o.map(((e,r)=>t.cell({columns:o,column:e,columnIndex:r,headerIndex:n,style:l[e.key]})));return t.header&&(s=t.header({cells:s.map((e=>(0,c.isArray)(e)&&1===e.length?e[0]:e)),columns:o,headerIndex:n})),(0,r.createVNode)("div",{class:e.class,style:a,role:"row"},[s])}}});var ce=de;var ie=({columns:e,columnsStyles:t,headerIndex:o,style:l,headerClass:n,headerProps:a,ns:s},{slots:d})=>{const c={columns:e,headerIndex:o},i=[s.e("header-row"),m(n,c,""),{[s.is("customized")]:Boolean(d.header)}],u={...m(a,c),columnsStyles:t,class:i,columns:e,headerIndex:o,style:l};return(0,r.createVNode)(ce,u,"function"==typeof(h=d)||"[object Object]"===Object.prototype.toString.call(h)&&!(0,r.isVNode)(h)?d:{default:()=>[d]});var h};const ue=(e,{slots:t})=>(0,r.renderSlot)(t,"default",e,(()=>{var t,o;return[(0,r.createVNode)("div",{class:e.class,title:null==(t=e.column)?void 0:t.title},[null==(o=e.column)?void 0:o.title])]}));ue.displayName="ElTableV2HeaderCell",ue.inheritAttrs=!1;var he=ue;var fe=e=>{const{sortOrder:t}=e;return(0,r.createVNode)(oe.tk,{size:14,class:e.class},{default:()=>[t===l.ASC?(0,r.createVNode)(re.MzZ,null,null):(0,r.createVNode)(re.L97,null,null)]})};var pe=(e,{slots:t})=>{const{column:o,ns:a,style:c,onColumnSorted:i}=e,u=y(c);if(o.placeholderSign===d)return(0,r.createVNode)("div",{class:a.em("header-row-cell","placeholder"),style:u},null);const{headerCellRenderer:h,headerClass:f,sortable:p}=o,w={...e,class:a.e("header-cell-text")},x=g(h),b=x?x(w):(0,r.renderSlot)(t,"default",w,(()=>[(0,r.createVNode)(he,w,null)])),{sortBy:v,sortState:R,headerCellProps:S}=e;let H,T;if(R){const e=R[o.key];H=Boolean(s[e]),T=H?e:l.ASC}else H=o.key===v.key,T=H?v.order:l.ASC;const C=[a.e("header-cell"),m(f,e,""),o.align===n.CENTER&&a.is("align-center"),o.align===n.RIGHT&&a.is("align-right"),p&&a.is("sortable")],E={...m(S,e),onClick:o.sortable?i:void 0,class:C,style:u,"data-key":o.key};return(0,r.createVNode)("div",(0,r.mergeProps)(E,{role:"columnheader"}),[b,p&&(0,r.createVNode)(fe,{class:[a.e("sort-icon"),H&&a.is("sorting")],sortOrder:T},null)])};const we=(e,{slots:t})=>{var o;return(0,r.createVNode)("div",{class:e.class,style:e.style},[null==(o=t.default)?void 0:o.call(t)])};we.displayName="ElTableV2Footer";var me=we,ye=o(883);const ge=(e,{slots:t})=>{const o=(0,r.renderSlot)(t,"default",{},(()=>[(0,r.createVNode)(ye.x0,null,null)]));return(0,r.createVNode)("div",{class:e.class,style:e.style},[o])};ge.displayName="ElTableV2Empty";var xe=ge;const be=(e,{slots:t})=>{var o;return(0,r.createVNode)("div",{class:e.class,style:e.style},[null==(o=t.default)?void 0:o.call(t)])};be.displayName="ElTableV2Overlay";var ve=be;function Re(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,r.isVNode)(e)}const Se=(0,r.defineComponent)({name:"ElTableV2",props:k,setup(e,{slots:t,expose:o}){const l=(0,x.DU)("table-v2"),{columnsStyles:n,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,mainColumns:d,mainTableHeight:c,fixedTableHeight:i,leftTableWidth:u,rightTableWidth:h,data:f,depthMap:p,expandedRowKeys:w,hasFixedColumns:m,mainTableRef:y,leftTableRef:g,rightTableRef:R,isDynamic:S,isResetting:H,isScrolling:T,bodyWidth:C,emptyStyle:E,rootStyle:I,headerWidth:N,footerHeight:V,showEmpty:j,scrollTo:K,scrollToLeft:O,scrollToTop:D,scrollToRow:W,getRowHeight:q,onColumnSorted:A,onRowHeightChange:k,onRowHovered:P,onRowExpanded:z,onRowsRendered:G,onScroll:L,onVerticalScroll:F}=b(e);return o({scrollTo:K,scrollToLeft:O,scrollToTop:D,scrollToRow:W}),(0,r.provide)(v,{ns:l,isResetting:H,isScrolling:T}),()=>{const{cache:o,cellProps:x,estimatedRowHeight:b,expandColumnKey:v,fixedData:H,headerHeight:T,headerClass:K,headerProps:O,headerCellProps:D,sortBy:W,sortState:M,rowHeight:B,rowClass:Y,rowEventHandlers:Q,rowKey:Z,rowProps:X,scrollbarAlwaysOn:ee,indentSize:te,iconSize:oe,useIsScrolling:re,vScrollbarSize:le,width:ne}=e,se=(0,r.unref)(f),de={cache:o,class:l.e("main"),columns:(0,r.unref)(d),data:se,fixedData:H,estimatedRowHeight:b,bodyWidth:(0,r.unref)(C)+le,headerHeight:T,headerWidth:(0,r.unref)(N),height:(0,r.unref)(c),mainTableRef:y,rowKey:Z,rowHeight:B,scrollbarAlwaysOn:ee,scrollbarStartGap:2,scrollbarEndGap:le,useIsScrolling:re,width:ne,getRowHeight:q,onRowsRendered:G,onScroll:L},ce=(0,r.unref)(u),ue=(0,r.unref)(i),he={cache:o,class:l.e("left"),columns:(0,r.unref)(a),data:se,fixedData:H,estimatedRowHeight:b,leftTableRef:g,rowHeight:B,bodyWidth:ce,headerWidth:ce,headerHeight:T,height:ue,rowKey:Z,scrollbarAlwaysOn:ee,scrollbarStartGap:2,scrollbarEndGap:le,useIsScrolling:re,width:ce,getRowHeight:q,onScroll:F},fe=(0,r.unref)(h)+le,we={cache:o,class:l.e("right"),columns:(0,r.unref)(s),data:se,fixedData:H,estimatedRowHeight:b,rightTableRef:R,rowHeight:B,bodyWidth:fe,headerWidth:fe,headerHeight:T,height:ue,rowKey:Z,scrollbarAlwaysOn:ee,scrollbarStartGap:2,scrollbarEndGap:le,width:fe,style:`--${(0,r.unref)(l.namespace)}-table-scrollbar-size: ${le}px`,useIsScrolling:re,getRowHeight:q,onScroll:F},ye=(0,r.unref)(n),ge={ns:l,depthMap:(0,r.unref)(p),columnsStyles:ye,expandColumnKey:v,expandedRowKeys:(0,r.unref)(w),estimatedRowHeight:b,hasFixedColumns:(0,r.unref)(m),rowProps:X,rowClass:Y,rowKey:Z,rowEventHandlers:Q,onRowHovered:P,onRowExpanded:z,onRowHeightChange:k},be={cellProps:x,expandColumnKey:v,indentSize:te,iconSize:oe,rowKey:Z,expandedRowKeys:(0,r.unref)(w),ns:l},Se={ns:l,headerClass:K,headerProps:O,columnsStyles:ye},He={ns:l,sortBy:W,sortState:M,headerCellProps:D,onColumnSorted:A},Te={row:e=>(0,r.createVNode)(J,(0,r.mergeProps)(e,ge),{row:t.row,cell:e=>{let o;return t.cell?(0,r.createVNode)(ae,(0,r.mergeProps)(e,be,{style:ye[e.column.key]}),Re(o=t.cell(e))?o:{default:()=>[o]}):(0,r.createVNode)(ae,(0,r.mergeProps)(e,be,{style:ye[e.column.key]}),null)}}),header:e=>(0,r.createVNode)(ie,(0,r.mergeProps)(e,Se),{header:t.header,cell:e=>{let o;return t["header-cell"]?(0,r.createVNode)(pe,(0,r.mergeProps)(e,He,{style:ye[e.column.key]}),Re(o=t["header-cell"](e))?o:{default:()=>[o]}):(0,r.createVNode)(pe,(0,r.mergeProps)(e,He,{style:ye[e.column.key]}),null)}})},Ce=[e.class,l.b(),l.e("root"),{[l.is("dynamic")]:(0,r.unref)(S)}],Ee={class:l.e("footer"),style:(0,r.unref)(V)};return(0,r.createVNode)("div",{class:Ce,style:(0,r.unref)(I)},[(0,r.createVNode)(U,de,Re(Te)?Te:{default:()=>[Te]}),(0,r.createVNode)(_,he,Re(Te)?Te:{default:()=>[Te]}),(0,r.createVNode)($,we,Re(Te)?Te:{default:()=>[Te]}),t.footer&&(0,r.createVNode)(me,Ee,{default:t.footer}),(0,r.unref)(j)&&(0,r.createVNode)(xe,{class:l.e("empty"),style:(0,r.unref)(E)},{default:t.empty}),t.overlay&&(0,r.createVNode)(ve,{class:l.e("overlay")},{default:t.overlay})])}}});var He=Se;const Te=(0,R.b_)({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:(0,R.jq)(Function)}});var Ce=o(91737);const Ee=(0,r.defineComponent)({name:"ElAutoResizer",props:Te,setup(e,{slots:t}){const o=(0,x.DU)("auto-resizer"),{height:l,width:n,sizer:a}=(e=>{const t=(0,r.ref)(),o=(0,r.ref)(0),l=(0,r.ref)(0);let n;return(0,r.onMounted)((()=>{n=(0,Ce.wYm)(t,(([e])=>{const{width:t,height:r}=e.contentRect,{paddingLeft:n,paddingRight:a,paddingTop:s,paddingBottom:d}=getComputedStyle(e.target),c=Number.parseInt(n)||0,i=Number.parseInt(a)||0,u=Number.parseInt(s)||0,h=Number.parseInt(d)||0;o.value=t-c-i,l.value=r-u-h})).stop})),(0,r.onBeforeUnmount)((()=>{null==n||n()})),(0,r.watch)([o,l],(([t,o])=>{var r;null==(r=e.onResize)||r.call(e,{width:t,height:o})})),{sizer:t,width:o,height:l}})(e),s={width:"100%",height:"100%"};return()=>{var e;return(0,r.createVNode)("div",{ref:a,class:o.b(),style:s},[null==(e=t.default)?void 0:e.call(t,{height:l.value,width:n.value})])}}});var Ie=Ee,Ne=o(25376);const Ve=(0,Ne.GU)(He),je=(0,Ne.GU)(Ie)}}]);
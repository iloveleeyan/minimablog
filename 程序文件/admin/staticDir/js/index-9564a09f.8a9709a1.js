"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[2620],{52496:function(e,t,a){a.a(e,(async function(e,l){try{var o=a(54203),i=a(98969),n=a(71241),r=e([i]);i=(r.then?(await r)():r)[0];const s=(0,n.A)(i.A,[["render",o.X]]);t.A=s,l()}catch(e){l(e)}}))},54203:function(e,t,a){a.d(t,{X:function(){return _}});a(18111),a(61701);var l=a(99601);const o={class:"main-config"},i={class:"mt-40"},n={key:0,class:"mt-20"},r={key:1,class:"mt-40 comment-fontsize"},s={class:"width-100-pct"},c={key:0,class:"skin-center-list mt-40 mb-40 width-100-pct"},d={class:"exceed-dot"},u={key:0,class:"skin-center-card-color"},m={class:"config-skin-create"},k=["data-clipboard-text","id","data-clipboard-target","onClick"],g={class:"form-skin-color-picker"},h={key:0,class:"form-skin-css-tips-image"},C={key:0,class:"form-skin-css-tips-text"},p=["src"],f={key:1,class:"skin-center-container mt-30"},V={class:"skin-center-list"},b={class:"exceed-dot"},w={class:"skin-center-card-author"},N={key:0,class:"skin-center-card-color"},x=["data-clipboard-text","id","data-clipboard-target","onClick"],S={key:1},v={class:"skin-center-card-install"},B={class:"form-background-color-picker"},y={class:"mt-10 text-decoration-underline"},L={class:"user-avatar-list"};function _(e,t,a,_,E,I){const T=(0,l.resolveComponent)("ConfigHeaderView"),U=(0,l.resolveComponent)("el-divider"),z=(0,l.resolveComponent)("el-radio"),A=(0,l.resolveComponent)("el-radio-group"),q=(0,l.resolveComponent)("el-form-item"),W=(0,l.resolveComponent)("el-checkbox"),D=(0,l.resolveComponent)("el-button"),F=(0,l.resolveComponent)("el-table-column"),P=(0,l.resolveComponent)("el-link"),O=(0,l.resolveComponent)("el-table"),H=(0,l.resolveComponent)("el-option"),M=(0,l.resolveComponent)("el-select"),R=(0,l.resolveComponent)("el-image"),X=(0,l.resolveComponent)("el-skeleton-item"),G=(0,l.resolveComponent)("el-card"),K=(0,l.resolveComponent)("el-popconfirm"),$=(0,l.resolveComponent)("el-input"),Z=(0,l.resolveComponent)("ColorPicker"),j=(0,l.resolveComponent)("el-popover"),J=(0,l.resolveComponent)("el-pagination"),Q=(0,l.resolveComponent)("el-switch"),Y=(0,l.resolveComponent)("el-upload"),ee=(0,l.resolveComponent)("el-form"),te=(0,l.resolveDirective)("loading");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(T,{title:E.title},null,8,["title"]),(0,l.createElementVNode)("div",o,[(0,l.createVNode)(ee,{model:E.config,"label-width":0},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(U,{"content-position":"left",class:"mt-10"},{default:(0,l.withCtx)((()=>t[33]||(t[33]=[(0,l.createTextVNode)("布局设置")]))),_:1}),t[79]||(t[79]=(0,l.createElementVNode)("h4",null,"布局设置",-1)),(0,l.createVNode)(q,{label:"",class:"flex-row"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(A,{modelValue:E.config.layoutCount,"onUpdate:modelValue":t[0]||(t[0]=e=>E.config.layoutCount=e),onChange:I.requestUpdate},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(z,{value:1,size:"large"},{default:(0,l.withCtx)((()=>t[34]||(t[34]=[(0,l.createTextVNode)("单列布局")]))),_:1}),(0,l.createVNode)(z,{value:2,size:"large"},{default:(0,l.withCtx)((()=>t[35]||(t[35]=[(0,l.createTextVNode)("双列布局")]))),_:1})])),_:1},8,["modelValue","onChange"])])),_:1}),(0,l.createVNode)(q,{label:"",class:"checkbox-widget-config"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(W,{modelValue:E.checkBoxWidgetBlog,"onUpdate:modelValue":t[1]||(t[1]=e=>E.checkBoxWidgetBlog=e),onChange:t[2]||(t[2]=e=>I.requestUpdate()),disabled:2!==E.config.layoutCount,label:"博客卡片",size:"default",border:""},null,8,["modelValue","disabled"]),(0,l.createVNode)(W,{modelValue:E.checkBoxWidgetArticle,"onUpdate:modelValue":t[3]||(t[3]=e=>E.checkBoxWidgetArticle=e),onChange:t[4]||(t[4]=e=>I.requestUpdate()),disabled:2!==E.config.layoutCount,label:"日志推荐",size:"default",border:""},null,8,["modelValue","disabled"]),(0,l.createVNode)(W,{modelValue:E.checkBoxWidgetComment,"onUpdate:modelValue":t[5]||(t[5]=e=>E.checkBoxWidgetComment=e),onChange:t[6]||(t[6]=e=>I.requestUpdate()),disabled:2!==E.config.layoutCount,label:"最近评论",size:"default",border:""},null,8,["modelValue","disabled"])])),_:1}),(0,l.createElementVNode)("div",i,[(0,l.createVNode)(D,{size:"large",type:"primary",onClick:t[7]||(t[7]=e=>I.switchWidgetArticle())},{default:(0,l.withCtx)((()=>t[36]||(t[36]=[(0,l.createElementVNode)("i",{class:"fa fa-fw fa-archive"},null,-1),(0,l.createTextVNode)(" 管理边栏推荐日志")]))),_:1}),E.visibleArticle?((0,l.openBlock)(),(0,l.createElementBlock)("div",n,[(0,l.createVNode)(O,{data:E.widgetArticleList,style:{width:"100%"}},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(F,{prop:"articleId",label:"id",width:"80"}),(0,l.createVNode)(F,{label:"日志标题",width:"400"},{default:(0,l.withCtx)((e=>[(0,l.createVNode)(P,{href:E.config.url+e.row.fullPath,target:"_blank"},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.row.title),1)])),_:2},1032,["href"])])),_:1}),(0,l.createVNode)(F,{label:"操作",width:"200"},{default:(0,l.withCtx)((e=>[(0,l.createVNode)(D,{class:"tag-block tag-white",onClick:t=>I.moveWidgetArticle(e.row.articleId,!0)},{default:(0,l.withCtx)((()=>t[37]||(t[37]=[(0,l.createTextVNode)(" 上移 ")]))),_:2},1032,["onClick"]),(0,l.createVNode)(D,{class:"tag-block tag-white",onClick:t=>I.moveWidgetArticle(e.row.articleId,!1)},{default:(0,l.withCtx)((()=>t[38]||(t[38]=[(0,l.createTextVNode)(" 下移 ")]))),_:2},1032,["onClick"]),(0,l.createVNode)(D,{class:"tag-block tag-red",onClick:t=>I.removeWidgetArticle(e.row.articleId)},{default:(0,l.withCtx)((()=>t[39]||(t[39]=[(0,l.createTextVNode)(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])):(0,l.createCommentVNode)("",!0),E.visibleArticle?((0,l.openBlock)(),(0,l.createElementBlock)("div",r,[t[41]||(t[41]=(0,l.createTextVNode)(" 去 ")),(0,l.createVNode)(P,{href:I.gotoArticle(),target:"_blank",type:"primary"},{default:(0,l.withCtx)((()=>t[40]||(t[40]=[(0,l.createTextVNode)("日志管理")]))),_:1},8,["href"]),t[42]||(t[42]=(0,l.createTextVNode)(" 点击 “更多” 按钮添加日志到这里 "))])):(0,l.createCommentVNode)("",!0)]),t[80]||(t[80]=(0,l.createElementVNode)("h4",{class:"mt-30"},"日志封面图布局",-1)),(0,l.createVNode)(q,{label:"",class:"flex-row"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(A,{modelValue:E.config.logoType,"onUpdate:modelValue":t[8]||(t[8]=e=>E.config.logoType=e),onChange:I.requestUpdate},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(z,{value:1,size:"large"},{default:(0,l.withCtx)((()=>t[43]||(t[43]=[(0,l.createTextVNode)("横幅式封面图")]))),_:1}),(0,l.createVNode)(z,{value:2,size:"large"},{default:(0,l.withCtx)((()=>t[44]||(t[44]=[(0,l.createTextVNode)("小正方形封面图（图放左边）")]))),_:1})])),_:1},8,["modelValue","onChange"])])),_:1}),(0,l.createVNode)(U,{"content-position":"left",class:"mt-80"},{default:(0,l.withCtx)((()=>t[45]||(t[45]=[(0,l.createTextVNode)("主题设置")]))),_:1}),t[81]||(t[81]=(0,l.createElementVNode)("h4",null,"外观主题",-1)),(0,l.createVNode)(q,{label:"",class:"flex-row"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(M,{modelValue:E.config.skin,"onUpdate:modelValue":t[10]||(t[10]=e=>E.config.skin=e),class:"width-150 mr-15 mb-10",placeholder:"选一个",onChange:I.changeSkin},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.skinList,(e=>((0,l.openBlock)(),(0,l.createBlock)(H,{key:e.value,label:e.name,value:e.value,onClick:t[9]||(t[9]=e=>I.requestUpdate())},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1}),t[82]||(t[82]=(0,l.createElementVNode)("h4",null,"自定义主题",-1)),(0,l.createElementVNode)("div",s,[(0,l.createVNode)(D,{class:"tag-block-large tag-green",onClick:t[11]||(t[11]=e=>{E.visibleCreateSkin=!E.visibleCreateSkin,E.skin.id=null})},{default:(0,l.withCtx)((()=>t[46]||(t[46]=[(0,l.createElementVNode)("i",{class:"fa fa-fw fa-plus"},null,-1),(0,l.createTextVNode)(" 创建主题 ")]))),_:1}),E.visibleCreateSkin?((0,l.openBlock)(),(0,l.createBlock)(D,{key:0,class:"tag-block-large tag-white",onClick:t[12]||(t[12]=e=>{E.visibleCreateSkin=!1,E.visibleSkinList=!0})},{default:(0,l.withCtx)((()=>t[47]||(t[47]=[(0,l.createElementVNode)("i",{class:"fa fa-fw fa-reply"},null,-1),(0,l.createTextVNode)(" 取消 ")]))),_:1})):(0,l.createCommentVNode)("",!0)]),E.visibleCreateSkin?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",c,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.customSkinList,((e,a)=>((0,l.openBlock)(),(0,l.createBlock)(K,{width:I.isPcWidth()?420:300,icon:I.Setting,"icon-color":"#626AEF",title:"请选择操作",placement:"top",key:a},{reference:(0,l.withCtx)((()=>[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(G,{class:"skin-center-card cursor-pointer"},{header:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",d,(0,l.toDisplayString)(e.name),1)])),default:(0,l.withCtx)((()=>[e.customSkinColorList.length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",u,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.customSkinColorList,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:t,style:(0,l.normalizeStyle)("background-color: "+e),class:"skin-center-color-list"},null,4)))),128))])):(0,l.createCommentVNode)("",!0),e.logoUrl?((0,l.openBlock)(),(0,l.createBlock)(R,{key:1,fit:"cover",src:e.logoUrl,class:"skin-center-list-logo",alt:"","preview-src-list":[e.logoUrl]},null,8,["src","preview-src-list"])):(0,l.createCommentVNode)("",!0),e.logoUrl?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(X,{key:2,variant:"image",class:"skin-center-list-logo"})),E.config.customSkinId===e.id&&E.useCustomSkin?((0,l.openBlock)(),(0,l.createBlock)(D,{key:3,class:"skin-center-card-use tag-radius tag-green"},{default:(0,l.withCtx)((()=>t[48]||(t[48]=[(0,l.createElementVNode)("i",{class:"fa fa-check-circle"},null,-1),(0,l.createTextVNode)(" 使用中 ")]))),_:1})):(0,l.createCommentVNode)("",!0),e.isCustomHasUpdate&&e.isNotSame&&e.isAuthor?((0,l.openBlock)(),(0,l.createBlock)(D,{key:4,class:"skin-center-card-use tag-radius tag-orange"},{default:(0,l.withCtx)((()=>t[49]||(t[49]=[(0,l.createElementVNode)("i",{class:"fa fa-upload"},null,-1),(0,l.createTextVNode)(" 可上传更新 ")]))),_:1})):(0,l.createCommentVNode)("",!0),e.isNew&&e.isAuthor?((0,l.openBlock)(),(0,l.createBlock)(D,{key:5,class:"skin-center-card-use tag-radius tag-yellow"},{default:(0,l.withCtx)((()=>t[50]||(t[50]=[(0,l.createElementVNode)("i",{class:"fa fa-upload"},null,-1),(0,l.createTextVNode)(" 可上传 ")]))),_:1})):(0,l.createCommentVNode)("",!0)])),_:2},1024)),[[te,e.loading]])])),actions:(0,l.withCtx)((()=>[(0,l.createVNode)(D,{onClick:t=>{E.config.skin="skin-custom",E.config.customSkinId=e.id,I.requestUpdate()},class:"tag-block tag-blue mb-10",disabled:E.config.customSkinId===e.id&&E.useCustomSkin},{default:(0,l.withCtx)((()=>t[51]||(t[51]=[(0,l.createElementVNode)("i",{class:"fa fa-fw fa-check"},null,-1),(0,l.createTextVNode)(" 使用此主题 ")]))),_:2},1032,["onClick","disabled"]),(0,l.createVNode)(D,{onClick:t=>{E.visibleCreateSkin=!0,E.visibleSkinList=!1,E.skin=e},class:"tag-block tag-white mb-10"},{default:(0,l.withCtx)((()=>t[52]||(t[52]=[(0,l.createElementVNode)("i",{class:"fa fa-fw fa-edit"},null,-1),(0,l.createTextVNode)(" 编辑 ")]))),_:2},1032,["onClick"]),(0,l.createVNode)(K,{title:"确认上传到仓库？你的主题将与博友共享",width:"300",onConfirm:t=>I.requestUploadSkin(e.name,e.content,e)},{reference:(0,l.withCtx)((()=>[(0,l.createVNode)(D,{class:"tag-block tag-green mb-10",loading:E.loadingUploadSkin,disabled:!1===e.isCustomHasUpdate&&!e.isNotSame||!e.isAuthor},{default:(0,l.withCtx)((()=>[t[53]||(t[53]=(0,l.createElementVNode)("i",{class:"fa fa-fw fa-upload"},null,-1)),(0,l.createTextVNode)(" "+(0,l.toDisplayString)(E.loadingUploadSkin?"上传中……":e.isCustomHasUpdate?"更新到仓库！":"上传到仓库！"),1)])),_:2},1032,["loading","disabled"])])),_:2},1032,["onConfirm"]),(0,l.createVNode)(K,{title:"确认删除？",width:"300",onConfirm:t=>I.requestDeleteSkin(e.id)},{reference:(0,l.withCtx)((()=>[(0,l.createVNode)(D,{class:"tag-block tag-red mb-10"},{default:(0,l.withCtx)((()=>t[54]||(t[54]=[(0,l.createElementVNode)("i",{class:"fa fa-fw fa-remove"},null,-1),(0,l.createTextVNode)(" 删除")]))),_:1})])),_:2},1032,["onConfirm"])])),_:2},1032,["width","icon"])))),128))])),(0,l.withDirectives)((0,l.createElementVNode)("div",m,[t[60]||(t[60]=(0,l.createElementVNode)("h4",null,"主题名称",-1)),(0,l.createVNode)(q,{label:"",class:"flex-row"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)($,{modelValue:E.skin.name,"onUpdate:modelValue":t[13]||(t[13]=e=>E.skin.name=e),class:"input-tag width-200"},null,8,["modelValue"])])),_:1}),t[61]||(t[61]=(0,l.createElementVNode)("h4",null,"颜色",-1)),(0,l.createVNode)(q,{label:"",class:"flex-row"},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.skin.customSkinColorList,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:t,style:(0,l.normalizeStyle)("background-color: "+e),class:"config-skin-color-list mr-10","data-clipboard-text":e,"data-clipboard-action":"copy",id:"id_"+t,"data-clipboard-target":"#id_"+t,onClick:a=>I.copyClipboard("id_"+t,e)},null,12,k)))),128))])),_:1}),t[62]||(t[62]=(0,l.createElementVNode)("h4",null,"css代码",-1)),(0,l.createVNode)(q,{label:"",class:"flex-row"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)($,{modelValue:E.skin.content,"onUpdate:modelValue":t[14]||(t[14]=e=>E.skin.content=e),id:"textareaSkin",ref:"refTextareaSkin",type:"textarea",rows:"27",class:"input-tag width-500",onClick:I.clickSkinCode},null,8,["modelValue","onClick"]),(0,l.createElementVNode)("div",g,[(0,l.createVNode)(Z,{pureColor:E.skinColor,"onUpdate:pureColor":t[15]||(t[15]=e=>E.skinColor=e),format:"hex6",shape:"circle",useType:"both"},null,8,["pureColor"])]),E.tipsImageList.length>0&&I.isPcWidth()?((0,l.openBlock)(),(0,l.createElementBlock)("div",h,[E.tipsText&&E.tipsText.desc?((0,l.openBlock)(),(0,l.createElementBlock)("div",C,(0,l.toDisplayString)(E.tipsText.desc),1)):(0,l.createCommentVNode)("",!0),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.tipsImageList,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("img",{src:e,alt:"",key:t},null,8,p)))),128))])):(0,l.createCommentVNode)("",!0)])),_:1}),(0,l.createVNode)(q,{label:"",class:"flex-row mb-40"},{default:(0,l.withCtx)((()=>[E.skin.id>0?((0,l.openBlock)(),(0,l.createBlock)(D,{key:0,class:"tag-block-large tag-orange",onClick:t[16]||(t[16]=e=>I.requestUpdateSkin())},{default:(0,l.withCtx)((()=>t[55]||(t[55]=[(0,l.createElementVNode)("i",{class:"fa fa-save"},null,-1),(0,l.createTextVNode)(" 保存修改")]))),_:1})):(0,l.createCommentVNode)("",!0),null===E.skin.id?((0,l.openBlock)(),(0,l.createBlock)(D,{key:1,class:"tag-block-large tag-green",onClick:t[17]||(t[17]=e=>I.requestCreateSkin())},{default:(0,l.withCtx)((()=>t[56]||(t[56]=[(0,l.createElementVNode)("i",{class:"fa fa-save"},null,-1),(0,l.createTextVNode)(" 创建保存")]))),_:1})):(0,l.createCommentVNode)("",!0),E.visibleCreateSkin?((0,l.openBlock)(),(0,l.createBlock)(D,{key:2,class:"tag-block-large tag-white",onClick:t[18]||(t[18]=e=>{E.visibleCreateSkin=!1,E.visibleSkinList=!0})},{default:(0,l.withCtx)((()=>t[57]||(t[57]=[(0,l.createTextVNode)("取消")]))),_:1})):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(K,{title:"确认加载？将会覆盖文本框中所有内容",width:"300",onConfirm:t[19]||(t[19]=e=>E.skin.content=E.commonConstant.DEFAULT_SKIN)},{reference:(0,l.withCtx)((()=>[(0,l.createVNode)(D,{class:"tag-block-large tag-white"},{default:(0,l.withCtx)((()=>t[58]||(t[58]=[(0,l.createTextVNode)("从模板加载")]))),_:1})])),_:1}),(0,l.createVNode)(j,{placement:"right",title:"提示",width:550,trigger:"hover"},{reference:(0,l.withCtx)((()=>[(0,l.createVNode)(P,{class:"ml-15",underline:!0,type:"primary"},{default:(0,l.withCtx)((()=>t[59]||(t[59]=[(0,l.createTextVNode)("代码注释？")]))),_:1})])),default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.tipsTextList,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("p",{key:t},(0,l.toDisplayString)(e.css)+":"+(0,l.toDisplayString)(e.desc),1)))),128))])])),_:1})])),_:1})],512),[[l.vShow,E.visibleCreateSkin]]),(0,l.createVNode)(U,{"content-position":"left",class:"mt-60"},{default:(0,l.withCtx)((()=>t[63]||(t[63]=[(0,l.createTextVNode)("主题仓库")]))),_:1}),t[83]||(t[83]=(0,l.createElementVNode)("a",{id:"skin_center_list"},null,-1)),(0,l.createElementVNode)("div",null,[(0,l.withDirectives)(((0,l.openBlock)(),(0,l.createBlock)(D,{size:"large",type:"primary",onClick:I.requestSkinCenterList},{default:(0,l.withCtx)((()=>[t[64]||(t[64]=(0,l.createElementVNode)("i",{class:"fa fa-fw fa-download"},null,-1)),(0,l.createTextVNode)(" 从主题仓库获取"+(0,l.toDisplayString)(E.skinCenterList.length>0?"（刷新）":""),1)])),_:1},8,["onClick"])),[[te,E.loadingSkinCenter]])]),E.skinCenterList.length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",f,[(0,l.createElementVNode)("div",V,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.skinCenterList,((e,a)=>((0,l.openBlock)(),(0,l.createBlock)(G,{class:"skin-center-card",key:a},{header:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",b,(0,l.toDisplayString)(e.name),1)])),default:(0,l.withCtx)((()=>[(0,l.createVNode)(j,{placement:"top",title:"作者博客url",width:300,trigger:"hover",content:e.authorUrl},{reference:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",w,"作者： "+(0,l.toDisplayString)(e.author),1)])),_:2},1032,["content"]),e.colorList.length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",N,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.colorList,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:t,style:(0,l.normalizeStyle)("background-color: "+e),class:"skin-center-color-list","data-clipboard-text":e,"data-clipboard-action":"copy",id:"id_"+t,"data-clipboard-target":"#id_"+t,onClick:a=>I.copyClipboard("id_"+t,e)},null,12,x)))),128))])):(0,l.createCommentVNode)("",!0),0===e.colorList.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",S,t[65]||(t[65]=[(0,l.createElementVNode)("span",null,"没有识别到颜色",-1)]))):(0,l.createCommentVNode)("",!0),e.logoUrl?((0,l.openBlock)(),(0,l.createBlock)(R,{key:2,fit:"cover",src:e.logoUrl,class:"skin-center-list-logo",alt:"","preview-src-list":e.imageList.map((e=>e.imageUrl))},null,8,["src","preview-src-list"])):(0,l.createCommentVNode)("",!0),e.logoUrl?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(X,{key:3,variant:"image",class:"skin-center-list-logo"})),(0,l.createElementVNode)("div",v,[e.isHas||e.isSame||e.isAuthor?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createBlock)(D,{key:0,class:"tag-block tag-green right cursor-pointer",onClick:t=>I.installSkin(e.skinId,e.name)},{default:(0,l.withCtx)((()=>t[66]||(t[66]=[(0,l.createTextVNode)(" 安装到本地 "),(0,l.createElementVNode)("i",{class:"fa fa-fw fa-download ml-5"},null,-1)]))),_:2},1032,["onClick"])),e.isHas&&!e.isSame&&e.isCenterNewVersion&&!e.isAuthor?((0,l.openBlock)(),(0,l.createBlock)(D,{key:1,class:"tag-block tag-yellow right cursor-pointer",onClick:t=>I.installSkin(e.skinId,e.name)},{default:(0,l.withCtx)((()=>t[67]||(t[67]=[(0,l.createTextVNode)(" 获取更新 "),(0,l.createElementVNode)("i",{class:"fa fa-fw fa-download ml-5"},null,-1)]))),_:2},1032,["onClick"])):(0,l.createCommentVNode)("",!0),e.isCenterNewVersion&&e.isAuthor?((0,l.openBlock)(),(0,l.createBlock)(D,{key:2,class:"tag-block tag-orange right cursor-pointer",onClick:t=>I.warnTips(e.name)},{default:(0,l.withCtx)((()=>t[68]||(t[68]=[(0,l.createTextVNode)(" 可上传更新 "),(0,l.createElementVNode)("i",{class:"fa fa-fw fa-upload ml-5"},null,-1)]))),_:2},1032,["onClick"])):(0,l.createCommentVNode)("",!0)])])),_:2},1024)))),128))]),(0,l.createVNode)(J,{onSizeChange:I.changeCenterSize,onCurrentChange:I.changeCenterCurrent,"current-page":E.paramsCenter.page,"page-sizes":[15,24,60],"page-size":E.paramsCenter.size,layout:"total, prev, next, pager,jumper,sizes",total:E.paramsCenter.total,class:"table mt-20"},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(U,{"content-position":"left",class:"mt-60"},{default:(0,l.withCtx)((()=>t[69]||(t[69]=[(0,l.createTextVNode)("其他设置")]))),_:1}),(0,l.createVNode)(q,{label:"背景颜色",class:"flex-row","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)($,{modelValue:E.config.backgroundColor,"onUpdate:modelValue":t[20]||(t[20]=e=>E.config.backgroundColor=e),class:"input-tag width-80"},null,8,["modelValue"]),(0,l.createVNode)(M,{modelValue:E.backgroundColor,"onUpdate:modelValue":t[21]||(t[21]=e=>E.backgroundColor=e),class:"width-100 ml-15",placeholder:"选一个",onChange:I.changeSelectColor},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.colorList,(e=>((0,l.openBlock)(),(0,l.createBlock)(H,{key:e,label:e,value:e},null,8,["label","value"])))),128)),((0,l.openBlock)(),(0,l.createBlock)(H,{key:-1,label:E.pureColor,value:E.pureColor},null,8,["label","value"]))])),_:1},8,["modelValue","onChange"]),(0,l.createElementVNode)("div",B,[(0,l.createVNode)(Z,{pureColor:E.pureColor,"onUpdate:pureColor":t[22]||(t[22]=e=>E.pureColor=e),format:"hex6",shape:"circle",useType:"both"},null,8,["pureColor"])])])),_:1}),(0,l.createVNode)(q,{label:"背景图透明",error:E.error.backgroundOpacity,"label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(M,{modelValue:E.config.backgroundOpacity,"onUpdate:modelValue":t[23]||(t[23]=e=>E.config.backgroundOpacity=e),placeholder:"选一个",class:"width-150 mr-15"},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.backgroundOpacityList,(e=>((0,l.openBlock)(),(0,l.createBlock)(H,{key:e.name,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,l.createVNode)(j,{placement:"top-end",title:"提示",width:300,trigger:"hover",content:"当设置为 [0% 完全透明] 的时候，“背景颜色”才能生效。当设置成大于 0% 的值，“背景图片”才能生效"},{reference:(0,l.withCtx)((()=>[(0,l.createVNode)(P,{class:"mb-10",underline:!0,type:"primary"},{default:(0,l.withCtx)((()=>t[70]||(t[70]=[(0,l.createTextVNode)("帮助?")]))),_:1})])),_:1}),t[71]||(t[71]=(0,l.createElementVNode)("div",{class:"width-100-pct"},null,-1)),(0,l.createElementVNode)("div",y," 当前背景模式："+(0,l.toDisplayString)(E.config.backgroundOpacity>0?"目前背景图已生效，背景颜色已失效":"目前背景颜色已生效，背景图已失效"),1)])),_:1},8,["error"]),(0,l.createVNode)(q,{label:"自定义css","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)($,{modelValue:E.config.customCss,"onUpdate:modelValue":t[24]||(t[24]=e=>E.config.customCss=e),type:"textarea",rows:"12",class:"input-tag width-600"},null,8,["modelValue"])])),_:1}),(0,l.createVNode)(q,{label:"日志分页","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(M,{modelValue:E.config.articlePageSize,"onUpdate:modelValue":t[25]||(t[25]=e=>E.config.articlePageSize=e),placeholder:"选一个",class:"width-200"},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.articlePageSizeList,(e=>((0,l.openBlock)(),(0,l.createBlock)(H,{key:e.size,label:e.name,value:e.size},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.createVNode)(q,{label:"PC端字体大小","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(M,{modelValue:E.config.fontSize,"onUpdate:modelValue":t[26]||(t[26]=e=>E.config.fontSize=e),placeholder:"选一个",class:"width-200"},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.fontSizeList,(e=>((0,l.openBlock)(),(0,l.createBlock)(H,{key:e.size,label:e.name,value:e.size},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.createVNode)(q,{label:"评论分页","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(M,{modelValue:E.config.commentPageSize,"onUpdate:modelValue":t[27]||(t[27]=e=>E.config.commentPageSize=e),placeholder:"选一个",class:"width-200"},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.commentPageSizeList,(e=>((0,l.openBlock)(),(0,l.createBlock)(H,{key:e.size,label:e.name,value:e.size},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.createVNode)(q,{label:"列表显示","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(Q,{modelValue:E.config.articleListTag,"onUpdate:modelValue":t[28]||(t[28]=e=>E.config.articleListTag=e),"active-text":"日志列表页显示标签","inactive-text":"关闭标签显示","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1}),(0,l.createVNode)(q,{label:"评论城市","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(Q,{modelValue:E.config.isCommentCity,"onUpdate:modelValue":t[29]||(t[29]=e=>E.config.isCommentCity=e),"active-text":"评论列表显示发布所在城市","inactive-text":"关闭城市显示","active-value":!0,"inactive-value":!1},null,8,["modelValue"])])),_:1}),(0,l.createVNode)(q,{label:"","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(D,{class:"tag-block-large tag-green",onClick:t[30]||(t[30]=e=>I.requestUpdate())},{default:(0,l.withCtx)((()=>t[72]||(t[72]=[(0,l.createElementVNode)("i",{class:"fa fa-save"},null,-1),(0,l.createTextVNode)(" 保存修改")]))),_:1})])),_:1}),(0,l.createVNode)(q,{label:"背景图管理",class:"mt-40","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(Y,{class:"square-uploader",action:E.backgroundImageUploadUrl,headers:I.getHeader(),accept:"image/*","show-file-list":!1,"on-success":I.uploadBackgroundImageSuccess,"on-error":I.uploadBackgroundImageError},{default:(0,l.withCtx)((()=>t[73]||(t[73]=[(0,l.createElementVNode)("i",{class:"fa fa-upload square-uploader-icon"},null,-1)]))),_:1},8,["action","headers","on-success","on-error"])])),_:1}),(0,l.createVNode)(q,{label:""},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(D,{class:"tag-block-large tag-green",onClick:t[31]||(t[31]=e=>E.useBackgroundImageMode=!E.useBackgroundImageMode)},{default:(0,l.withCtx)((()=>t[74]||(t[74]=[(0,l.createElementVNode)("i",{class:"fa fa-key"},null,-1),(0,l.createTextVNode)(" 设置使用 ")]))),_:1})])),_:1}),(0,l.createVNode)(q,{label:"","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",L,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(E.backgroundImageList,((e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:a,class:"user-avatar-one"},[(0,l.createVNode)(R,{src:e.url,fit:"cover","preview-src-list":[e.url]},null,8,["src","preview-src-list"]),E.deleteBackgroundImageMode?((0,l.openBlock)(),(0,l.createBlock)(D,{key:0,class:"user-avatar-one-delete tag-block tag-red",onClick:t=>I.requestDeleteBackgroundImage(e.image)},{default:(0,l.withCtx)((()=>t[75]||(t[75]=[(0,l.createTextVNode)(" 删除 ")]))),_:2},1032,["onClick"])):(0,l.createCommentVNode)("",!0),E.useBackgroundImageMode?((0,l.openBlock)(),(0,l.createBlock)(D,{key:1,class:"user-avatar-one-delete tag-block tag-orange",onClick:t=>I.requestSetDefaultBackgroundImage(e.image)},{default:(0,l.withCtx)((()=>t[76]||(t[76]=[(0,l.createTextVNode)(" 使用 ")]))),_:2},1032,["onClick"])):(0,l.createCommentVNode)("",!0),e.isUse?((0,l.openBlock)(),(0,l.createBlock)(D,{key:2,class:"user-avatar-one-delete tag-block tag-green"},{default:(0,l.withCtx)((()=>t[77]||(t[77]=[(0,l.createTextVNode)(" 使用中 ")]))),_:1})):(0,l.createCommentVNode)("",!0)])))),128))])])),_:1}),(0,l.createVNode)(q,{label:"","label-width":100},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(D,{class:"tag-block-large tag-red",onClick:t[32]||(t[32]=e=>E.deleteBackgroundImageMode=!E.deleteBackgroundImageMode)},{default:(0,l.withCtx)((()=>t[78]||(t[78]=[(0,l.createElementVNode)("i",{class:"fa fa-remove"},null,-1),(0,l.createTextVNode)(" 删除背景图 ")]))),_:1})])),_:1})])),_:1},8,["model"])])])}},71512:function(e,t,a){a.a(e,(async function(e,l){try{a(44114),a(18111),a(22489),a(7588);var o=a(440),i=a(81387),n=a(99601),r=a(52004),s=a(78947),c=a(36798),d=a(93893),u=a(29887),m=a(7413),k=a(52827),g=a(43723),h=a.n(g),C=a(164),p=a(57477),f=a(29236),V=a(84494),b=e([r,u,V]);[r,u,V]=b.then?(await b)():b,t.A={name:"ConfigView",computed:{Setting(){return p.B5R}},components:{ConfigHeaderView:o.A,ColorPicker:m.s},data(){return{commonConstant:s.A,path:"",title:"外观设置",config:{backgroundOpacity:1},visibleCreateSkin:!1,visibleUploadSkin:!1,visibleSkinList:!0,loadingUploadSkin:!1,loadingSkinCenter:!1,useCustomSkin:!1,skin:{id:null,name:"",content:s.A.DEFAULT_SKIN},params:{},skinCenterList:[],allSkinCenterList:[],paramsCenter:{page:1,size:24},paramsAllCenter:{page:1,size:99999999},backgroundImageUploadUrl:r.aq,backgroundImageList:[],deleteBackgroundImageMode:!1,useBackgroundImageMode:!1,customSkinList:[],colorList:[s.A.BACKGROUND_FOLLOW_SKIN,"#ffffff","#fffef9","#1d1d1d","#181d4b","#bed742","#faa755","#f391a9","#f6f5ec","#f2f2f2","#a1a3a6","#74787c","#4f5555","#1d1626","#000000"],skinList:[{name:"使用自定义主题",value:"skin-custom"},{name:"亮白",value:"skin-bright"},{name:"暗黑",value:"skin-dark"},{name:"深蓝",value:"skin-blue"},{name:"苔绿",value:"skin-green"},{name:"香橙",value:"skin-orange"},{name:"粉红",value:"skin-pink"}],backgroundOpacityList:[{name:"0% 完全透明",value:0},{name:"5% 半透明",value:.05},{name:"10% 半透明",value:.1},{name:"20% 半透明",value:.2},{name:"40% 半透明",value:.4},{name:"60% 半透明",value:.6},{name:"80% 半透明",value:.8},{name:"100% 不透明",value:1}],customSkinColorList:[],error:{},backgroundColor:"white",pureColor:(0,n.ref)("#ffffff"),skinColor:(0,n.ref)("#ffffff"),lastSelection:{type:null,startIndex:0,endIndex:0,lineStart:0,lineEnd:0,originalValue:""},tipsImageList:[],tipsText:{},tipsTextList:[{css:"--color-header",desc:"网站页眉主标题字体颜色"},{css:"--color-title-text",desc:"日志标题字体颜色"},{css:"--color-main-text",desc:"日志正文字体颜色"},{css:"--color-article-tab-date-preview",desc:"辅助文字颜色：标签文字，日志日期文字，列表页正文预览字体颜色"},{css:"--color-middle-button-text",desc:"中等大小的按钮文字字体颜色"},{css:"--color-small-button-text",desc:"小按钮文字字体颜色"},{css:"--color-reverse-button-text",desc:"深色按钮文字字体颜色"},{css:"--color-article-code-area-border-left",desc:"日志正文代码块的左侧竖线颜色"},{css:"--color-footer-text",desc:"页脚区文字颜色"},{css:"--color-article-link",desc:"日志正文的超链接文字颜色"},{css:"--color-background-header",desc:"网站页眉背景颜色"},{css:"--color-background-main-area",desc:"主区域背景颜色"},{css:"--color-background-body",desc:"网页背景底色"},{css:"--color-background-article-ol-comment",desc:"日志正文代码区域背景颜色，评论正文区背景颜色"},{css:"--color-background-footer",desc:"页脚区域背景颜色"},{css:"--color-background-middle-button",desc:"中等大小按钮的背景颜色"},{css:"--color-background-middle-button-border",desc:"中等大小按钮的边框颜色"},{css:"--color-background-small-button",desc:"小按钮的背景颜色"},{css:"--color-background-small-button-border",desc:"小按钮的边框颜色"},{css:"--color-background-reverse-button",desc:"深色按钮背景颜色"},{css:"--color-background-article-tag",desc:"日志正文标签块的背景颜色"},{css:"--color-background-shadow",desc:"卡片的阴影颜色"},{css:"--color-background-comment-edit",desc:"页脚区域背景颜色，评论区刚发表的评论可编辑状态的背景颜色"}],checkBoxWidgetBlog:!0,checkBoxWidgetArticle:!0,checkBoxWidgetComment:!0,visibleArticle:!1,widgetArticleList:[],articlePageSizeList:[{size:8,name:"每页8条"},{size:10,name:"每页10条"},{size:12,name:"每页12条"},{size:15,name:"每页15条"},{size:20,name:"每页20条"},{size:30,name:"每页30条"}],fontSizeList:[{size:"small",name:"小"},{size:"middle",name:"中"},{size:"big",name:"大"},{size:"large",name:"特大"}],commentPageSizeList:[{size:8,name:"每页8条"},{size:10,name:"每页10条"},{size:15,name:"每页15条"},{size:20,name:"每页20条"},{size:30,name:"每页30条"},{size:0,name:"不分页，显示全部"}]}},created(){const e=(0,i.rd)();(0,n.watch)((()=>e.currentRoute.value.path),(()=>{this.path=e.currentRoute.value.path,this.init()}),{immediate:!0,deep:!0});let t=this;(0,n.watch)((()=>this.pureColor.value),(()=>{t.config.backgroundColor=t.pureColor,this.backgroundColor=t.pureColor}),{immediate:!0,deep:!0})},watch:{skinColor(e){if(!e||!this.lastSelection.type)return;const t=this.$refs.refTextareaSkin?.textarea;if(!t)return;let a=this.skin.content;if("varName"===this.lastSelection.type){const t=a.substring(this.lastSelection.lineStart,this.lastSelection.lineEnd).replace(/:\s*([^;]+)/,`: ${this.formatColorForCss(e)}`);a=a.substring(0,this.lastSelection.lineStart)+t+a.substring(this.lastSelection.lineEnd)}else"colorValue"===this.lastSelection.type&&(a=a.substring(0,this.lastSelection.startIndex)+this.formatColorForCss(e)+a.substring(this.lastSelection.endIndex));this.skin.content=a}},mounted(){},methods:{init(){this.requestUserConfig(),this.requestBackgroundImageList();let e=this;setTimeout((function(){e.initCssFormClickName()}),1e3),""!==(0,k.P)("page")&&document.getElementById("skin_center_list")&&document.getElementById("skin_center_list").scrollIntoView()},changeSkin(){this.useCustomSkin="skin-custom"===this.config.skin},requestCreateSkin(){this.params={},this.params.name=this.skin.name,this.params.content=encodeURI(this.skin.content),(0,u.g6)(this.params).then((e=>{0===e.data.code&&((0,c.kX)(e.data.msg),this.requestSkinList(),this.visibleCreateSkin=!1)}))},requestUpdateSkin(){this.params={},this.params.id=this.skin.id,this.params.name=this.skin.name,this.params.content=encodeURI(this.skin.content),(0,u.nc)(this.params).then((e=>{0===e.data.code&&((0,c.kX)(e.data.msg),this.requestSkinCenterList())}))},loadContent(){let e=this.customSkinList.filter((e=>e.name===this.skin.name));e.length>0&&(this.skin.content=e[0].content)},requestSkinList(){(0,u.WL)().then((e=>{this.customSkinList=e.data.data,this.transCustomSkinList(),this.loadContent(),this.changeSkin(),this.transSkinCenterList()}))},transCustomSkinList(){this.customSkinList.forEach((e=>{e.customSkinColorList=e.colorList.split(","),e.isNotSame=!1,this.allSkinCenterList.filter((t=>e.name===t.name&&e.content!==t.content)).length>0&&(e.isNotSame=!0),this.allSkinCenterList.forEach((t=>{!1!==e.isNew&&(e.isNew=!0),t.name===e.name&&(e.isNew=!1,e.isCustomHasUpdate=!1,e.content!==t.content&&t.version<e.version&&(e.isCustomHasUpdate=!0))}))}))},requestDeleteSkin(e){(0,u.rL)({id:e}).then((e=>{0===e.data.code&&((0,c.kX)(e.data.msg),this.requestSkinList())}))},requestUploadSkin(e,t,a){e.trim()?t.trim()?(this.loadingUploadSkin=!0,a.loading=!0,this.params={},this.params.name=e.trim(),this.params.content=encodeURI(t.trim()),this.params.isForceUpdate=!1,(0,u.uZ)(this.params).then((t=>{let l=t.data;if(l.status)this.loadingUploadSkin=!1,a.loading=!1;else if(0===l.code)if(null===l.data)C.s.confirm("发现你已上传过主题《"+e+"》，你可以覆盖更新云端，请确认？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.params.isForceUpdate=!0,(0,u.uZ)(this.params).then((e=>{let t=e.data;if(t.status)this.loadingUploadSkin=!1,a.loading=!1;else if(0===t.code){let e=this;setTimeout((function(){(0,c.kX)(t.msg),e.requestSkinCenterList(),e.loadingUploadSkin=!1,a.loading=!1}),1e3)}}))})).catch((()=>{this.loadingUploadSkin=!1,a.loading=!1}));else{let e=this;setTimeout((function(){(0,c.kX)(l.msg),e.requestSkinCenterList(),e.loadingUploadSkin=!1,a.loading=!1}),1e3)}else this.loadingUploadSkin=!1,a.loading=!1}))):(0,c.R8)("主题代码必须填写"):(0,c.R8)("主题名称必须填写")},requestUserConfig(){(0,r.U3)().then((e=>{this.config=e.data.data,this.config.layoutCount||(this.config.layoutCount=1),this.config.customCss||(this.config.customCss='<style type="text/css">\n\n</style>'),this.homeIcon=this.config.homeIcon,this.backgroundColor=this.config.backgroundColor,this.pureColor=this.config.backgroundColor,this.config.widgetList.forEach((e=>{e.id===s.A.WIDGET_LIST_BLOG&&(this.checkBoxWidgetBlog=e.isCheck),e.id===s.A.WIDGET_LIST_ARTICLE&&(this.checkBoxWidgetArticle=e.isCheck),e.id===s.A.WIDGET_LIST_COMMENT&&(this.checkBoxWidgetComment=e.isCheck)})),this.requestSkinList()}))},requestSkinCenterList(){""!==(0,k.P)("page")&&(this.paramsCenter.page=parseInt((0,k.P)("page"))),""!==(0,k.P)("size")&&(this.paramsCenter.size=parseInt((0,k.P)("size"))),this.loadingSkinCenter=!0,(0,u.f6)(this.paramsCenter).then((e=>{let t=e.data;this.skinCenterList=t.data.records,this.paramsCenter.page=t.data.current,this.paramsCenter.size=t.data.size,this.paramsCenter.total=t.data.total,this.loadingSkinCenter=!1})),(0,u.f6)(this.paramsAllCenter).then((e=>{let t=e.data;this.allSkinCenterList=t.data.records,this.requestSkinList()}))},requestUpdate(){this.config.widgetList=[],this.config.widgetList.push({id:s.A.WIDGET_LIST_BLOG,isCheck:this.checkBoxWidgetBlog}),this.config.widgetList.push({id:s.A.WIDGET_LIST_ARTICLE,isCheck:this.checkBoxWidgetArticle}),this.config.widgetList.push({id:s.A.WIDGET_LIST_COMMENT,isCheck:this.checkBoxWidgetComment}),(0,r.Wc)(this.config).then((e=>{let t=e.data;0===t.code&&(0,c.kX)(t.msg),this.requestUserConfig()}))},switchWidgetArticle(){this.visibleArticle=!this.visibleArticle,this.visibleArticle&&this.requestWidgetArticle()},removeWidgetArticle(e){(0,V.AS)(e).then((()=>{this.requestWidgetArticle()}))},moveWidgetArticle(e,t){(0,V.js)(e,t).then((()=>{this.requestWidgetArticle()}))},requestWidgetArticle(){(0,V.f4)().then((e=>{this.widgetArticleList=e.data.data}))},installSkin(e,t){C.s.confirm("确定要加安装此主题《"+t+"》？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,u.ub)(e,!1).then((a=>{let l=a.data;0===l.code&&(null!==l.data?((0,c.kX)(l.msg),this.requestSkinCenterList()):C.s.confirm("发现你已安装过主题《"+t+"》，你可以覆盖更新，请确认进行覆盖本地？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,u.ub)(e,!0).then((e=>{let t=e.data;0===t.code&&((0,c.kX)(t.msg),this.requestSkinCenterList())}))})))}))})).catch((()=>{}))},transSkinCenterList(){this.skinCenterList.forEach((e=>{e.isHas=!1,e.isSame=!1,e.isCenterNewVersion=!1,this.customSkinList.filter((t=>t.name===e.name)).length>0&&(e.isHas=!0),this.customSkinList.filter((t=>t.content===e.content&&t.name===e.name)).length>0&&(e.isSame=!0),this.customSkinList.filter((t=>t.version<e.version&&t.name===e.name&&t.content!==e.content)).length>0&&(e.isCenterNewVersion=!0)}))},changeSelectColor(){this.config.backgroundColor=this.backgroundColor,this.pureColor=this.backgroundColor},warnTips(e){(0,c.R8)("你本地的此主题《"+e+"》有修改，可以选择更新云端哦！页面网上拉看看"),this.customSkinList.forEach((t=>{t.name===e&&(t.isCustomHasUpdate=!0)}))},clickSkinCode(e){const t=e.target,a=t.selectionStart,l=t.value;this.lastSelection={type:null,startIndex:0,endIndex:0,lineStart:0,lineEnd:0,originalValue:""};const o=/--[a-zA-Z0-9-]+/g;let i;for(;null!==(i=o.exec(l));)if(a>=i.index&&a<=i.index+i[0].length){const e=l.split("\n");let t=0,a=0;for(let l=0;l<e.length;l++){const o=e[l];if(a+o.length>i.index){t=l;break}a+=o.length+1}const o=e[t],n=new RegExp(`${i[0]}\\s*:\\s*([^;]+)`),r=o.match(n);if(r){const e=r[1].trim();return this.lastSelection={type:"varName",startIndex:i.index,endIndex:i.index+i[0].length,lineStart:a,lineEnd:a+o.length,originalValue:e},void(this.skinColor=this.normalizeColorValue(e))}}const n=/#[a-fA-F0-9]{3,6}|rgb\([^)]*\)|rgba\([^)]*\)|\bwhite\b|\bblack\b/g;let r;for(;null!==(r=n.exec(l));)if(a>=r.index&&a<=r.index+r[0].length)return this.lastSelection={type:"colorValue",startIndex:r.index,endIndex:r.index+r[0].length,originalValue:r[0]},void(this.skinColor=this.normalizeColorValue(r[0]))},normalizeColorValue(e){if(!e)return"#ffffff";if("white"===e)return"#ffffff";if("black"===e)return"#000000";if(e.startsWith("var(")){const t=e.match(/--[^)]*/)?.[0];if(t){const e=getComputedStyle(document.documentElement).getPropertyValue(t).trim();return this.normalizeColorValue(e)}}return e.startsWith("rgb")?e:/^[0-9a-f]{3,6}$/i.test(e)?`#${e}`:e},formatColorForCss(e){return"white"===this.lastSelection.originalValue&&"#ffffff"===e.toLowerCase()?"white":"black"===this.lastSelection.originalValue&&"#000000"===e.toLowerCase()?"black":this.lastSelection.originalValue.startsWith("rgb")?this.lastSelection.originalValue:e},initCssFormClickName(){let e=this;document.getElementById("textareaSkin")&&document.getElementById("textareaSkin").addEventListener("click",(function(t){const a=t.target,l=a.selectionStart,o=a.value,i=o.substring(0,l),n=o.split("\n")[i.split("\n").length-1],r=".png",s="/image/skin-intro/";e.tipsImageList=[];let c=n.split(":");if(2===c.length){let t=c[0];e.tipsText=e.tipsTextList.filter((e=>e.css===t))[0],e.tipsImageList[0]=s+t+r,"--color-article-tab-date-preview"===t&&(e.tipsImageList[0]=s+t+"-1"+r,e.tipsImageList[1]=s+t+"-2"+r,e.tipsImageList[2]=s+t+"-3"+r),"--color-background-article-ol-comment"===t&&(e.tipsImageList[0]=s+t+"-1"+r,e.tipsImageList[1]=s+t+"-2"+r)}}))},changeCenterSize(e){this.paramsCenter.size=e,(0,k.i)("size",this.paramsCenter.size),this.requestSkinCenterList()},changeCenterCurrent(e){this.paramsCenter.page=e,(0,k.i)("page",this.paramsCenter.page),this.requestSkinCenterList()},isPcWidth(){return(0,d.C)()},info(e){(0,c.pq)(e)},requestBackgroundImageList(){(0,r.Ko)().then((e=>{this.backgroundImageList=e.data.data,this.useBackgroundImageMode=!1,this.deleteBackgroundImageMode=!1}))},requestDeleteBackgroundImage(e){(0,r.FC)(e).then((e=>{0===e.data.code?((0,c.kX)(e.data.msg),this.requestBackgroundImageList(),this.requestUserConfig()):(0,c.z3)(e.data.msg)}))},requestSetDefaultBackgroundImage(e){(0,r.VF)(e).then((e=>{(0,c.kX)(e.data.msg),this.requestBackgroundImageList(),this.requestUserConfig()}))},uploadBackgroundImageSuccess(e){0===e.code?((0,c.kX)(e.msg),this.requestBackgroundImageList(),this.requestUserConfig()):(0,c.R8)(e.msg)},uploadBackgroundImageError(e){let t=JSON.stringify(e);(0,c.z3)(t)},getHeader(){let e={};return e[s.A.SESSION_TOKEN]=(0,f.KA)({name:s.A.SESSION_TOKEN}),e},copyClipboard(e,t){let a=new(h())("#"+e);a.on("success",(function(e){(0,c.kX)("已复制颜色："+t),e.clearSelection(),a.destroy()}))},gotoArticle(){return"/article"}}},l()}catch(e){l(e)}}))},98969:function(e,t,a){a.a(e,(async function(e,l){try{a.d(t,{A:function(){return o.A}});var o=a(71512),i=e([o]);o=(i.then?(await i)():i)[0],l()}catch(e){l(e)}}))}}]);
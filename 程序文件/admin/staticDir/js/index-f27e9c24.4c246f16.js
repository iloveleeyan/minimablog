"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[2460],{440:function(e,t,a){a.d(t,{A:function(){return c}});var o=a(99601);const l={class:"main-navigator"};a(44114);var n=a(81387),i=a(93893),r={name:"ConfigView",props:["title"],data(){return{path:""}},created(){const e=(0,n.rd)();(0,o.watch)((()=>e.currentRoute.value.path),(()=>{this.path=e.currentRoute.value.path,this.init()}),{immediate:!0,deep:!0})},mounted(){},methods:{init(){},isPcWidth(){return(0,i.C)()},selectTab(e){this.path=e,this.$router.push({path:e})}}};var c=(0,a(71241).A)(r,[["render",function(e,t,a,n,i,r){const c=(0,o.resolveComponent)("el-menu-item"),s=(0,o.resolveComponent)("el-menu");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createVNode)(s,{"default-active":i.path,mode:"horizontal",onSelect:r.selectTab,ellipsis:!1},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{index:"/config-user"},{default:(0,o.withCtx)((()=>t[0]||(t[0]=[(0,o.createTextVNode)("设置")]))),_:1}),(0,o.createVNode)(c,{index:"/config-skin"},{default:(0,o.withCtx)((()=>t[1]||(t[1]=[(0,o.createTextVNode)("外观")]))),_:1}),(0,o.createVNode)(c,{index:"/config-page"},{default:(0,o.withCtx)((()=>t[2]||(t[2]=[(0,o.createTextVNode)("页面")]))),_:1}),(0,o.createVNode)(c,{index:"/config-tag"},{default:(0,o.withCtx)((()=>t[3]||(t[3]=[(0,o.createTextVNode)("标签")]))),_:1}),(0,o.createVNode)(c,{index:"/config-mail"},{default:(0,o.withCtx)((()=>t[4]||(t[4]=[(0,o.createTextVNode)("邮件")]))),_:1})])),_:1},8,["default-active","onSelect"])])}]])},2934:function(e,t,a){a.d(t,{X:function(){return n}});var o=a(99601);const l={class:"main-config"};function n(e,t,a,n,i,r){const c=(0,o.resolveComponent)("ConfigHeaderView"),s=(0,o.resolveComponent)("ComponentLeeEditorTextarea"),d=(0,o.resolveComponent)("el-form-item"),u=(0,o.resolveComponent)("el-button"),m=(0,o.resolveComponent)("el-form");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(c,{title:i.title},null,8,["title"]),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(m,{model:i.item,"label-width":r.isPcWidth()?"60px":"0px"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{label:"顶部",prop:"content"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,{ref:"ComponentLeeEditorTextareaFirst",fileList:[],rows:15,contentType:r.getTextareaKeyFirst(),onEmitUpdateContent:r.updateContentFirst,className:"article-form-content-first",maxChar:5e5,isPaste:!1,uploadUrl:"",content:i.item.firstContent},null,8,["contentType","onEmitUpdateContent","content"])])),_:1}),(0,o.createVNode)(d,{label:"底部",prop:"content"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,{ref:"ComponentLeeEditorTextareaLast",fileList:[],rows:15,contentType:r.getTextareaKeyLast(),onEmitUpdateContent:r.updateContentLast,className:"article-form-content-last",maxChar:5e5,isPaste:!1,uploadUrl:"",content:i.item.lastContent},null,8,["contentType","onEmitUpdateContent","content"])])),_:1}),(0,o.createVNode)(d,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{type:"primary",onClick:r.post},{default:(0,o.withCtx)((()=>t[1]||(t[1]=[(0,o.createElementVNode)("i",{class:"fa fa-edit"},null,-1),(0,o.createTextVNode)(" 保存修改 ")]))),_:1},8,["onClick"]),(0,o.createVNode)(u,{type:"text",onClick:t[0]||(t[0]=e=>r.gotoBack()),class:"ml-20"},{default:(0,o.withCtx)((()=>t[2]||(t[2]=[(0,o.createElementVNode)("i",{class:"fa fa-backward"},null,-1),(0,o.createTextVNode)(" 返回 ")]))),_:1})])),_:1})])),_:1},8,["model","label-width"])])])}},8266:function(e,t,a){a.a(e,(async function(e,o){try{var l=a(88640),n=a(61447),i=a(71241),r=e([n]);n=(r.then?(await r)():r)[0];const c=(0,i.A)(n.A,[["render",l.X]]);t.A=c,o()}catch(e){o(e)}}))},30095:function(e,t,a){a.a(e,(async function(e,o){try{a.d(t,{A:function(){return l.A}});var l=a(56354),n=e([l]);l=(n.then?(await n)():n)[0],o()}catch(e){o(e)}}))},47666:function(e,t,a){a.a(e,(async function(e,o){try{var l=a(2934),n=a(30095),i=a(71241),r=e([n]);n=(r.then?(await r)():r)[0];const c=(0,i.A)(n.A,[["render",l.X]]);t.A=c,o()}catch(e){o(e)}}))},52496:function(e,t,a){a.a(e,(async function(e,o){try{var l=a(86223),n=a(98969),i=a(71241),r=e([n]);n=(r.then?(await r)():r)[0];const c=(0,i.A)(n.A,[["render",l.X]]);t.A=c,o()}catch(e){o(e)}}))},56354:function(e,t,a){a.a(e,(async function(e,o){try{var l=a(440),n=a(27089),i=a(19565),r=a(93893),c=a(78947),s=a(36798),d=e([n,i]);[n,i]=d.then?(await d)():d,t.A={components:{ConfigHeaderView:l.A,ComponentLeeEditorTextarea:i.A},data(){return{title:"独立页面内容设置",item:{pageId:0,articleId:0,firstContent:"",lastContent:""},pageId:this.$route.params.pageId?parseInt(this.$route.params.pageId):0}},created(){},mounted(){this.init()},methods:{init(){this.requestPageContent()},requestPageContent(){(0,n.rx)(this.pageId).then((e=>{e.data.data&&(this.item=e.data.data)}))},post(){this.item.pageId=this.pageId,(0,n.Ei)(this.item).then((e=>{0===e.data.code&&((0,s.kX)(e.data.msg),this.requestPageContent())}))},isPcWidth(){return(0,r.C)()},getTextareaKeyFirst(){return c.A.STORE_CONTENT_PAGE+"_"+this.pageId+"_first"},getTextareaKeyLast(){return c.A.STORE_CONTENT_PAGE+"_"+this.pageId+"_last"},updateContentFirst(e){this.item.firstContent=e},updateContentLast(e){this.item.lastContent=e},gotoBack(){history.back()}}},o()}catch(e){o(e)}}))},61447:function(e,t,a){a.a(e,(async function(e,o){try{a.d(t,{A:function(){return l.A}});var l=a(99650),n=e([l]);l=(n.then?(await n)():n)[0],o()}catch(e){o(e)}}))},62659:function(e,t,a){a.a(e,(async function(e,o){try{a.d(t,{A:function(){return l.A}});var l=a(93878),n=e([l]);l=(n.then?(await n)():n)[0],o()}catch(e){o(e)}}))},68142:function(e,t,a){a.d(t,{X:function(){return c}});var o=a(99601);const l={class:"main-config"},n=["innerHTML"],i={class:"dialog-common"},r={class:"dialog-footer"};function c(e,t,a,c,s,d){const u=(0,o.resolveComponent)("ConfigHeaderView"),m=(0,o.resolveComponent)("el-button"),h=(0,o.resolveComponent)("el-table-column"),g=(0,o.resolveComponent)("el-table"),p=(0,o.resolveComponent)("el-pagination"),k=(0,o.resolveComponent)("el-input"),f=(0,o.resolveComponent)("el-form-item"),C=(0,o.resolveComponent)("el-form"),V=(0,o.resolveComponent)("el-dialog");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(u,{title:s.title},null,8,["title"]),(0,o.createVNode)(m,{type:"primary",class:"right mt-10",onClick:t[0]||(t[0]=e=>s.dialogTest=!0)},{default:(0,o.withCtx)((()=>t[5]||(t[5]=[(0,o.createElementVNode)("i",{class:"fa fa-mail-forward"},null,-1),(0,o.createTextVNode)(" 发送测试邮件")]))),_:1}),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(g,{data:s.list,style:{width:"100%"}},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{prop:"mailId",align:"center",label:"id",width:"80"}),(0,o.createVNode)(h,{prop:"email",label:"邮箱",width:"180"}),(0,o.createVNode)(h,{prop:"name",label:"昵称",width:"120"}),(0,o.createVNode)(h,{label:"邮件正文",width:"520"},{default:(0,o.withCtx)((e=>[(0,o.createElementVNode)("div",{innerHTML:e.row.content,class:"article-content"},null,8,n)])),_:1}),(0,o.createVNode)(h,{prop:"createAt",label:"发送时间",width:"170"}),(0,o.createVNode)(h,{label:"是否成功",width:"80"},{default:(0,o.withCtx)((e=>[e.row.isSuccess>0?((0,o.openBlock)(),(0,o.createBlock)(m,{key:0,class:"tag-block tag-green"},{default:(0,o.withCtx)((()=>t[6]||(t[6]=[(0,o.createTextVNode)(" 成功 ")]))),_:1})):(0,o.createCommentVNode)("",!0),0===e.row.isSuccess?((0,o.openBlock)(),(0,o.createBlock)(m,{key:1,class:"tag-block tag-orange"},{default:(0,o.withCtx)((()=>t[7]||(t[7]=[(0,o.createTextVNode)(" 失败 ")]))),_:1})):(0,o.createCommentVNode)("",!0)])),_:1})])),_:1},8,["data"]),(0,o.createVNode)(p,{onSizeChange:d.changeSize,onCurrentChange:d.changeCurrent,"current-page":s.params.page,"page-sizes":[12,24,100],"page-size":s.params.size,layout:"total, prev, next, pager,jumper,sizes",total:s.params.total,class:"table mt-20"},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"]),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(V,{modelValue:s.dialogTest,"onUpdate:modelValue":t[4]||(t[4]=e=>s.dialogTest=e),title:"发送测试邮件"},{footer:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",r,[(0,o.createVNode)(m,{onClick:t[3]||(t[3]=e=>s.dialogTest=!1),size:"small"},{default:(0,o.withCtx)((()=>t[8]||(t[8]=[(0,o.createTextVNode)("取消")]))),_:1}),(0,o.createVNode)(m,{type:"primary",onClick:d.requestSendTestMail},{default:(0,o.withCtx)((()=>t[9]||(t[9]=[(0,o.createTextVNode)(" 发送邮件 ")]))),_:1},8,["onClick"])])])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(C,{model:s.formTest,"label-width":80},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(f,{label:"发给 email"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(k,{modelValue:s.formTest.email,"onUpdate:modelValue":t[1]||(t[1]=e=>s.formTest.email=e),class:"input-tag width-200"},null,8,["modelValue"])])),_:1}),(0,o.createVNode)(f,{label:"邮件正文"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(k,{modelValue:s.formTest.content,"onUpdate:modelValue":t[2]||(t[2]=e=>s.formTest.content=e),class:"input-tag width-100-pct"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])])])}},71512:function(e,t,a){a.a(e,(async function(e,o){try{a(44114),a(18111),a(22489),a(7588);var l=a(440),n=a(81387),i=a(99601),r=a(52004),c=a(78947),s=a(36798),d=a(93893),u=a(29887),m=a(7413),h=a(52827),g=a(43723),p=a.n(g),k=a(164),f=a(57477),C=a(29236),V=a(84494),w=e([r,u,V]);[r,u,V]=w.then?(await w)():w,t.A={name:"ConfigView",computed:{Setting(){return f.B5R}},components:{ConfigHeaderView:l.A,ColorPicker:m.s},data(){return{commonConstant:c.A,path:"",title:"外观设置",config:{backgroundOpacity:1},visibleCreateSkin:!1,visibleUploadSkin:!1,visibleSkinList:!0,loadingUploadSkin:!1,loadingSkinCenter:!1,useCustomSkin:!1,skin:{id:null,name:"",content:c.A.DEFAULT_SKIN},params:{},skinCenterList:[],paramsCenter:{page:1,size:15},backgroundImageUploadUrl:r.aq,backgroundImageList:[],deleteBackgroundImageMode:!1,useBackgroundImageMode:!1,customSkinList:[],colorList:[c.A.BACKGROUND_FOLLOW_SKIN,"#ffffff","#fffef9","#1d1d1d","#181d4b","#bed742","#faa755","#f391a9","#f6f5ec","#f2f2f2","#a1a3a6","#74787c","#4f5555","#1d1626","#000000"],skinList:[{name:"使用自定义主题",value:"skin-custom"},{name:"亮白",value:"skin-bright"},{name:"暗黑",value:"skin-dark"},{name:"深蓝",value:"skin-blue"},{name:"苔绿",value:"skin-green"},{name:"香橙",value:"skin-orange"},{name:"粉红",value:"skin-pink"}],customSkinColorList:[],error:{},backgroundColor:"white",pureColor:(0,i.ref)("#ffffff"),skinColor:(0,i.ref)("#ffffff"),lastSelection:{type:null,startIndex:0,endIndex:0,lineStart:0,lineEnd:0,originalValue:""},tipsImageList:[],tipsText:{},tipsTextList:[{css:"--color-header",desc:"网站页眉主标题字体颜色"},{css:"--color-header-hr",desc:"网站页眉下方分隔线条颜色"},{css:"--color-title-text",desc:"日志标题字体颜色"},{css:"--color-main-text",desc:"日志正文字体颜色"},{css:"--color-article-tab-date-preview",desc:"辅助文字颜色：标签文字，日志日期文字，列表页正文预览字体颜色"},{css:"--color-middle-button-text",desc:"中等大小的按钮文字字体颜色"},{css:"--color-small-button-text",desc:"小按钮文字字体颜色"},{css:"--color-reverse-button-text",desc:"深色按钮文字字体颜色"},{css:"--color-article-code-area-border-left",desc:"日志正文代码块的左侧竖线颜色"},{css:"--color-footer-text",desc:"页脚区文字颜色"},{css:"--color-article-link",desc:"日志正文的超链接文字颜色"},{css:"--color-background-header",desc:"网站页眉背景颜色"},{css:"--color-background-main-area",desc:"主区域背景颜色"},{css:"--color-background-body",desc:"网页背景底色"},{css:"--color-background-article-ol-comment",desc:"日志正文代码区域背景颜色，评论正文区背景颜色"},{css:"--color-background-footer",desc:"页脚区域背景颜色"},{css:"--color-background-middle-button",desc:"中等大小按钮的背景颜色"},{css:"--color-background-middle-button-border",desc:"中等大小按钮的边框颜色"},{css:"--color-background-small-button",desc:"小按钮的背景颜色"},{css:"--color-background-small-button-border",desc:"小按钮的边框颜色"},{css:"--color-background-reverse-button",desc:"深色按钮背景颜色"},{css:"--color-background-article-tag",desc:"日志正文标签块的背景颜色"},{css:"--color-background-shadow",desc:"卡片的阴影颜色"},{css:"--color-background-comment-edit",desc:"页脚区域背景颜色，评论区刚发表的评论可编辑状态的背景颜色"}],checkBoxWidgetBlog:!0,checkBoxWidgetArticle:!0,checkBoxWidgetComment:!0,visibleArticle:!1,widgetArticleList:[]}},created(){const e=(0,n.rd)();(0,i.watch)((()=>e.currentRoute.value.path),(()=>{this.path=e.currentRoute.value.path,this.init()}),{immediate:!0,deep:!0});let t=this;(0,i.watch)((()=>this.pureColor.value),(()=>{t.config.backgroundColor=t.pureColor,this.backgroundColor=t.pureColor}),{immediate:!0,deep:!0})},watch:{skinColor(e){if(!e||!this.lastSelection.type)return;const t=this.$refs.refTextareaSkin?.textarea;if(!t)return;let a=this.skin.content;if("varName"===this.lastSelection.type){const t=a.substring(this.lastSelection.lineStart,this.lastSelection.lineEnd).replace(/:\s*([^;]+)/,`: ${this.formatColorForCss(e)}`);a=a.substring(0,this.lastSelection.lineStart)+t+a.substring(this.lastSelection.lineEnd)}else"colorValue"===this.lastSelection.type&&(a=a.substring(0,this.lastSelection.startIndex)+this.formatColorForCss(e)+a.substring(this.lastSelection.endIndex));this.skin.content=a}},mounted(){},methods:{init(){this.requestUserConfig(),this.requestBackgroundImageList();let e=this;setTimeout((function(){e.initCssFormClickName()}),1e3)},changeSkin(){this.useCustomSkin="skin-custom"===this.config.skin},requestCreateSkin(){this.params={},this.params.name=this.skin.name,this.params.content=encodeURI(this.skin.content),(0,u.g6)(this.params).then((e=>{0===e.data.code&&((0,s.kX)(e.data.msg),this.requestSkinList(),this.visibleCreateSkin=!1)}))},requestUpdateSkin(){this.params={},this.params.id=this.skin.id,this.params.name=this.skin.name,this.params.content=encodeURI(this.skin.content),(0,u.nc)(this.params).then((e=>{0===e.data.code&&((0,s.kX)(e.data.msg),this.requestSkinCenterList())}))},loadContent(){let e=this.customSkinList.filter((e=>e.name===this.skin.name));e.length>0&&(this.skin.content=e[0].content)},requestSkinList(){(0,u.WL)().then((e=>{this.customSkinList=e.data.data,this.transCustomSkinList(),this.loadContent(),this.changeSkin(),this.transSkinCenterList()}))},transCustomSkinList(){this.customSkinList.forEach((e=>{e.customSkinColorList=e.colorList.split(","),e.isNotSame=!1,this.skinCenterList.filter((t=>e.name===t.name&&e.content!==t.content)).length>0&&(e.isNotSame=!0),this.skinCenterList.forEach((t=>{t.name===e.name&&(e.isCustomHasUpdate=!1,e.content!==t.content&&t.version<e.version&&(e.isCustomHasUpdate=!0))}))}))},requestDeleteSkin(e){(0,u.rL)({id:e}).then((e=>{0===e.data.code&&((0,s.kX)(e.data.msg),this.requestSkinList())}))},requestUploadSkin(e,t,a){e.trim()?t.trim()?(this.loadingUploadSkin=!0,a.loading=!0,this.params={},this.params.name=e.trim(),this.params.content=encodeURI(t.trim()),this.params.isForceUpdate=!1,(0,u.uZ)(this.params).then((t=>{let o=t.data;if(o.status)this.loadingUploadSkin=!1,a.loading=!1;else if(0===o.code)if(null===o.data)k.s.confirm("发现你已上传过主题《"+e+"》，你可以覆盖更新云端，请确认？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.params.isForceUpdate=!0,(0,u.uZ)(this.params).then((e=>{let t=e.data;if(t.status)this.loadingUploadSkin=!1,a.loading=!1;else if(0===t.code){let e=this;setTimeout((function(){(0,s.kX)(t.msg),e.requestSkinCenterList(),e.loadingUploadSkin=!1,a.loading=!1}),1e3)}}))})).catch((()=>{this.loadingUploadSkin=!1,a.loading=!1}));else{let e=this;setTimeout((function(){(0,s.kX)(o.msg),e.requestSkinCenterList(),e.loadingUploadSkin=!1,a.loading=!1}),1e3)}else this.loadingUploadSkin=!1,a.loading=!1}))):(0,s.R8)("主题代码必须填写"):(0,s.R8)("主题名称必须填写")},requestUserConfig(){(0,r.U3)().then((e=>{this.config=e.data.data,this.config.layoutCount||(this.config.layoutCount=1),this.config.customCss||(this.config.customCss='<style type="text/css">\n\n</style>'),this.homeIcon=this.config.homeIcon,this.backgroundColor=this.config.backgroundColor,this.pureColor=this.config.backgroundColor,this.config.widgetList.forEach((e=>{e.id===c.A.WIDGET_LIST_BLOG&&(this.checkBoxWidgetBlog=e.isCheck),e.id===c.A.WIDGET_LIST_ARTICLE&&(this.checkBoxWidgetArticle=e.isCheck),e.id===c.A.WIDGET_LIST_COMMENT&&(this.checkBoxWidgetComment=e.isCheck)})),this.requestSkinList()}))},requestSkinCenterList(){""!==(0,h.P)("page")&&(this.paramsCenter.page=parseInt((0,h.P)("page"))),""!==(0,h.P)("size")&&(this.paramsCenter.size=parseInt((0,h.P)("size"))),this.loadingSkinCenter=!0,(0,u.f6)(this.paramsCenter).then((e=>{let t=e.data;this.skinCenterList=t.data.records,this.paramsCenter.page=t.data.current,this.paramsCenter.size=t.data.size,this.paramsCenter.total=t.data.total,this.loadingSkinCenter=!1,this.requestSkinList()}))},requestUpdate(){this.config.widgetList=[],this.config.widgetList.push({id:c.A.WIDGET_LIST_BLOG,isCheck:this.checkBoxWidgetBlog}),this.config.widgetList.push({id:c.A.WIDGET_LIST_ARTICLE,isCheck:this.checkBoxWidgetArticle}),this.config.widgetList.push({id:c.A.WIDGET_LIST_COMMENT,isCheck:this.checkBoxWidgetComment}),(0,r.Wc)(this.config).then((e=>{let t=e.data;0===t.code&&(0,s.kX)(t.msg),this.requestUserConfig()}))},switchWidgetArticle(){this.visibleArticle=!this.visibleArticle,this.visibleArticle&&this.requestWidgetArticle()},removeWidgetArticle(e){(0,V.AS)(e).then((()=>{this.requestWidgetArticle()}))},moveWidgetArticle(e,t){(0,V.js)(e,t).then((()=>{this.requestWidgetArticle()}))},requestWidgetArticle(){(0,V.f4)().then((e=>{this.widgetArticleList=e.data.data}))},installSkin(e,t){k.s.confirm("确定要加安装此主题《"+t+"》？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,u.ub)(e,!1).then((a=>{let o=a.data;0===o.code&&(null!==o.data?((0,s.kX)(o.msg),this.requestSkinCenterList()):k.s.confirm("发现你已安装过主题《"+t+"》，你可以覆盖更新，请确认进行覆盖本地？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,u.ub)(e,!0).then((e=>{let t=e.data;0===t.code&&((0,s.kX)(t.msg),this.requestSkinCenterList())}))})))}))})).catch((()=>{}))},transSkinCenterList(){this.skinCenterList.forEach((e=>{e.isHas=!1,e.isSame=!1,e.isCenterNewVersion=!1,this.customSkinList.filter((t=>t.name===e.name)).length>0&&(e.isHas=!0),this.customSkinList.filter((t=>t.content===e.content&&t.name===e.name)).length>0&&(e.isSame=!0),this.customSkinList.filter((t=>t.version<e.version&&t.name===e.name&&t.content!==e.content)).length>0&&(e.isCenterNewVersion=!0)}))},changeSelectColor(){this.config.backgroundColor=this.backgroundColor,this.pureColor=this.backgroundColor},warnTips(e){(0,s.R8)("你本地的此主题《"+e+"》有修改，可以选择更新云端哦！页面网上拉看看"),this.customSkinList.forEach((t=>{t.name===e&&(t.isCustomHasUpdate=!0)}))},clickSkinCode(e){const t=e.target,a=t.selectionStart,o=t.value;this.lastSelection={type:null,startIndex:0,endIndex:0,lineStart:0,lineEnd:0,originalValue:""};const l=/--[a-zA-Z0-9-]+/g;let n;for(;null!==(n=l.exec(o));)if(a>=n.index&&a<=n.index+n[0].length){const e=o.split("\n");let t=0,a=0;for(let o=0;o<e.length;o++){const l=e[o];if(a+l.length>n.index){t=o;break}a+=l.length+1}const l=e[t],i=new RegExp(`${n[0]}\\s*:\\s*([^;]+)`),r=l.match(i);if(r){const e=r[1].trim();return this.lastSelection={type:"varName",startIndex:n.index,endIndex:n.index+n[0].length,lineStart:a,lineEnd:a+l.length,originalValue:e},void(this.skinColor=this.normalizeColorValue(e))}}const i=/#[a-fA-F0-9]{3,6}|rgb\([^)]*\)|rgba\([^)]*\)|\bwhite\b|\bblack\b/g;let r;for(;null!==(r=i.exec(o));)if(a>=r.index&&a<=r.index+r[0].length)return this.lastSelection={type:"colorValue",startIndex:r.index,endIndex:r.index+r[0].length,originalValue:r[0]},void(this.skinColor=this.normalizeColorValue(r[0]))},normalizeColorValue(e){if(!e)return"#ffffff";if("white"===e)return"#ffffff";if("black"===e)return"#000000";if(e.startsWith("var(")){const t=e.match(/--[^)]*/)?.[0];if(t){const e=getComputedStyle(document.documentElement).getPropertyValue(t).trim();return this.normalizeColorValue(e)}}return e.startsWith("rgb")?e:/^[0-9a-f]{3,6}$/i.test(e)?`#${e}`:e},formatColorForCss(e){return"white"===this.lastSelection.originalValue&&"#ffffff"===e.toLowerCase()?"white":"black"===this.lastSelection.originalValue&&"#000000"===e.toLowerCase()?"black":this.lastSelection.originalValue.startsWith("rgb")?this.lastSelection.originalValue:e},initCssFormClickName(){let e=this;document.getElementById("textareaSkin")&&document.getElementById("textareaSkin").addEventListener("click",(function(t){const a=t.target,o=a.selectionStart,l=a.value,n=l.substring(0,o),i=l.split("\n")[n.split("\n").length-1],r=".png",c="/image/skin-intro/";e.tipsImageList=[];let s=i.split(":");if(2===s.length){let t=s[0];e.tipsText=e.tipsTextList.filter((e=>e.css===t))[0],e.tipsImageList[0]=c+t+r,"--color-article-tab-date-preview"===t&&(e.tipsImageList[0]=c+t+"-1"+r,e.tipsImageList[1]=c+t+"-2"+r,e.tipsImageList[2]=c+t+"-3"+r),"--color-background-article-ol-comment"===t&&(e.tipsImageList[0]=c+t+"-1"+r,e.tipsImageList[1]=c+t+"-2"+r)}}))},changeCenterSize(e){this.paramsCenter.size=e,(0,h.i)("size",this.paramsCenter.size)},changeCenterCurrent(e){this.paramsCenter.page=e,(0,h.i)("page",this.paramsCenter.page)},isPcWidth(){return(0,d.C)()},info(e){(0,s.pq)(e)},requestBackgroundImageList(){(0,r.Ko)().then((e=>{this.backgroundImageList=e.data.data,this.useBackgroundImageMode=!1,this.deleteBackgroundImageMode=!1}))},requestDeleteBackgroundImage(e){(0,r.FC)(e).then((e=>{0===e.data.code?((0,s.kX)(e.data.msg),this.requestBackgroundImageList(),this.requestUserConfig()):(0,s.z3)(e.data.msg)}))},requestSetDefaultBackgroundImage(e){(0,r.VF)(e).then((e=>{(0,s.kX)(e.data.msg),this.requestBackgroundImageList(),this.requestUserConfig()}))},uploadBackgroundImageSuccess(e){0===e.code?((0,s.kX)(e.msg),this.requestBackgroundImageList(),this.requestUserConfig()):(0,s.R8)(e.msg)},uploadBackgroundImageError(e){let t=JSON.stringify(e);(0,s.z3)(t)},getHeader(){let e={};return e[c.A.SESSION_TOKEN]=(0,C.KA)({name:c.A.SESSION_TOKEN}),e},copyClipboard(e,t){let a=new(p())("#"+e);a.on("success",(function(e){(0,s.kX)("已复制颜色："+t),e.clearSelection(),a.destroy()}))},gotoArticle(){return"/article"}}},o()}catch(e){o(e)}}))},85798:function(e,t,a){a.a(e,(async function(e,o){try{var l=a(68142),n=a(62659),i=a(71241),r=e([n]);n=(r.then?(await r)():r)[0];const c=(0,i.A)(n.A,[["render",l.X]]);t.A=c,o()}catch(e){o(e)}}))},86223:function(e,t,a){a.d(t,{X:function(){return T}});a(18111),a(61701);var o=a(99601);const l={class:"main-config"},n={class:"mt-40"},i={key:0,class:"mt-20"},r={key:1,class:"mt-40 comment-fontsize"},c={class:"width-100-pct"},s={key:0,class:"skin-center-list mt-40 mb-40 width-100-pct"},d={class:"exceed-dot"},u={key:0,class:"skin-center-card-color"},m={class:"config-skin-create"},h=["data-clipboard-text","id","data-clipboard-target","onClick"],g={class:"form-skin-color-picker"},p={key:0,class:"form-skin-css-tips-image"},k={key:0,class:"form-skin-css-tips-text"},f=["src"],C={key:1,class:"skin-center-container mt-30"},V={class:"skin-center-list"},w={class:"exceed-dot"},N={class:"skin-center-card-author"},x={key:0,class:"skin-center-card-color"},b=["data-clipboard-text","id","data-clipboard-target","onClick"],v={key:1},B={class:"skin-center-card-install"},S={class:"form-background-color-picker"},y={class:"mt-10 text-decoration-underline"},_={class:"user-avatar-list"};function T(e,t,a,T,E,L){const I=(0,o.resolveComponent)("ConfigHeaderView"),U=(0,o.resolveComponent)("el-divider"),A=(0,o.resolveComponent)("el-radio"),q=(0,o.resolveComponent)("el-radio-group"),z=(0,o.resolveComponent)("el-form-item"),W=(0,o.resolveComponent)("el-checkbox"),F=(0,o.resolveComponent)("el-button"),P=(0,o.resolveComponent)("el-table-column"),D=(0,o.resolveComponent)("el-link"),X=(0,o.resolveComponent)("el-table"),H=(0,o.resolveComponent)("el-option"),R=(0,o.resolveComponent)("el-select"),O=(0,o.resolveComponent)("el-image"),M=(0,o.resolveComponent)("el-skeleton-item"),K=(0,o.resolveComponent)("el-card"),$=(0,o.resolveComponent)("el-popconfirm"),G=(0,o.resolveComponent)("el-input"),j=(0,o.resolveComponent)("ColorPicker"),Z=(0,o.resolveComponent)("el-popover"),J=(0,o.resolveComponent)("el-pagination"),Q=(0,o.resolveComponent)("el-upload"),Y=(0,o.resolveComponent)("el-form"),ee=(0,o.resolveDirective)("loading");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(I,{title:E.title},null,8,["title"]),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(Y,{model:E.config,"label-width":0},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(U,{"content-position":"left",class:"mt-10"},{default:(0,o.withCtx)((()=>t[28]||(t[28]=[(0,o.createTextVNode)("布局设置")]))),_:1}),t[73]||(t[73]=(0,o.createElementVNode)("h4",null,"布局设置",-1)),(0,o.createVNode)(z,{label:"",class:"flex-row"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(q,{modelValue:E.config.layoutCount,"onUpdate:modelValue":t[0]||(t[0]=e=>E.config.layoutCount=e),onChange:L.requestUpdate},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(A,{value:1,size:"large"},{default:(0,o.withCtx)((()=>t[29]||(t[29]=[(0,o.createTextVNode)("单列布局")]))),_:1}),(0,o.createVNode)(A,{value:2,size:"large"},{default:(0,o.withCtx)((()=>t[30]||(t[30]=[(0,o.createTextVNode)("双列布局")]))),_:1})])),_:1},8,["modelValue","onChange"])])),_:1}),(0,o.createVNode)(z,{label:"",class:"checkbox-widget-config"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(W,{modelValue:E.checkBoxWidgetBlog,"onUpdate:modelValue":t[1]||(t[1]=e=>E.checkBoxWidgetBlog=e),onChange:t[2]||(t[2]=e=>L.requestUpdate()),disabled:2!==E.config.layoutCount,label:"博客卡片",size:"default",border:""},null,8,["modelValue","disabled"]),(0,o.createVNode)(W,{modelValue:E.checkBoxWidgetArticle,"onUpdate:modelValue":t[3]||(t[3]=e=>E.checkBoxWidgetArticle=e),onChange:t[4]||(t[4]=e=>L.requestUpdate()),disabled:2!==E.config.layoutCount,label:"日志推荐",size:"default",border:""},null,8,["modelValue","disabled"]),(0,o.createVNode)(W,{modelValue:E.checkBoxWidgetComment,"onUpdate:modelValue":t[5]||(t[5]=e=>E.checkBoxWidgetComment=e),onChange:t[6]||(t[6]=e=>L.requestUpdate()),disabled:2!==E.config.layoutCount,label:"最近评论",size:"default",border:""},null,8,["modelValue","disabled"])])),_:1}),(0,o.createElementVNode)("div",n,[(0,o.createVNode)(F,{size:"large",type:"primary",onClick:t[7]||(t[7]=e=>L.switchWidgetArticle())},{default:(0,o.withCtx)((()=>t[31]||(t[31]=[(0,o.createElementVNode)("i",{class:"fa fa-fw fa-archive"},null,-1),(0,o.createTextVNode)(" 管理边栏推荐日志")]))),_:1}),E.visibleArticle?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.createVNode)(X,{data:E.widgetArticleList,style:{width:"100%"}},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(P,{prop:"articleId",label:"id",width:"80"}),(0,o.createVNode)(P,{label:"日志标题",width:"400"},{default:(0,o.withCtx)((e=>[(0,o.createVNode)(D,{href:E.config.url+e.row.fullPath,target:"_blank"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.row.title),1)])),_:2},1032,["href"])])),_:1}),(0,o.createVNode)(P,{label:"操作",width:"200"},{default:(0,o.withCtx)((e=>[(0,o.createVNode)(F,{class:"tag-block tag-white",onClick:t=>L.moveWidgetArticle(e.row.articleId,!0)},{default:(0,o.withCtx)((()=>t[32]||(t[32]=[(0,o.createTextVNode)(" 上移 ")]))),_:2},1032,["onClick"]),(0,o.createVNode)(F,{class:"tag-block tag-white",onClick:t=>L.moveWidgetArticle(e.row.articleId,!1)},{default:(0,o.withCtx)((()=>t[33]||(t[33]=[(0,o.createTextVNode)(" 下移 ")]))),_:2},1032,["onClick"]),(0,o.createVNode)(F,{class:"tag-block tag-red",onClick:t=>L.removeWidgetArticle(e.row.articleId)},{default:(0,o.withCtx)((()=>t[34]||(t[34]=[(0,o.createTextVNode)(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])):(0,o.createCommentVNode)("",!0),E.visibleArticle?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[t[36]||(t[36]=(0,o.createTextVNode)(" 去 ")),(0,o.createVNode)(D,{href:L.gotoArticle(),target:"_blank",type:"primary"},{default:(0,o.withCtx)((()=>t[35]||(t[35]=[(0,o.createTextVNode)("日志管理")]))),_:1},8,["href"]),t[37]||(t[37]=(0,o.createTextVNode)(" 点击 “更多” 按钮添加日志到这里 "))])):(0,o.createCommentVNode)("",!0)]),t[74]||(t[74]=(0,o.createElementVNode)("h4",{class:"mt-30"},"日志封面图布局",-1)),(0,o.createVNode)(z,{label:"",class:"flex-row"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(q,{modelValue:E.config.logoType,"onUpdate:modelValue":t[8]||(t[8]=e=>E.config.logoType=e),onChange:L.requestUpdate},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(A,{value:1,size:"large"},{default:(0,o.withCtx)((()=>t[38]||(t[38]=[(0,o.createTextVNode)("横幅式封面图")]))),_:1}),(0,o.createVNode)(A,{value:2,size:"large"},{default:(0,o.withCtx)((()=>t[39]||(t[39]=[(0,o.createTextVNode)("小正方形封面图（图放左边）")]))),_:1})])),_:1},8,["modelValue","onChange"])])),_:1}),(0,o.createVNode)(U,{"content-position":"left",class:"mt-80"},{default:(0,o.withCtx)((()=>t[40]||(t[40]=[(0,o.createTextVNode)("主题设置")]))),_:1}),t[75]||(t[75]=(0,o.createElementVNode)("h4",null,"外观主题",-1)),(0,o.createVNode)(z,{label:"",class:"flex-row"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(R,{modelValue:E.config.skin,"onUpdate:modelValue":t[10]||(t[10]=e=>E.config.skin=e),class:"width-150 mr-15 mb-10",placeholder:"选一个",onChange:L.changeSkin},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(E.skinList,(e=>((0,o.openBlock)(),(0,o.createBlock)(H,{key:e.value,label:e.name,value:e.value,onClick:t[9]||(t[9]=e=>L.requestUpdate())},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1}),t[76]||(t[76]=(0,o.createElementVNode)("h4",null,"自定义主题",-1)),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(F,{class:"tag-block-large tag-green",onClick:t[11]||(t[11]=e=>{E.visibleCreateSkin=!E.visibleCreateSkin,E.skin.id=null})},{default:(0,o.withCtx)((()=>t[41]||(t[41]=[(0,o.createElementVNode)("i",{class:"fa fa-fw fa-plus"},null,-1),(0,o.createTextVNode)(" 创建主题 ")]))),_:1}),E.visibleCreateSkin?((0,o.openBlock)(),(0,o.createBlock)(F,{key:0,class:"tag-block-large tag-white",onClick:t[12]||(t[12]=e=>{E.visibleCreateSkin=!1,E.visibleSkinList=!0})},{default:(0,o.withCtx)((()=>t[42]||(t[42]=[(0,o.createElementVNode)("i",{class:"fa fa-fw fa-reply"},null,-1),(0,o.createTextVNode)(" 取消 ")]))),_:1})):(0,o.createCommentVNode)("",!0)]),E.visibleCreateSkin?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(E.customSkinList,((e,a)=>((0,o.openBlock)(),(0,o.createBlock)($,{width:L.isPcWidth()?420:300,icon:L.Setting,"icon-color":"#626AEF",title:"请选择操作",placement:"top",key:a},{reference:(0,o.withCtx)((()=>[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(K,{class:"skin-center-card cursor-pointer"},{header:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",d,(0,o.toDisplayString)(e.name),1)])),default:(0,o.withCtx)((()=>[e.customSkinColorList.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",u,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.customSkinColorList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t,style:(0,o.normalizeStyle)("background-color: "+e),class:"skin-center-color-list"},null,4)))),128))])):(0,o.createCommentVNode)("",!0),e.logoUrl?((0,o.openBlock)(),(0,o.createBlock)(O,{key:1,fit:"cover",src:e.logoUrl,class:"skin-center-list-logo",alt:"","preview-src-list":[e.logoUrl]},null,8,["src","preview-src-list"])):(0,o.createCommentVNode)("",!0),e.logoUrl?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(M,{key:2,variant:"image",class:"skin-center-list-logo"})),E.config.customSkinId===e.id&&E.useCustomSkin?((0,o.openBlock)(),(0,o.createBlock)(F,{key:3,class:"skin-center-card-use tag-radius tag-green"},{default:(0,o.withCtx)((()=>t[43]||(t[43]=[(0,o.createElementVNode)("i",{class:"fa fa-check-circle"},null,-1),(0,o.createTextVNode)(" 使用中 ")]))),_:1})):(0,o.createCommentVNode)("",!0),e.isCustomHasUpdate&&e.isNotSame?((0,o.openBlock)(),(0,o.createBlock)(F,{key:4,class:"skin-center-card-use tag-radius tag-orange"},{default:(0,o.withCtx)((()=>t[44]||(t[44]=[(0,o.createElementVNode)("i",{class:"fa fa-upload"},null,-1),(0,o.createTextVNode)(" 可上传更新 ")]))),_:1})):(0,o.createCommentVNode)("",!0)])),_:2},1024)),[[ee,e.loading]])])),actions:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{onClick:t=>{E.config.skin="skin-custom",E.config.customSkinId=e.id,L.requestUpdate()},class:"tag-block tag-blue mb-10",disabled:E.config.customSkinId===e.id&&E.useCustomSkin},{default:(0,o.withCtx)((()=>t[45]||(t[45]=[(0,o.createElementVNode)("i",{class:"fa fa-fw fa-check"},null,-1),(0,o.createTextVNode)(" 使用此主题 ")]))),_:2},1032,["onClick","disabled"]),(0,o.createVNode)(F,{onClick:t=>{E.visibleCreateSkin=!0,E.visibleSkinList=!1,E.skin=e},class:"tag-block tag-white mb-10"},{default:(0,o.withCtx)((()=>t[46]||(t[46]=[(0,o.createElementVNode)("i",{class:"fa fa-fw fa-edit"},null,-1),(0,o.createTextVNode)(" 编辑 ")]))),_:2},1032,["onClick"]),(0,o.createVNode)($,{title:"确认上传到仓库？你的主题将与博友共享",width:"300",onConfirm:t=>L.requestUploadSkin(e.name,e.content,e)},{reference:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{class:"tag-block tag-green mb-10",loading:E.loadingUploadSkin,disabled:!1===e.isCustomHasUpdate&&!e.isNotSame},{default:(0,o.withCtx)((()=>[t[47]||(t[47]=(0,o.createElementVNode)("i",{class:"fa fa-fw fa-upload"},null,-1)),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(E.loadingUploadSkin?"上传中……":e.isCustomHasUpdate?"更新到仓库！":"上传到仓库！"),1)])),_:2},1032,["loading","disabled"])])),_:2},1032,["onConfirm"]),(0,o.createVNode)($,{title:"确认删除？",width:"300",onConfirm:t=>L.requestDeleteSkin(e.id)},{reference:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{class:"tag-block tag-red mb-10"},{default:(0,o.withCtx)((()=>t[48]||(t[48]=[(0,o.createElementVNode)("i",{class:"fa fa-fw fa-remove"},null,-1),(0,o.createTextVNode)(" 删除")]))),_:1})])),_:2},1032,["onConfirm"])])),_:2},1032,["width","icon"])))),128))])),(0,o.withDirectives)((0,o.createElementVNode)("div",m,[t[54]||(t[54]=(0,o.createElementVNode)("h4",null,"主题名称",-1)),(0,o.createVNode)(z,{label:"",class:"flex-row"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{modelValue:E.skin.name,"onUpdate:modelValue":t[13]||(t[13]=e=>E.skin.name=e),class:"input-tag width-200"},null,8,["modelValue"])])),_:1}),t[55]||(t[55]=(0,o.createElementVNode)("h4",null,"颜色",-1)),(0,o.createVNode)(z,{label:"",class:"flex-row"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(E.skin.customSkinColorList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t,style:(0,o.normalizeStyle)("background-color: "+e),class:"config-skin-color-list mr-10","data-clipboard-text":e,"data-clipboard-action":"copy",id:"id_"+t,"data-clipboard-target":"#id_"+t,onClick:a=>L.copyClipboard("id_"+t,e)},null,12,h)))),128))])),_:1}),t[56]||(t[56]=(0,o.createElementVNode)("h4",null,"css代码",-1)),(0,o.createVNode)(z,{label:"",class:"flex-row"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{modelValue:E.skin.content,"onUpdate:modelValue":t[14]||(t[14]=e=>E.skin.content=e),id:"textareaSkin",ref:"refTextareaSkin",type:"textarea",rows:"27",class:"input-tag width-500",onClick:L.clickSkinCode},null,8,["modelValue","onClick"]),(0,o.createElementVNode)("div",g,[(0,o.createVNode)(j,{pureColor:E.skinColor,"onUpdate:pureColor":t[15]||(t[15]=e=>E.skinColor=e),format:"hex6",shape:"circle",useType:"both"},null,8,["pureColor"])]),E.tipsImageList.length>0&&L.isPcWidth()?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[E.tipsText&&E.tipsText.desc?((0,o.openBlock)(),(0,o.createElementBlock)("div",k,(0,o.toDisplayString)(E.tipsText.desc),1)):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(E.tipsImageList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("img",{src:e,alt:"",key:t},null,8,f)))),128))])):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(z,{label:"",class:"flex-row mb-40"},{default:(0,o.withCtx)((()=>[E.skin.id>0?((0,o.openBlock)(),(0,o.createBlock)(F,{key:0,class:"tag-block-large tag-orange",onClick:t[16]||(t[16]=e=>L.requestUpdateSkin())},{default:(0,o.withCtx)((()=>t[49]||(t[49]=[(0,o.createElementVNode)("i",{class:"fa fa-save"},null,-1),(0,o.createTextVNode)(" 保存修改")]))),_:1})):(0,o.createCommentVNode)("",!0),null===E.skin.id?((0,o.openBlock)(),(0,o.createBlock)(F,{key:1,class:"tag-block-large tag-green",onClick:t[17]||(t[17]=e=>L.requestCreateSkin())},{default:(0,o.withCtx)((()=>t[50]||(t[50]=[(0,o.createElementVNode)("i",{class:"fa fa-save"},null,-1),(0,o.createTextVNode)(" 创建保存")]))),_:1})):(0,o.createCommentVNode)("",!0),E.visibleCreateSkin?((0,o.openBlock)(),(0,o.createBlock)(F,{key:2,class:"tag-block-large tag-white",onClick:t[18]||(t[18]=e=>{E.visibleCreateSkin=!1,E.visibleSkinList=!0})},{default:(0,o.withCtx)((()=>t[51]||(t[51]=[(0,o.createTextVNode)("取消")]))),_:1})):(0,o.createCommentVNode)("",!0),(0,o.createVNode)($,{title:"确认加载？将会覆盖文本框中所有内容",width:"300",onConfirm:t[19]||(t[19]=e=>E.skin.content=E.commonConstant.DEFAULT_SKIN)},{reference:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{class:"tag-block-large tag-white"},{default:(0,o.withCtx)((()=>t[52]||(t[52]=[(0,o.createTextVNode)("从模板加载")]))),_:1})])),_:1}),(0,o.createVNode)(Z,{placement:"right",title:"提示",width:550,trigger:"hover"},{reference:(0,o.withCtx)((()=>[(0,o.createVNode)(D,{class:"ml-15",underline:!0,type:"primary"},{default:(0,o.withCtx)((()=>t[53]||(t[53]=[(0,o.createTextVNode)("代码注释？")]))),_:1})])),default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(E.tipsTextList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:t},(0,o.toDisplayString)(e.css)+":"+(0,o.toDisplayString)(e.desc),1)))),128))])])),_:1})])),_:1})],512),[[o.vShow,E.visibleCreateSkin]]),(0,o.createVNode)(U,{"content-position":"left",class:"mt-60"},{default:(0,o.withCtx)((()=>t[57]||(t[57]=[(0,o.createTextVNode)("主题仓库")]))),_:1}),(0,o.createElementVNode)("div",null,[(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(F,{size:"large",type:"primary",onClick:L.requestSkinCenterList},{default:(0,o.withCtx)((()=>t[58]||(t[58]=[(0,o.createElementVNode)("i",{class:"fa fa-fw fa-download"},null,-1),(0,o.createTextVNode)(" 从主题仓库获取 ")]))),_:1},8,["onClick"])),[[ee,E.loadingSkinCenter]])]),E.skinCenterList.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",C,[(0,o.createElementVNode)("div",V,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(E.skinCenterList,((e,a)=>((0,o.openBlock)(),(0,o.createBlock)(K,{class:"skin-center-card",key:a},{header:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",w,(0,o.toDisplayString)(e.name),1)])),default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",N,"作者： "+(0,o.toDisplayString)(e.author),1),e.colorList.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",x,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.colorList,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:t,style:(0,o.normalizeStyle)("background-color: "+e),class:"skin-center-color-list","data-clipboard-text":e,"data-clipboard-action":"copy",id:"id_"+t,"data-clipboard-target":"#id_"+t,onClick:a=>L.copyClipboard("id_"+t,e)},null,12,b)))),128))])):(0,o.createCommentVNode)("",!0),0===e.colorList.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,t[59]||(t[59]=[(0,o.createElementVNode)("span",null,"没有识别到颜色",-1)]))):(0,o.createCommentVNode)("",!0),e.logoUrl?((0,o.openBlock)(),(0,o.createBlock)(O,{key:2,fit:"cover",src:e.logoUrl,class:"skin-center-list-logo",alt:"","preview-src-list":e.imageList.map((e=>e.imageUrl))},null,8,["src","preview-src-list"])):(0,o.createCommentVNode)("",!0),e.logoUrl?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(M,{key:3,variant:"image",class:"skin-center-list-logo"})),(0,o.createElementVNode)("div",B,[e.isHas||e.isSame?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(F,{key:0,class:"tag-block tag-green right cursor-pointer",onClick:t=>L.installSkin(e.skinId,e.name)},{default:(0,o.withCtx)((()=>t[60]||(t[60]=[(0,o.createTextVNode)(" 安装到本地 "),(0,o.createElementVNode)("i",{class:"fa fa-fw fa-download ml-5"},null,-1)]))),_:2},1032,["onClick"])),e.isHas&&!e.isSame&&e.isCenterNewVersion?((0,o.openBlock)(),(0,o.createBlock)(F,{key:1,class:"tag-block tag-yellow right cursor-pointer",onClick:t=>L.installSkin(e.skinId,e.name)},{default:(0,o.withCtx)((()=>t[61]||(t[61]=[(0,o.createTextVNode)(" 获取更新 "),(0,o.createElementVNode)("i",{class:"fa fa-fw fa-download ml-5"},null,-1)]))),_:2},1032,["onClick"])):(0,o.createCommentVNode)("",!0),e.isCenterNewVersion?((0,o.openBlock)(),(0,o.createBlock)(F,{key:2,class:"tag-block tag-orange right cursor-pointer",onClick:t=>L.warnTips(e.name)},{default:(0,o.withCtx)((()=>t[62]||(t[62]=[(0,o.createTextVNode)(" 可上传更新 "),(0,o.createElementVNode)("i",{class:"fa fa-fw fa-upload ml-5"},null,-1)]))),_:2},1032,["onClick"])):(0,o.createCommentVNode)("",!0)])])),_:2},1024)))),128))]),(0,o.createVNode)(J,{onSizeChange:L.changeCenterSize,onCurrentChange:L.changeCenterCurrent,"current-page":E.paramsCenter.page,"page-sizes":[15,30,60],"page-size":E.paramsCenter.size,layout:"total, prev, next, pager,jumper,sizes",total:E.paramsCenter.total,class:"table mt-20"},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(U,{"content-position":"left",class:"mt-60"},{default:(0,o.withCtx)((()=>t[63]||(t[63]=[(0,o.createTextVNode)("其他设置")]))),_:1}),(0,o.createVNode)(z,{label:"背景颜色",class:"flex-row","label-width":100},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{modelValue:E.config.backgroundColor,"onUpdate:modelValue":t[20]||(t[20]=e=>E.config.backgroundColor=e),class:"input-tag width-80"},null,8,["modelValue"]),(0,o.createVNode)(R,{modelValue:E.backgroundColor,"onUpdate:modelValue":t[21]||(t[21]=e=>E.backgroundColor=e),class:"width-100 ml-15",placeholder:"选一个",onChange:L.changeSelectColor},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(E.colorList,(e=>((0,o.openBlock)(),(0,o.createBlock)(H,{key:e,label:e,value:e},null,8,["label","value"])))),128)),((0,o.openBlock)(),(0,o.createBlock)(H,{key:-1,label:E.pureColor,value:E.pureColor},null,8,["label","value"]))])),_:1},8,["modelValue","onChange"]),(0,o.createElementVNode)("div",S,[(0,o.createVNode)(j,{pureColor:E.pureColor,"onUpdate:pureColor":t[22]||(t[22]=e=>E.pureColor=e),format:"hex6",shape:"circle",useType:"both"},null,8,["pureColor"])])])),_:1}),(0,o.createVNode)(z,{label:"背景图透明",error:E.error.backgroundOpacity,"label-width":100},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(R,{modelValue:E.config.backgroundOpacity,"onUpdate:modelValue":t[23]||(t[23]=e=>E.config.backgroundOpacity=e),placeholder:"选一个",class:"width-100 mr-15"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)([0,.05,.1,.2,.4,.6,.8,1],(e=>(0,o.createVNode)(H,{key:e.size,label:e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"]),(0,o.createVNode)(Z,{placement:"top-end",title:"提示",width:300,trigger:"hover",content:"当设置为0的时候，背景颜色才能生效。当设置成大于0的值，背景图片才能生效"},{reference:(0,o.withCtx)((()=>[(0,o.createVNode)(D,{class:"mb-10",underline:!0,type:"primary"},{default:(0,o.withCtx)((()=>t[64]||(t[64]=[(0,o.createTextVNode)("帮助?")]))),_:1})])),_:1}),t[65]||(t[65]=(0,o.createElementVNode)("div",{class:"width-100-pct"},null,-1)),(0,o.createElementVNode)("div",y," 当前背景模式："+(0,o.toDisplayString)(E.config.backgroundOpacity>0?"目前背景图已生效，背景颜色已失效":"目前背景颜色已生效，背景图已失效"),1)])),_:1},8,["error"]),(0,o.createVNode)(z,{label:"自定义css","label-width":100},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(G,{modelValue:E.config.customCss,"onUpdate:modelValue":t[24]||(t[24]=e=>E.config.customCss=e),type:"textarea",rows:"12",class:"input-tag width-600"},null,8,["modelValue"])])),_:1}),(0,o.createVNode)(z,{label:"","label-width":100},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{class:"tag-block-large tag-green",onClick:t[25]||(t[25]=e=>L.requestUpdate())},{default:(0,o.withCtx)((()=>t[66]||(t[66]=[(0,o.createElementVNode)("i",{class:"fa fa-save"},null,-1),(0,o.createTextVNode)(" 保存修改")]))),_:1})])),_:1}),(0,o.createVNode)(z,{label:"背景图管理",class:"mt-40","label-width":100},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Q,{class:"square-uploader",action:E.backgroundImageUploadUrl,headers:L.getHeader(),accept:"image/*","show-file-list":!1,"on-success":L.uploadBackgroundImageSuccess,"on-error":L.uploadBackgroundImageError},{default:(0,o.withCtx)((()=>t[67]||(t[67]=[(0,o.createElementVNode)("i",{class:"fa fa-upload square-uploader-icon"},null,-1)]))),_:1},8,["action","headers","on-success","on-error"])])),_:1}),(0,o.createVNode)(z,{label:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{class:"tag-block-large tag-green",onClick:t[26]||(t[26]=e=>E.useBackgroundImageMode=!E.useBackgroundImageMode)},{default:(0,o.withCtx)((()=>t[68]||(t[68]=[(0,o.createElementVNode)("i",{class:"fa fa-key"},null,-1),(0,o.createTextVNode)(" 设置使用 ")]))),_:1})])),_:1}),(0,o.createVNode)(z,{label:""},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",_,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(E.backgroundImageList,((e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:a,class:"user-avatar-one"},[(0,o.createVNode)(O,{src:e.url,fit:"cover","preview-src-list":[e.url]},null,8,["src","preview-src-list"]),E.deleteBackgroundImageMode?((0,o.openBlock)(),(0,o.createBlock)(F,{key:0,class:"user-avatar-one-delete tag-block tag-red",onClick:t=>L.requestDeleteBackgroundImage(e.image)},{default:(0,o.withCtx)((()=>t[69]||(t[69]=[(0,o.createTextVNode)(" 删除 ")]))),_:2},1032,["onClick"])):(0,o.createCommentVNode)("",!0),E.useBackgroundImageMode?((0,o.openBlock)(),(0,o.createBlock)(F,{key:1,class:"user-avatar-one-delete tag-block tag-orange",onClick:t=>L.requestSetDefaultBackgroundImage(e.image)},{default:(0,o.withCtx)((()=>t[70]||(t[70]=[(0,o.createTextVNode)(" 使用 ")]))),_:2},1032,["onClick"])):(0,o.createCommentVNode)("",!0),e.isUse?((0,o.openBlock)(),(0,o.createBlock)(F,{key:2,class:"user-avatar-one-delete tag-block tag-green"},{default:(0,o.withCtx)((()=>t[71]||(t[71]=[(0,o.createTextVNode)(" 使用中 ")]))),_:1})):(0,o.createCommentVNode)("",!0)])))),128))])])),_:1}),(0,o.createVNode)(z,{label:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(F,{class:"tag-block-large tag-red",onClick:t[27]||(t[27]=e=>E.deleteBackgroundImageMode=!E.deleteBackgroundImageMode)},{default:(0,o.withCtx)((()=>t[72]||(t[72]=[(0,o.createElementVNode)("i",{class:"fa fa-remove"},null,-1),(0,o.createTextVNode)(" 删除背景图 ")]))),_:1})])),_:1})])),_:1},8,["model"])])])}},88640:function(e,t,a){a.d(t,{X:function(){return i}});var o=a(99601);const l={class:"dialog-common"},n={class:"dialog-footer"};function i(e,t,a,i,r,c){const s=(0,o.resolveComponent)("ConfigHeaderView"),d=(0,o.resolveComponent)("el-button"),u=(0,o.resolveComponent)("el-table-column"),m=(0,o.resolveComponent)("el-link"),h=(0,o.resolveComponent)("el-table"),g=(0,o.resolveComponent)("el-input"),p=(0,o.resolveComponent)("el-form-item"),k=(0,o.resolveComponent)("el-popover"),f=(0,o.resolveComponent)("el-option"),C=(0,o.resolveComponent)("el-select"),V=(0,o.resolveComponent)("el-switch"),w=(0,o.resolveComponent)("el-form"),N=(0,o.resolveComponent)("el-dialog");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(s,{title:r.title},null,8,["title"]),(0,o.createVNode)(d,{type:"success",class:"mb-10 mt-10 right",onClick:t[0]||(t[0]=e=>c.create())},{default:(0,o.withCtx)((()=>t[11]||(t[11]=[(0,o.createElementVNode)("i",{class:"fa fa-plus"},null,-1),(0,o.createTextVNode)(" 新增独立页面")]))),_:1}),(0,o.createVNode)(h,{data:r.pageList,style:{width:"100%"}},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{prop:"pageId",label:"id",width:"60"}),(0,o.createVNode)(u,{prop:"articleId",label:"articleId",width:"100"},{default:(0,o.withCtx)((e=>[(0,o.createVNode)(m,{href:c.gotoArticle(e.row.articleId),target:"_blank"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.row.articleId),1)])),_:2},1032,["href"])])),_:1}),(0,o.createVNode)(u,{prop:"name",label:"页面名称",width:"120"}),(0,o.createVNode)(u,{prop:"fa",label:"fa图标名称",width:"200"}),(0,o.createVNode)(u,{prop:"uri",label:"短路径",width:"120"}),(0,o.createVNode)(u,{prop:"sort",label:"排序",width:"80"}),(0,o.createVNode)(u,{prop:"component",label:"固定组件",width:"130"}),(0,o.createVNode)(u,{label:"操作",width:"300"},{default:(0,o.withCtx)((e=>[(0,o.createVNode)(d,{class:(0,o.normalizeClass)(""===e.row.component?"tag-block tag-white":"tag-block tag-yellow"),onClick:t=>c.gotoPageContent(e.row.pageId,e.row.articleId,""!==e.row.component)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(""!==e.row.component?"设置内容":"编辑文章"),1)])),_:2},1032,["class","onClick"]),1===e.row.status?((0,o.openBlock)(),(0,o.createBlock)(d,{key:0,class:"tag-block tag-orange"},{default:(0,o.withCtx)((()=>t[12]||(t[12]=[(0,o.createTextVNode)(" 已禁用 ")]))),_:1})):(0,o.createCommentVNode)("",!0),0===e.row.status?((0,o.openBlock)(),(0,o.createBlock)(d,{key:1,class:"tag-block tag-green"},{default:(0,o.withCtx)((()=>t[13]||(t[13]=[(0,o.createTextVNode)(" 已启用 ")]))),_:1})):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(d,{class:"tag-block tag-blue",onClick:t=>c.edit(e.row)},{default:(0,o.withCtx)((()=>t[14]||(t[14]=[(0,o.createTextVNode)(" 修改 ")]))),_:2},1032,["onClick"]),(0,o.createVNode)(d,{class:"tag-block tag-red",onClick:t=>c.remove(e.row)},{default:(0,o.withCtx)((()=>t[15]||(t[15]=[(0,o.createTextVNode)(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(N,{modelValue:r.dialogFormVisible,"onUpdate:modelValue":t[10]||(t[10]=e=>r.dialogFormVisible=e),title:"设置独立页面"},{footer:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",n,[(0,o.createVNode)(d,{onClick:t[8]||(t[8]=e=>r.dialogFormVisible=!1)},{default:(0,o.withCtx)((()=>t[19]||(t[19]=[(0,o.createTextVNode)("取消")]))),_:1}),(0,o.createVNode)(d,{type:"primary",onClick:t[9]||(t[9]=e=>c.requestInsertUpdatePage())},{default:(0,o.withCtx)((()=>t[20]||(t[20]=[(0,o.createTextVNode)(" 提交 ")]))),_:1})])])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(w,{model:r.form,"label-width":120},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p,{label:"pageId",error:r.error.pageId},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{modelValue:r.form.pageId,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.pageId=e),readonly:"",class:"width-200"},null,8,["modelValue"])])),_:1},8,["error"]),(0,o.createVNode)(p,{label:"独立页名称",error:r.error.name},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{modelValue:r.form.name,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.name=e),class:"width-200",placeholder:"填写如：邻居"},null,8,["modelValue"])])),_:1},8,["error"]),(0,o.createVNode)(p,{label:"短路径",error:r.error.uri},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{modelValue:r.form.uri,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.uri=e),class:"width-200",placeholder:"填写如：friend"},null,8,["modelValue"]),(0,o.createVNode)(k,{placement:"top-end",title:"提示",width:300,trigger:"hover",content:"这里的路径是你独立页面的url，填写如friend，你的独立页的url是：https://www.example.cn/p/friend"},{reference:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{class:"ml-15",underline:!0,type:"primary"},{default:(0,o.withCtx)((()=>t[16]||(t[16]=[(0,o.createTextVNode)("帮助说明")]))),_:1})])),_:1})])),_:1},8,["error"]),(0,o.createVNode)(p,{label:"fa图标名称",error:r.error.fa},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{modelValue:r.form.fa,"onUpdate:modelValue":t[4]||(t[4]=e=>r.form.fa=e),placeholder:"填写如：fa-star",class:"width-200"},null,8,["modelValue"]),(0,o.createVNode)(m,{type:"primary",class:"ml-15",href:"https://fontawesome.com.cn/v4/icons",target:"_blank"},{default:(0,o.withCtx)((()=>t[17]||(t[17]=[(0,o.createTextVNode)("fa图标库")]))),_:1})])),_:1},8,["error"]),(0,o.createVNode)(p,{label:"固定组件",error:r.error.component},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(C,{modelValue:r.formComponent,"onUpdate:modelValue":t[5]||(t[5]=e=>r.formComponent=e),placeholder:"选一个",class:"width-200"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(r.componentList,(e=>((0,o.openBlock)(),(0,o.createBlock)(f,{key:e.value,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,o.createVNode)(k,{placement:"top-end",title:"提示",width:300,trigger:"hover",content:"如果要使用固定组建，选择组件后，你还需去关联一篇日志，独立页面才会生效；如果不使用固定组件，那这个独立页面就是一篇普通的日志"},{reference:(0,o.withCtx)((()=>[(0,o.createVNode)(m,{class:"ml-15",underline:!0,type:"primary"},{default:(0,o.withCtx)((()=>t[18]||(t[18]=[(0,o.createTextVNode)("帮助说明")]))),_:1})])),_:1})])),_:1},8,["error"]),(0,o.createVNode)(p,{label:"排序",error:r.error.sort},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(g,{modelValue:r.form.sort,"onUpdate:modelValue":t[6]||(t[6]=e=>r.form.sort=e),type:"number",class:"width-200"},null,8,["modelValue"])])),_:1},8,["error"]),(0,o.createVNode)(p,{label:"状态",error:r.error.status},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(V,{modelValue:r.form.status,"onUpdate:modelValue":t[7]||(t[7]=e=>r.form.status=e),"active-text":"启用","inactive-text":"关闭","active-value":0,"inactive-value":1,class:"width-200"},null,8,["modelValue"])])),_:1},8,["error"])])),_:1},8,["model"])])),_:1},8,["modelValue"])])])}},93878:function(e,t,a){a.a(e,(async function(e,o){try{var l=a(440),n=a(81387),i=a(99601),r=a(52827),c=a(52004),s=a(36798),d=e([c]);c=(d.then?(await d)():d)[0],t.A={name:"ConfigView",components:{ConfigHeaderView:l.A},data(){return{path:"",title:"邮件记录",list:[],params:{page:this.$route.query.page?parseInt(this.$route.query.page):1,size:12},dialogTest:!1,formTest:{}}},created(){""!==(0,r.P)("page")&&(this.params.page=parseInt((0,r.P)("page"))),""!==(0,r.P)("size")&&(this.params.size=parseInt((0,r.P)("size")));const e=(0,n.rd)();(0,i.watch)((()=>e.currentRoute.value.path),(()=>{this.path=e.currentRoute.value.path,this.init()}),{immediate:!0,deep:!0})},mounted(){},methods:{init(){this.requestMailLog()},requestMailLog(){(0,c.i1)(this.params).then((e=>{const t=e.data.data;t&&(this.list=t.records,this.params.page=t.current,this.params.size=t.size,this.params.total=t.total)}))},requestSendTestMail(){(0,c.Kl)(this.formTest).then((e=>{0===e.data.code&&(0,s.kX)(e.data.msg)}))},changeSize(e){this.params.size=e,(0,r.i)("size",this.params.size)},changeCurrent(e){this.params.page=e,(0,r.i)("page",this.params.page)},resetParams(){this.params.size=12,this.params.page=1,this.mode=(0,i.ref)([]),window.location.hash=""}}},o()}catch(e){o(e)}}))},98969:function(e,t,a){a.a(e,(async function(e,o){try{a.d(t,{A:function(){return l.A}});var l=a(71512),n=e([l]);l=(n.then?(await n)():n)[0],o()}catch(e){o(e)}}))},99650:function(e,t,a){a.a(e,(async function(e,o){try{a(44114);var l=a(440),n=a(81387),i=a(99601),r=a(164),c=a(4754),s=a(27089),d=a(36798),u=e([c,s]);[c,s]=u.then?(await u)():u,t.A={name:"ConfigView",components:{ConfigHeaderView:l.A},data(){return{path:"",title:"独立页面设置",pageList:[],dialogFormVisible:!1,formComponent:"none",form:{},error:{},componentList:[{name:"不使用组件",value:"none"},{name:"个站友链",value:"friend-link"}]}},created(){const e=(0,n.rd)();(0,i.watch)((()=>e.currentRoute.value.path),(()=>{this.path=e.currentRoute.value.path,this.init()}),{immediate:!0,deep:!0})},mounted(){},methods:{init(){this.requestPage()},requestPage(){(0,s.IB)().then((e=>{this.pageList=e.data.data}))},requestInsertUpdatePage(){this.form.component=this.formComponent,"none"===this.formComponent&&(this.form.component=""),(0,c.EX)(this.form).then((e=>{let t=e.data;if(0===t.code)(0,d.kX)(e.data.msg),this.dialogFormVisible=!1,this.requestPage();else if(t.data){let e=t.data.form;for(const t in e)this.error[e[t][0]]=e[t][1]}}))},gotoArticle(e){return"/article-create/"+e},gotoPageContent(e,t,a){if(a)this.$router.push({path:"/config-page/"+e});else{if(0===t)return void(0,d.z3)("先关联日志才能编辑日志");this.$router.push({path:"/article-create/"+t})}},edit(e){this.error={},this.dialogFormVisible=!0,this.form=e},remove(e){r.s.confirm("确定删除独立页面《"+e.name+"》？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,c.fi)(e.pageId).then((e=>{(0,d.kX)(e.data.msg),this.requestPage()}))})).catch((()=>{}))},create(){this.error={},this.dialogFormVisible=!0,this.form={component:"",sort:1,status:0}}}},o()}catch(e){o(e)}}))}}]);
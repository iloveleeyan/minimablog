"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[2879],{28365:function(e,t,n){n.d(t,{A:function(){return i}});var l=n(2824),r=n(97786),o=n(99510);function i(e,t,n,i){const u=(0,l.KR)(!1),s=(0,l.KR)(null),a=(0,l.KR)(!1),c=(0,l.KR)({width:null,height:null,headerHeight:null}),f=(0,l.KR)(!1),d=(0,l.KR)(),h=(0,l.KR)(0),p=(0,l.KR)(0),g=(0,l.KR)(0),v=(0,l.KR)(0),m=(0,l.KR)(0);(0,l.nT)((()=>{t.setHeight(e.height)})),(0,l.nT)((()=>{t.setMaxHeight(e.maxHeight)})),(0,l.wB)((()=>[e.currentRowKey,n.states.rowKey]),(([e,t])=>{(0,l.R1)(t)&&(0,l.R1)(e)&&n.setCurrentRowKey(`${e}`)}),{immediate:!0}),(0,l.wB)((()=>e.data),(e=>{i.store.commit("setData",e)}),{immediate:!0,deep:!0}),(0,l.nT)((()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)}));const x=(0,l.EW)((()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0)),y=(0,l.EW)((()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""}))),w=()=>{x.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(R)};(0,l.sV)((async()=>{await(0,l.dY)(),n.updateColumns(),H(),requestAnimationFrame(w);const t=i.vnode.el,r=i.refs.headerWrapper;e.flexible&&t&&t.parentElement&&(t.parentElement.style.minWidth="0"),c.value={width:d.value=t.offsetWidth,height:t.offsetHeight,headerHeight:e.showHeader&&r?r.offsetHeight:null},n.states.columns.value.forEach((e=>{e.filteredValue&&e.filteredValue.length&&i.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})})),i.$ready=!0}));const b=e=>{const{tableWrapper:n}=i.refs;((e,n)=>{if(!e)return;const l=Array.from(e.classList).filter((e=>!e.startsWith("is-scrolling-")));l.push(t.scrollX.value?n:"is-scrolling-none"),e.className=l.join(" ")})(n,e)},R=function(){if(!i.refs.scrollBarRef)return;if(!t.scrollX.value){const e="is-scrolling-none";return void((e=>{const{tableWrapper:t}=i.refs;return!(!t||!t.classList.contains(e))})(e)||b(e))}const e=i.refs.scrollBarRef.wrapRef;if(!e)return;const{scrollLeft:n,offsetWidth:l,scrollWidth:r}=e,{headerWrapper:o,footerWrapper:u}=i.refs;o&&(o.scrollLeft=n),u&&(u.scrollLeft=n);b(n>=r-l-1?"is-scrolling-right":0===n?"is-scrolling-left":"is-scrolling-middle")},H=()=>{i.refs.scrollBarRef&&(i.refs.scrollBarRef.wrapRef&&(0,r.MLh)(i.refs.scrollBarRef.wrapRef,"scroll",R,{passive:!0}),e.fit?(0,r.wYm)(i.vnode.el,W):(0,r.MLh)(window,"resize",W),(0,r.wYm)(i.refs.bodyWrapper,(()=>{var e,t;W(),null==(t=null==(e=i.refs)?void 0:e.scrollBarRef)||t.update()})))},W=()=>{var t,n,l,r;const o=i.vnode.el;if(!i.$ready||!o)return;let u=!1;const{width:s,height:a,headerHeight:f}=c.value,y=d.value=o.offsetWidth;s!==y&&(u=!0);const b=o.offsetHeight;(e.height||x.value)&&a!==b&&(u=!0);const R="fixed"===e.tableLayout?i.refs.headerWrapper:null==(t=i.refs.tableHeaderRef)?void 0:t.$el;e.showHeader&&(null==R?void 0:R.offsetHeight)!==f&&(u=!0),h.value=(null==(n=i.refs.tableWrapper)?void 0:n.scrollHeight)||0,g.value=(null==R?void 0:R.scrollHeight)||0,v.value=(null==(l=i.refs.footerWrapper)?void 0:l.offsetHeight)||0,m.value=(null==(r=i.refs.appendWrapper)?void 0:r.offsetHeight)||0,p.value=h.value-g.value-v.value-m.value,u&&(c.value={width:y,height:b,headerHeight:e.showHeader&&(null==R?void 0:R.offsetHeight)||0},w())},L=(0,o.NV)(),C=(0,l.EW)((()=>{const{bodyWidth:e,scrollY:n,gutterWidth:l}=t;return e.value?e.value-(n.value?l:0)+"px":""})),E=(0,l.EW)((()=>e.maxHeight?"fixed":e.tableLayout)),K=(0,l.EW)((()=>{if(e.data&&e.data.length)return null;let t="100%";e.height&&p.value&&(t=`${p.value}px`);const n=d.value;return{width:n?`${n}px`:"",height:t}})),N=(0,l.EW)((()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${g.value+v.value}px)`}:{maxHeight:e.maxHeight-g.value-v.value+"px"}:{}));return{isHidden:u,renderExpanded:s,setDragVisible:e=>{a.value=e},isGroup:f,handleMouseLeave:()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},handleHeaderFooterMousewheel:(e,t)=>{const{pixelX:n,pixelY:l}=t;Math.abs(n)>=Math.abs(l)&&(i.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},tableSize:L,emptyBlockStyle:K,handleFixedMousewheel:(e,t)=>{const n=i.refs.bodyWrapper;if(Math.abs(t.spinY)>0){const l=n.scrollTop;t.pixelY<0&&0!==l&&e.preventDefault(),t.pixelY>0&&n.scrollHeight-n.clientHeight>l&&e.preventDefault(),n.scrollTop+=Math.ceil(t.pixelY/5)}else n.scrollLeft+=Math.ceil(t.pixelX/5)},resizeProxyVisible:a,bodyWidth:C,resizeState:c,doLayout:w,tableBodyStyles:y,tableLayout:E,scrollbarViewStyle:{display:"inline-block",verticalAlign:"middle"},scrollbarStyle:N}}},72254:function(e,t,n){n.d(t,{C6:function(){return b},EQ:function(){return A},FX:function(){return y},K4:function(){return R},My:function(){return p},Oq:function(){return m},RG:function(){return N},Zz:function(){return W},al:function(){return T},cx:function(){return M},dN:function(){return K},hP:function(){return H},lL:function(){return w},lq:function(){return g},qc:function(){return C},rm:function(){return v},tT:function(){return h},vQ:function(){return x},xO:function(){return L}});var l=n(2824),r=n(77500),o=n(37364),i=n(18139),u=n(21395),s=n(53889),a=n(90033),c=n(41651),f=n(2154),d=n(61649);const h=function(e){var t;return null==(t=e.target)?void 0:t.closest("td")},p=function(e,t,n,l,o){if(!t&&!l&&(!o||(0,a.cy)(o)&&!o.length))return e;n=(0,a.Kg)(n)?"descending"===n?-1:1:n&&n<0?-1:1;const i=l?null:function(n,l){return o?((0,a.cy)(o)||(o=[o]),o.map((t=>(0,a.Kg)(t)?(0,r.A)(n,t):t(n,l,e)))):("$key"!==t&&(0,a.Gv)(n)&&"$value"in n&&(n=n.$value),[(0,a.Gv)(n)?(0,r.A)(n,t):n])};return e.map(((e,t)=>({value:e,index:t,key:i?i(e,t):null}))).sort(((e,t)=>{let r=function(e,t){if(l)return l(e.value,t.value);for(let n=0,l=e.key.length;n<l;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0}(e,t);return r||(r=e.index-t.index),r*+n})).map((e=>e.value))},g=function(e,t){let n=null;return e.columns.forEach((e=>{e.id===t&&(n=e)})),n},v=function(e,t){let n=null;for(let l=0;l<e.columns.length;l++){const r=e.columns[l];if(r.columnKey===t){n=r;break}}return n||(0,c.$)("ElTable",`No column matching with column-key: ${t}`),n},m=function(e,t,n){const l=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return l?g(e,l[0]):null},x=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if((0,a.Kg)(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let l=e;for(const e of n)l=l[e];return`${l}`}if((0,a.Tn)(t))return t.call(null,e)},y=function(e,t){const n={};return(e||[]).forEach(((e,l)=>{n[x(e,t)]={row:e,index:l}})),n};function w(e,t){const n={};let l;for(l in e)n[l]=e[l];for(l in t)if((0,a.$3)(t,l)){const e=t[l];(0,f.b0)(e)||(n[l]=e)}return n}function b(e){return""===e||(0,f.b0)(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function R(e){return""===e||(0,f.b0)(e)||(e=b(e),Number.isNaN(e)&&(e=80)),e}function H(e){return(0,f.Et)(e)?e:(0,a.Kg)(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function W(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function L(e,t,n,l,r,o){let i=null!=o?o:0,u=!1;const s=e.indexOf(t),c=-1!==s,d=null==r?void 0:r.call(null,t,i),h=n=>{"add"===n?e.push(t):e.splice(s,1),u=!0},p=e=>{let t=0;const n=(null==l?void 0:l.children)&&e[l.children];return n&&(0,a.cy)(n)&&(t+=n.length,n.forEach((e=>{t+=p(e)}))),t};return r&&!d||((0,f.Lm)(n)?n&&!c?h("add"):!n&&c&&h("remove"):h(c?"remove":"add")),!(null==l?void 0:l.checkStrictly)&&(null==l?void 0:l.children)&&(0,a.cy)(t[l.children])&&t[l.children].forEach((t=>{const o=L(e,t,null!=n?n:!c,l,r,i+1);i+=p(t)+1,o&&(u=o)})),u}function C(e,t,n="children",l="hasChildren"){const r=e=>!((0,a.cy)(e)&&e.length);function o(e,i,u){t(e,i,u),i.forEach((e=>{if(e[l])return void t(e,null,u+1);const i=e[n];r(i)||o(e,i,u+1)}))}e.forEach((e=>{if(e[l])return void t(e,null,0);const i=e[n];r(i)||o(e,i,0)}))}const E=(e,t,n,r)=>{const o={strategy:"fixed",...e.popperOptions},i=(0,a.Tn)(r.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:(0,d.GT)(n,r.property).value}):void 0;return(0,l.vv)(i)?{slotContent:i,content:null,...e,popperOptions:o}:{slotContent:null,content:null!=i?i:t,...e,popperOptions:o}};let K=null;function N(e,t,n,r,i,u){const a=E(e,t,n,r),c={...a,slotContent:void 0};if((null==K?void 0:K.trigger)===i){const e=K.vm.component;return(0,o.A)(e.props,c),void(a.slotContent&&(e.slots.content=()=>[a.slotContent]))}null==K||K();const f=null==u?void 0:u.refs.tableWrapper,d=null==f?void 0:f.dataset.prefix,h=(0,l.bF)(s.R7,{virtualTriggering:!0,virtualRef:i,appendTo:f,placement:"top",transition:"none",offset:0,hideAfter:0,...c},a.slotContent?{content:()=>a.slotContent}:void 0);h.appContext={...u.appContext,...u};const p=document.createElement("div");(0,l.XX)(h,p),h.component.exposed.onOpen();const g=null==f?void 0:f.querySelector(`.${d}-scrollbar__wrap`);K=()=>{(0,l.XX)(null,p),null==g||g.removeEventListener("scroll",K),K=null},K.trigger=i,K.vm=h,null==g||g.addEventListener("scroll",K)}function S(e){return e.children?(0,i.A)(e.children,S):[e]}function $(e,t){return e+t.colSpan}const k=(e,t,n,l)=>{let r=0,o=e;const i=n.states.columns.value;if(l){const t=S(l[e]);r=i.slice(0,i.indexOf(t[0])).reduce($,0),o=r+t.reduce($,0)-1}else r=e;let u;switch(t){case"left":o<n.states.fixedLeafColumnsLength.value&&(u="left");break;case"right":r>=i.length-n.states.rightFixedLeafColumnsLength.value&&(u="right");break;default:o<n.states.fixedLeafColumnsLength.value?u="left":r>=i.length-n.states.rightFixedLeafColumnsLength.value&&(u="right")}return u?{direction:u,start:r,after:o}:{}},A=(e,t,n,l,r,o=0)=>{const i=[],{direction:u,start:s,after:a}=k(t,n,l,r);if(u){const t="left"===u;i.push(`${e}-fixed-column--${u}`),t&&a+o===l.states.fixedLeafColumnsLength.value-1?i.push("is-last-column"):t||s-o!=l.states.columns.value.length-l.states.rightFixedLeafColumnsLength.value||i.push("is-first-column")}return i};function F(e,t){return e+((0,u.A)(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const T=(e,t,n,l)=>{const{direction:r,start:o=0,after:i=0}=k(e,t,n,l);if(!r)return;const u={},s="left"===r,a=n.states.columns.value;return s?u.left=a.slice(0,o).reduce(F,0):u.right=a.slice(i+1).reverse().reduce(F,0),u},M=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))}},87716:function(e,t,n){n.d(t,{v:function(){return l}});const l=Symbol("ElTable")},96389:function(e,t,n){function l(e){return{setCurrentRow:t=>{e.commit("setCurrentRow",t)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(t,n,l=!0)=>{e.toggleRowSelection(t,n,!1,l),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:t=>{e.clearFilter(t)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(t,n)=>{e.toggleRowExpansionAdapter(t,n)},clearSort:()=>{e.clearSort()},sort:(t,n)=>{e.commit("sort",{prop:t,order:n})},updateKeyChildren:(t,n)=>{e.updateKeyChildren(t,n)}}}n.d(t,{A:function(){return l}})}}]);
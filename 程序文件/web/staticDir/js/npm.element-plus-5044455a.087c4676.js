"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[3318],{49795:function(e,t,l){l.d(t,{Ym:function(){return D},UX:function(){return N}});var o=l(2824),n=l(97786),r=l(66543),a=l(50819);const u=(0,a.b_)({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:(0,a.jq)(Object)},targetAreaClickable:{type:Boolean,default:!0}});var s=l(4967),i=l(90033),c=l(52307),d=l(61649);const p=(e,t,l,n,r)=>{const a=(0,o.KR)(null),u=()=>{let t;return t=(0,i.Kg)(e.value)?document.querySelector(e.value):(0,i.Tn)(e.value)?e.value():e.value,t},s=()=>{const e=u();if(!e||!t.value)return void(a.value=null);(function(e){const t=window.innerWidth||document.documentElement.clientWidth,l=window.innerHeight||document.documentElement.clientHeight,{top:o,right:n,bottom:r,left:a}=e.getBoundingClientRect();return o>=0&&a>=0&&n<=t&&r<=l})(e)||e.scrollIntoView(r.value);const{left:l,top:o,width:n,height:s}=e.getBoundingClientRect();a.value={left:l,top:o,width:n,height:s,radius:0}};(0,o.sV)((()=>{(0,o.wB)([t,e],(()=>{s()}),{immediate:!0}),window.addEventListener("resize",s)})),(0,o.xo)((()=>{window.removeEventListener("resize",s)}));const c=e=>{var t;return null!=(t=(0,i.cy)(l.value.offset)?l.value.offset[e]:l.value.offset)?t:6},d=(0,o.EW)((()=>{var e;if(!a.value)return a.value;const t=c(0),o=c(1),n=(null==(e=l.value)?void 0:e.radius)||2;return{left:a.value.left-t,top:a.value.top-o,width:a.value.width+2*t,height:a.value.height+2*o,radius:n}})),p=(0,o.EW)((()=>{const e=u();return n.value&&e&&window.DOMRect?{getBoundingClientRect(){var e,t,l,o;return window.DOMRect.fromRect({width:(null==(e=d.value)?void 0:e.width)||0,height:(null==(t=d.value)?void 0:t.height)||0,x:(null==(l=d.value)?void 0:l.left)||0,y:(null==(o=d.value)?void 0:o.top)||0})}}:e||void 0}));return{mergedPosInfo:d,triggerTarget:p}},v=Symbol("ElTour");const f=()=>({name:"overflow",async fn(e){const t=await(0,s.__)(e);let l=0;t.left>0&&(l=t.left),t.right>0&&(l=t.right);return{data:{maxWidth:e.rects.floating.width-l}}}});var R=l(78396),h=l(16908);const m=(0,o.pM)({name:"ElTourMask",inheritAttrs:!1}),y=(0,o.pM)({...m,props:u,setup(e){const t=e,{ns:l}=(0,o.WQ)(v),n=(0,o.EW)((()=>{var e,l;return null!=(l=null==(e=t.pos)?void 0:e.radius)?l:2})),r=(0,o.EW)((()=>{const e=n.value,t=`a${e},${e} 0 0 1`;return{topRight:`${t} ${e},${e}`,bottomRight:`${t} ${-e},${e}`,bottomLeft:`${t} ${-e},${-e}`,topLeft:`${t} ${e},${-e}`}})),a=(0,o.EW)((()=>{const e=window.innerWidth,l=window.innerHeight,o=r.value,a=`M${e},0 L0,0 L0,${l} L${e},${l} L${e},0 Z`,u=n.value;return t.pos?`${a} M${t.pos.left+u},${t.pos.top} h${t.pos.width-2*u} ${o.topRight} v${t.pos.height-2*u} ${o.bottomRight} h${-t.pos.width+2*u} ${o.bottomLeft} v${-t.pos.height+2*u} ${o.topLeft} z`:a})),u=(0,o.EW)((()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"})));return(0,h.t)((0,o.lW)(t,"visible"),{ns:l}),(e,t)=>e.visible?((0,o.uX)(),(0,o.CE)("div",(0,o.v6)({key:0,class:(0,o.R1)(l).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:e.zIndex,pointerEvents:e.pos&&e.targetAreaClickable?"none":"auto"}},e.$attrs),[((0,o.uX)(),(0,o.CE)("svg",{style:{width:"100%",height:"100%"}},[(0,o.Lk)("path",{class:(0,o.C4)((0,o.R1)(l).e("hollow")),style:(0,o.Tr)((0,o.R1)(u)),d:(0,o.R1)(a)},null,14,["d"])]))],16)):(0,o.Q3)("v-if",!0)}});var w=(0,R.A)(y,[["__file","mask.vue"]]),g=l(20042);const b=(0,a.b_)({placement:{type:(0,a.jq)(String),values:["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],default:"bottom"},reference:{type:(0,a.jq)(Object),default:null},strategy:{type:(0,a.jq)(String),values:["absolute","fixed"],default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),k=(0,o.pM)({name:"ElTourContent"}),E=(0,o.pM)({...k,props:b,emits:{close:()=>!0},setup(e,{emit:t}){const l=e,n=(0,o.KR)(l.placement),r=(0,o.KR)(l.strategy),a=(0,o.KR)(null),u=(0,o.KR)(null);(0,o.wB)((()=>l.placement),(()=>{n.value=l.placement}));const{contentStyle:i,arrowStyle:p}=((e,t,l,n,r,a,u,i)=>{const p=(0,o.KR)(),v=(0,o.KR)(),R=(0,o.KR)({}),h={x:p,y:v,placement:n,strategy:r,middlewareData:R},m=(0,o.EW)((()=>{const e=[(0,s.cY)((0,o.R1)(a)),(0,s.UU)(),(0,s.BN)(),f()];return(0,o.R1)(i)&&(0,o.R1)(l)&&e.push((0,s.UE)({element:(0,o.R1)(l)})),e})),y=async()=>{if(!c.oc)return;const l=(0,o.R1)(e),a=(0,o.R1)(t);if(!l||!a)return;const u=await(0,s.rD)(l,a,{placement:(0,o.R1)(n),strategy:(0,o.R1)(r),middleware:(0,o.R1)(m)});(0,d.YD)(h).forEach((e=>{h[e].value=u[e]}))},w=(0,o.EW)((()=>{if(!(0,o.R1)(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:(0,o.R1)(u)};const{overflow:t}=(0,o.R1)(R);return{position:(0,o.R1)(r),zIndex:(0,o.R1)(u),top:null!=(0,o.R1)(v)?`${(0,o.R1)(v)}px`:"",left:null!=(0,o.R1)(p)?`${(0,o.R1)(p)}px`:"",maxWidth:(null==t?void 0:t.maxWidth)?`${null==t?void 0:t.maxWidth}px`:""}})),g=(0,o.EW)((()=>{if(!(0,o.R1)(i))return{};const{arrow:e}=(0,o.R1)(R);return{left:null!=(null==e?void 0:e.x)?`${null==e?void 0:e.x}px`:"",top:null!=(null==e?void 0:e.y)?`${null==e?void 0:e.y}px`:""}}));let b;return(0,o.sV)((()=>{const l=(0,o.R1)(e),n=(0,o.R1)(t);l&&n&&(b=(0,s.ll)(l,n,y)),(0,o.nT)((()=>{y()}))})),(0,o.xo)((()=>{b&&b()})),{update:y,contentStyle:w,arrowStyle:g}})((0,o.lW)(l,"reference"),a,u,n,r,(0,o.lW)(l,"offset"),(0,o.lW)(l,"zIndex"),(0,o.lW)(l,"showArrow")),R=(0,o.EW)((()=>n.value.split("-")[0])),{ns:h}=(0,o.WQ)(v),m=()=>{t("close")},y=e=>{"pointer"===e.detail.focusReason&&e.preventDefault()};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",{ref_key:"contentRef",ref:a,style:(0,o.Tr)((0,o.R1)(i)),class:(0,o.C4)((0,o.R1)(h).e("content")),"data-side":(0,o.R1)(R),tabindex:"-1"},[(0,o.bF)((0,o.R1)(g.A),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:m,onFocusoutPrevented:y},{default:(0,o.k6)((()=>[(0,o.RG)(e.$slots,"default")])),_:3},8,["focus-trap-el"]),e.showArrow?((0,o.uX)(),(0,o.CE)("span",{key:0,ref_key:"arrowRef",ref:u,style:(0,o.Tr)((0,o.R1)(p)),class:(0,o.C4)((0,o.R1)(h).e("arrow"))},null,6)):(0,o.Q3)("v-if",!0)],14,["data-side"]))}});var C=(0,R.A)(E,[["__file","content.vue"]]),W=l(51338),$=(0,o.pM)({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:l}){let o=0;return()=>{var n,r;const a=null==(n=t.default)?void 0:n.call(t),u=[];let s=0;var c;return a.length&&(c=(0,W.CW)(null==(r=a[0])?void 0:r.children),(0,i.cy)(c)&&c.forEach((e=>{var t;"ElTourStep"===(null==(t=(null==e?void 0:e.type)||{})?void 0:t.name)&&(u.push(e),s+=1)}))),o!==s&&(o=s,l("update-total",s)),u.length?u[e.current]:null}}}),x=l(25343),B=l(31069),j=l(2154);const _=(0,a.b_)({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:x.Ze},placement:b.placement,contentStyle:{type:(0,a.jq)([Object])},mask:{type:(0,a.jq)([Boolean,Object]),default:!0},gap:{type:(0,a.jq)(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:(0,a.jq)([Boolean,Object]),default:()=>({block:"center"})},type:{type:(0,a.jq)(String)},appendTo:{type:(0,a.jq)([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),S={[B.l4]:e=>(0,j.Lm)(e),"update:current":e=>(0,j.Et)(e),close:e=>(0,j.Et)(e),finish:()=>!0,change:e=>(0,j.Et)(e)};var I=l(65980),T=l(14656);const L=(0,o.pM)({name:"ElTour"}),O=(0,o.pM)({...L,props:_,emits:S,setup(e,{emit:t}){const l=e,a=(0,I.DU)("tour"),u=(0,o.KR)(0),s=(0,o.KR)(),i=(0,n.hRP)(l,"current",t,{passive:!0}),c=(0,o.EW)((()=>{var e;return null==(e=s.value)?void 0:e.target})),d=(0,o.EW)((()=>[a.b(),"primary"===k.value?a.m("primary"):""])),f=(0,o.EW)((()=>{var e;return(null==(e=s.value)?void 0:e.placement)||l.placement})),R=(0,o.EW)((()=>{var e,t;return null!=(t=null==(e=s.value)?void 0:e.contentStyle)?t:l.contentStyle})),h=(0,o.EW)((()=>{var e,t;return null!=(t=null==(e=s.value)?void 0:e.mask)?t:l.mask})),m=(0,o.EW)((()=>!!h.value&&l.modelValue)),y=(0,o.EW)((()=>(0,j.Lm)(h.value)?void 0:h.value)),g=(0,o.EW)((()=>{var e,t;return!!c.value&&(null!=(t=null==(e=s.value)?void 0:e.showArrow)?t:l.showArrow)})),b=(0,o.EW)((()=>{var e,t;return null!=(t=null==(e=s.value)?void 0:e.scrollIntoViewOptions)?t:l.scrollIntoViewOptions})),k=(0,o.EW)((()=>{var e,t;return null!=(t=null==(e=s.value)?void 0:e.type)?t:l.type})),{nextZIndex:E}=(0,T.YK)(),W=E(),x=(0,o.EW)((()=>{var e;return null!=(e=l.zIndex)?e:W})),{mergedPosInfo:B,triggerTarget:_}=p(c,(0,o.lW)(l,"modelValue"),(0,o.lW)(l,"gap"),h,b);(0,o.wB)((()=>l.modelValue),(e=>{e||(i.value=0)}));const S=()=>{l.closeOnPressEscape&&(t("update:modelValue",!1),t("close",i.value))},L=e=>{u.value=e},O=(0,o.Ht)();return(0,o.Gt)(v,{currentStep:s,current:i,total:u,showClose:(0,o.lW)(l,"showClose"),closeIcon:(0,o.lW)(l,"closeIcon"),mergedType:k,ns:a,slots:O,updateModelValue(e){t("update:modelValue",e)},onClose(){t("close",i.value)},onFinish(){t("finish")},onChange(){t("change",i.value)}}),(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)((0,o.R1)(r.Nr),{to:e.appendTo},{default:(0,o.k6)((()=>{var t,l;return[(0,o.Lk)("div",(0,o.v6)({class:(0,o.R1)(d)},e.$attrs),[(0,o.bF)(w,{visible:(0,o.R1)(m),fill:null==(t=(0,o.R1)(y))?void 0:t.color,style:(0,o.Tr)(null==(l=(0,o.R1)(y))?void 0:l.style),pos:(0,o.R1)(B),"z-index":(0,o.R1)(x),"target-area-clickable":e.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),e.modelValue?((0,o.uX)(),(0,o.Wv)(C,{key:(0,o.R1)(i),reference:(0,o.R1)(_),placement:(0,o.R1)(f),"show-arrow":(0,o.R1)(g),"z-index":(0,o.R1)(x),style:(0,o.Tr)((0,o.R1)(R)),onClose:S},{default:(0,o.k6)((()=>[(0,o.bF)((0,o.R1)($),{current:(0,o.R1)(i),onUpdateTotal:L},{default:(0,o.k6)((()=>[(0,o.RG)(e.$slots,"default")])),_:3},8,["current"])])),_:3},8,["reference","placement","show-arrow","z-index","style"])):(0,o.Q3)("v-if",!0)],16)]})),_:3},8,["to"]),(0,o.Q3)(" just for IDE "),(0,o.Q3)("v-if",!0)],64))}});var q=(0,R.A)(O,[["__file","tour.vue"]]),z=l(3187),A=l(21857),M=l(91361);const P=(0,a.b_)({target:{type:(0,a.jq)([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:x.Ze},showArrow:{type:Boolean,default:void 0},placement:b.placement,mask:{type:(0,a.jq)([Boolean,Object]),default:void 0},contentStyle:{type:(0,a.jq)([Object])},prevButtonProps:{type:(0,a.jq)(Object)},nextButtonProps:{type:(0,a.jq)(Object)},scrollIntoViewOptions:{type:(0,a.jq)([Boolean,Object]),default:void 0},type:{type:(0,a.jq)(String)}});var V=l(87404);const K=(0,o.pM)({name:"ElTourStep"}),X=(0,o.pM)({...K,props:P,emits:{close:()=>!0},setup(e,{emit:t}){const l=e,{Close:n}=x.H2,{t:r}=(0,V.Ym)(),{currentStep:a,current:u,total:s,showClose:i,closeIcon:c,mergedType:d,ns:p,slots:f,updateModelValue:R,onClose:h,onFinish:m,onChange:y}=(0,o.WQ)(v);(0,o.wB)(l,(e=>{a.value=e}),{immediate:!0});const w=(0,o.EW)((()=>{var e;return null!=(e=l.showClose)?e:i.value})),g=(0,o.EW)((()=>{var e,t;return null!=(t=null!=(e=l.closeIcon)?e:c.value)?t:n})),b=e=>{if(e)return(0,z.A)(e,["children","onClick"])},k=()=>{var e,t;u.value-=1,(null==(e=l.prevButtonProps)?void 0:e.onClick)&&(null==(t=l.prevButtonProps)||t.onClick()),y()},E=()=>{var e;u.value>=s.value-1?C():u.value+=1,(null==(e=l.nextButtonProps)?void 0:e.onClick)&&l.nextButtonProps.onClick(),y()},C=()=>{W(),m()},W=()=>{R(!1),h(),t("close")};return(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.R1)(w)?((0,o.uX)(),(0,o.CE)("button",{key:0,"aria-label":"Close",class:(0,o.C4)((0,o.R1)(p).e("closebtn")),type:"button",onClick:W},[(0,o.bF)((0,o.R1)(M.tk),{class:(0,o.C4)((0,o.R1)(p).e("close"))},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)((0,o.R1)(g))))])),_:1},8,["class"])],2)):(0,o.Q3)("v-if",!0),(0,o.Lk)("header",{class:(0,o.C4)([(0,o.R1)(p).e("header"),{"show-close":(0,o.R1)(i)}])},[(0,o.RG)(e.$slots,"header",{},(()=>[(0,o.Lk)("span",{role:"heading",class:(0,o.C4)((0,o.R1)(p).e("title"))},(0,o.v_)(e.title),3)]))],2),(0,o.Lk)("div",{class:(0,o.C4)((0,o.R1)(p).e("body"))},[(0,o.RG)(e.$slots,"default",{},(()=>[(0,o.Lk)("span",null,(0,o.v_)(e.description),1)]))],2),(0,o.Lk)("footer",{class:(0,o.C4)((0,o.R1)(p).e("footer"))},[(0,o.Lk)("div",{class:(0,o.C4)((0,o.R1)(p).b("indicators"))},[(0,o.R1)(f).indicators?((0,o.uX)(),(0,o.Wv)((0,o.$y)((0,o.R1)(f).indicators),{key:0,current:(0,o.R1)(u),total:(0,o.R1)(s)},null,8,["current","total"])):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)((0,o.R1)(s),((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:e,class:(0,o.C4)([(0,o.R1)(p).b("indicator"),t===(0,o.R1)(u)?"is-active":""])},null,2)))),128))],2),(0,o.Lk)("div",{class:(0,o.C4)((0,o.R1)(p).b("buttons"))},[(0,o.R1)(u)>0?((0,o.uX)(),(0,o.Wv)((0,o.R1)(A.S2),(0,o.v6)({key:0,size:"small",type:(0,o.R1)(d)},b(e.prevButtonProps),{onClick:k}),{default:(0,o.k6)((()=>{var t,l;return[(0,o.eW)((0,o.v_)(null!=(l=null==(t=e.prevButtonProps)?void 0:t.children)?l:(0,o.R1)(r)("el.tour.previous")),1)]})),_:1},16,["type"])):(0,o.Q3)("v-if",!0),(0,o.R1)(u)<=(0,o.R1)(s)-1?((0,o.uX)(),(0,o.Wv)((0,o.R1)(A.S2),(0,o.v6)({key:1,size:"small",type:"primary"===(0,o.R1)(d)?"default":"primary"},b(e.nextButtonProps),{onClick:E}),{default:(0,o.k6)((()=>{var t,l;return[(0,o.eW)((0,o.v_)(null!=(l=null==(t=e.nextButtonProps)?void 0:t.children)?l:(0,o.R1)(u)===(0,o.R1)(s)-1?(0,o.R1)(r)("el.tour.finish"):(0,o.R1)(r)("el.tour.next")),1)]})),_:1},16,["type"])):(0,o.Q3)("v-if",!0)],2)],2)],64))}});var F=(0,R.A)(X,[["__file","step.vue"]]),Q=l(64769);const D=(0,Q.GU)(q,{TourStep:F}),N=(0,Q.WM)(F)}}]);
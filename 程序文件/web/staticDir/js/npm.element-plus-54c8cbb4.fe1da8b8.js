"use strict";(self.webpackChunknote_star_cn=self.webpackChunknote_star_cn||[]).push([[2833],{73368:function(e,t,l){l.d(t,{Lk:function(){return Fe},CY:function(){return Ke}});var o=l(2824),n=(e=>(e.ASC="asc",e.DESC="desc",e))(n||{}),r=(e=>(e.CENTER="center",e.RIGHT="right",e))(r||{}),a=(e=>(e.LEFT="left",e.RIGHT="right",e))(a||{});const s={asc:"desc",desc:"asc"},d=Symbol("placeholder");var i=l(90033);var c=l(23549),u=l(2154);const h=(e,{mainTableRef:t,leftTableRef:l,rightTableRef:n,tableInstance:r,ns:s,isScrolling:d})=>{const i=(0,o.nI)(),{emit:h}=i,w=(0,o.IJ)(!1),R=(0,o.KR)(e.defaultExpandedRowKeys||[]),p=(0,o.KR)(-1),y=(0,o.IJ)(null),f=(0,o.KR)({}),m=(0,o.KR)({}),g=(0,o.IJ)({}),b=(0,o.IJ)({}),v=(0,o.IJ)({}),x=(0,o.EW)((()=>(0,u.Et)(e.estimatedRowHeight)));const S=(0,c.A)((()=>{var e,r,a,s;w.value=!0,f.value={...(0,o.R1)(f),...(0,o.R1)(m)},H((0,o.R1)(y),!1),m.value={},y.value=null,null==(e=t.value)||e.forceUpdate(),null==(r=l.value)||r.forceUpdate(),null==(a=n.value)||a.forceUpdate(),null==(s=i.proxy)||s.$forceUpdate(),w.value=!1}),0);function H(e,r=!1){(0,o.R1)(x)&&[t,l,n].forEach((t=>{const l=(0,o.R1)(t);l&&l.resetAfterRowIndex(e,r)}))}return{expandedRowKeys:R,lastRenderedRowIndex:p,isDynamic:x,isResetting:w,rowHeights:f,resetAfterIndex:H,onRowExpanded:function({expanded:t,rowData:l,rowIndex:n,rowKey:r}){var a,s;const d=[...(0,o.R1)(R)],i=d.indexOf(r);t?-1===i&&d.push(r):i>-1&&d.splice(i,1),R.value=d,h("update:expandedRowKeys",d),null==(a=e.onRowExpand)||a.call(e,{expanded:t,rowData:l,rowIndex:n,rowKey:r}),null==(s=e.onExpandedRowsChange)||s.call(e,d)},onRowHovered:function({hovered:e,rowKey:t}){if(d.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach((t=>{e?t.classList.add(s.is("hovered")):t.classList.remove(s.is("hovered"))}))},onRowsRendered:function(t){var l;null==(l=e.onRowsRendered)||l.call(e,t),t.rowCacheEnd>(0,o.R1)(p)&&(p.value=t.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:t,rowIndex:l},n){n?n===a.RIGHT?v.value[e]=t:g.value[e]=t:b.value[e]=t;const r=Math.max(...[g,v,b].map((t=>t.value[e]||0)));(0,o.R1)(f)[e]!==r&&(!function(e,t,l){const n=(0,o.R1)(y);(null===n||n>l)&&(y.value=l),m.value[e]=t}(e,r,l),S())}}};var w=l(76031);const R=(e,t)=>e+t,p=e=>(0,i.cy)(e)?e.reduce(R,0):e,y=(e,t,l={})=>(0,i.Tn)(e)?e(t):null!=e?e:l,f=e=>(["width","maxWidth","minWidth","height"].forEach((t=>{e[t]=(0,w._V)(e[t])})),e),m=e=>(0,o.vv)(e)?t=>(0,o.h)(e,t):e;var g=l(65980);function b(e){const t=(0,o.KR)(),l=(0,o.KR)(),r=(0,o.KR)(),{columns:a,columnsStyles:c,columnsTotalWidth:R,fixedColumnsOnLeft:y,fixedColumnsOnRight:m,hasFixedColumns:b,mainColumns:v,onColumnSorted:x}=function(e,t,l){const r=(0,o.EW)((()=>(0,o.R1)(t).map(((e,t)=>{var l,o;return{...e,key:null!=(o=null!=(l=e.key)?l:e.dataKey)?o:t}})))),a=(0,o.EW)((()=>(0,o.R1)(r).filter((e=>!e.hidden)))),c=(0,o.EW)((()=>(0,o.R1)(a).filter((e=>"left"===e.fixed||!0===e.fixed)))),u=(0,o.EW)((()=>(0,o.R1)(a).filter((e=>"right"===e.fixed)))),h=(0,o.EW)((()=>(0,o.R1)(a).filter((e=>!e.fixed)))),w=(0,o.EW)((()=>{const e=[];return(0,o.R1)(c).forEach((t=>{e.push({...t,placeholderSign:d})})),(0,o.R1)(h).forEach((t=>{e.push(t)})),(0,o.R1)(u).forEach((t=>{e.push({...t,placeholderSign:d})})),e})),R=(0,o.EW)((()=>(0,o.R1)(c).length||(0,o.R1)(u).length)),p=(0,o.EW)((()=>(0,o.R1)(r).reduce(((t,n)=>(t[n.key]=((e,t,l)=>{var o;const n={flexGrow:0,flexShrink:0,...l?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};l||(n.flexShrink=1);const r={...null!=(o=e.style)?o:{},...n,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(r.maxWidth=e.maxWidth),e.minWidth&&(r.minWidth=e.minWidth)),r})(n,(0,o.R1)(l),e.fixed),t)),{}))),y=(0,o.EW)((()=>(0,o.R1)(a).reduce(((e,t)=>e+t.width),0))),f=e=>(0,o.R1)(r).find((t=>t.key===e));return{columns:r,columnsStyles:p,columnsTotalWidth:y,fixedColumnsOnLeft:c,fixedColumnsOnRight:u,hasFixedColumns:R,mainColumns:w,normalColumns:h,visibleColumns:a,getColumn:f,getColumnStyle:e=>(0,o.R1)(p)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(t){var l;const{key:o}=t.currentTarget.dataset;if(!o)return;const{sortState:r,sortBy:a}=e;let d=n.ASC;d=(0,i.Gv)(r)?s[r[o]]:s[a.order],null==(l=e.onColumnSort)||l.call(e,{column:f(o),key:o,order:d})}}}(e,(0,o.lW)(e,"columns"),(0,o.lW)(e,"fixed")),{scrollTo:S,scrollToLeft:H,scrollToTop:T,scrollToRow:E,onScroll:C,onVerticalScroll:I,scrollPos:W}=((e,{mainTableRef:t,leftTableRef:l,rightTableRef:n,onMaybeEndReached:r})=>{const a=(0,o.KR)({scrollLeft:0,scrollTop:0});function s(e){var o,r,a;const{scrollTop:s}=e;null==(o=t.value)||o.scrollTo(e),null==(r=l.value)||r.scrollToTop(s),null==(a=n.value)||a.scrollToTop(s)}function d(e){a.value=e,s(e)}function i(e){a.value.scrollTop=e,s((0,o.R1)(a))}return(0,o.wB)((()=>(0,o.R1)(a).scrollTop),((e,t)=>{e>t&&r()})),{scrollPos:a,scrollTo:d,scrollToLeft:function(e){var l,n;a.value.scrollLeft=e,null==(n=null==(l=t.value)?void 0:l.scrollTo)||n.call(l,(0,o.R1)(a))},scrollToTop:i,scrollToRow:function(e,l="auto"){var o;null==(o=t.value)||o.scrollToRow(e,l)},onScroll:function(t){var l;d(t),null==(l=e.onScroll)||l.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:t}=(0,o.R1)(a);e!==t&&i(e)}}})(e,{mainTableRef:t,leftTableRef:l,rightTableRef:r,onMaybeEndReached:function(){const{onEndReached:t}=e;if(!t)return;const{scrollTop:l}=(0,o.R1)(W),n=(0,o.R1)(P),r=(0,o.R1)(Z),a=n-(l+r)+e.hScrollbarSize;(0,o.R1)(D)>=0&&n===l+(0,o.R1)($)-(0,o.R1)(le)&&t(a)}}),K=(0,g.DU)("table-v2"),F=(0,o.nI)(),j=(0,o.IJ)(!1),{expandedRowKeys:O,lastRenderedRowIndex:D,isDynamic:q,isResetting:A,rowHeights:G,resetAfterIndex:k,onRowExpanded:z,onRowHeightChange:L,onRowHovered:M,onRowsRendered:V}=h(e,{mainTableRef:t,leftTableRef:l,rightTableRef:r,tableInstance:F,ns:K,isScrolling:j}),{data:N,depthMap:B}=((e,{expandedRowKeys:t,lastRenderedRowIndex:l,resetAfterIndex:n})=>{const r=(0,o.KR)({}),a=(0,o.EW)((()=>{const l={},{data:n,rowKey:a}=e,s=(0,o.R1)(t);if(!s||!s.length)return n;const d=[],c=new Set;s.forEach((e=>c.add(e)));let u=n.slice();for(u.forEach((e=>l[e[a]]=0));u.length>0;){const e=u.shift();d.push(e),c.has(e[a])&&(0,i.cy)(e.children)&&e.children.length>0&&(u=[...e.children,...u],e.children.forEach((t=>l[t[a]]=l[e[a]]+1)))}return r.value=l,d})),s=(0,o.EW)((()=>{const{data:t,expandColumnKey:l}=e;return l?(0,o.R1)(a):t}));return(0,o.wB)(s,((e,t)=>{e!==t&&(l.value=-1,n(0,!0))})),{data:s,depthMap:r}})(e,{expandedRowKeys:O,lastRenderedRowIndex:D,resetAfterIndex:k}),P=(0,o.EW)((()=>{const{estimatedRowHeight:t,rowHeight:l}=e,n=(0,o.R1)(N);return(0,u.Et)(t)?Object.values((0,o.R1)(G)).reduce(((e,t)=>e+t),0):n.length*l})),{bodyWidth:U,fixedTableHeight:_,mainTableHeight:$,leftTableWidth:J,rightTableWidth:Q,headerWidth:Y,windowHeight:Z,footerHeight:X,emptyStyle:ee,rootStyle:te,headerHeight:le}=((e,{columnsTotalWidth:t,rowsHeight:l,fixedColumnsOnLeft:n,fixedColumnsOnRight:r})=>{const a=(0,o.EW)((()=>{const{fixed:l,width:n,vScrollbarSize:r}=e,a=n-r;return l?Math.max(Math.round((0,o.R1)(t)),a):a})),s=(0,o.EW)((()=>(0,o.R1)(a)+e.vScrollbarSize)),d=(0,o.EW)((()=>{const{height:t=0,maxHeight:n=0,footerHeight:r,hScrollbarSize:a}=e;if(n>0){const e=(0,o.R1)(m),t=(0,o.R1)(l),s=(0,o.R1)(y)+e+t+a;return Math.min(s,n-r)}return t-r})),i=(0,o.EW)((()=>{const{maxHeight:t}=e,n=(0,o.R1)(d);if((0,u.Et)(t)&&t>0)return n;const r=(0,o.R1)(l)+(0,o.R1)(y)+(0,o.R1)(m);return Math.min(n,r)})),c=e=>e.width,h=(0,o.EW)((()=>p((0,o.R1)(n).map(c)))),R=(0,o.EW)((()=>p((0,o.R1)(r).map(c)))),y=(0,o.EW)((()=>p(e.headerHeight))),m=(0,o.EW)((()=>{var t;return((null==(t=e.fixedData)?void 0:t.length)||0)*e.rowHeight})),g=(0,o.EW)((()=>(0,o.R1)(d)-(0,o.R1)(y)-(0,o.R1)(m))),b=(0,o.EW)((()=>{const{style:t={},height:l,width:o}=e;return f({...t,height:l,width:o})})),v=(0,o.EW)((()=>f({height:e.footerHeight}))),x=(0,o.EW)((()=>({top:(0,w._V)((0,o.R1)(y)),bottom:(0,w._V)(e.footerHeight),width:(0,w._V)(e.width)})));return{bodyWidth:a,fixedTableHeight:i,mainTableHeight:d,leftTableWidth:h,rightTableWidth:R,headerWidth:s,windowHeight:g,footerHeight:v,emptyStyle:x,rootStyle:b,headerHeight:y}})(e,{columnsTotalWidth:R,fixedColumnsOnLeft:y,fixedColumnsOnRight:m,rowsHeight:P}),oe=(0,o.KR)(),ne=(0,o.EW)((()=>{const t=0===(0,o.R1)(N).length;return(0,i.cy)(e.fixedData)?0===e.fixedData.length&&t:t}));return(0,o.wB)((()=>e.expandedRowKeys),(e=>O.value=e),{deep:!0}),{columns:a,containerRef:oe,mainTableRef:t,leftTableRef:l,rightTableRef:r,isDynamic:q,isResetting:A,isScrolling:j,hasFixedColumns:b,columnsStyles:c,columnsTotalWidth:R,data:N,expandedRowKeys:O,depthMap:B,fixedColumnsOnLeft:y,fixedColumnsOnRight:m,mainColumns:v,bodyWidth:U,emptyStyle:ee,rootStyle:te,headerWidth:Y,footerHeight:X,mainTableHeight:$,fixedTableHeight:_,leftTableWidth:J,rightTableWidth:Q,showEmpty:ne,getRowHeight:function(t){const{estimatedRowHeight:l,rowHeight:n,rowKey:r}=e;return l?(0,o.R1)(G)[(0,o.R1)(N)[t][r]]||l:n},onColumnSorted:x,onRowHovered:M,onRowExpanded:z,onRowsRendered:V,onRowHeightChange:L,scrollTo:S,scrollToLeft:H,scrollToTop:T,scrollToRow:E,onScroll:C,onVerticalScroll:I}}const v=Symbol("tableV2");var x=l(50819),S=l(51254);const H=String,T={type:(0,x.jq)(Array),required:!0},E=((0,x.jq)(Object),{type:(0,x.jq)(Array)}),C={...E,required:!0},I=String,W={type:(0,x.jq)(Array),default:()=>(0,S.f)([])},K={type:Number,required:!0},F={type:(0,x.jq)([String,Number,Symbol]),default:"id"},j={type:(0,x.jq)(Object)};var O=l(58502);const D=(0,x.b_)({class:String,columns:T,columnsStyles:{type:(0,x.jq)(Object),required:!0},depth:Number,expandColumnKey:I,estimatedRowHeight:{...O.Ki.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:(0,x.jq)(Function)},onRowHover:{type:(0,x.jq)(Function)},onRowHeightChange:{type:(0,x.jq)(Function)},rowData:{type:(0,x.jq)(Object),required:!0},rowEventHandlers:{type:(0,x.jq)(Object)},rowIndex:{type:Number,required:!0},rowKey:F,style:{type:(0,x.jq)(Object)}}),q={type:Number,required:!0},A=(0,x.b_)({class:String,columns:T,fixedHeaderData:{type:(0,x.jq)(Array)},headerData:{type:(0,x.jq)(Array),required:!0},headerHeight:{type:(0,x.jq)([Number,Array]),default:50},rowWidth:q,rowHeight:{type:Number,default:50},height:q,width:q}),G=(0,x.b_)({columns:T,data:C,fixedData:E,estimatedRowHeight:D.estimatedRowHeight,width:K,height:K,headerWidth:K,headerHeight:A.headerHeight,bodyWidth:K,rowHeight:K,cache:O.WW.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:O.Ki.scrollbarAlwaysOn,scrollbarStartGap:O.Ki.scrollbarStartGap,scrollbarEndGap:O.Ki.scrollbarEndGap,class:H,style:j,containerStyle:j,getRowHeight:{type:(0,x.jq)(Function),required:!0},rowKey:D.rowKey,onRowsRendered:{type:(0,x.jq)(Function)},onScroll:{type:(0,x.jq)(Function)}}),k=(0,x.b_)({cache:G.cache,estimatedRowHeight:D.estimatedRowHeight,rowKey:F,headerClass:{type:(0,x.jq)([String,Function])},headerProps:{type:(0,x.jq)([Object,Function])},headerCellProps:{type:(0,x.jq)([Object,Function])},headerHeight:A.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:(0,x.jq)([String,Function])},rowProps:{type:(0,x.jq)([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:(0,x.jq)([Object,Function])},columns:T,data:C,dataGetter:{type:(0,x.jq)(Function)},fixedData:E,expandColumnKey:D.expandColumnKey,expandedRowKeys:W,defaultExpandedRowKeys:W,class:H,fixed:Boolean,style:{type:(0,x.jq)(Object)},width:K,height:K,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:O.Ki.hScrollbarSize,vScrollbarSize:O.Ki.vScrollbarSize,scrollbarAlwaysOn:O.Gd.alwaysOn,sortBy:{type:(0,x.jq)(Object),default:()=>({})},sortState:{type:(0,x.jq)(Object),default:void 0},onColumnSort:{type:(0,x.jq)(Function)},onExpandedRowsChange:{type:(0,x.jq)(Function)},onEndReached:{type:(0,x.jq)(Function)},onRowExpand:D.onRowExpand,onScroll:G.onScroll,onRowsRendered:G.onRowsRendered,rowEventHandlers:D.rowEventHandlers});var z=l(67996);const L=(0,o.pM)({name:"ElTableV2Header",props:A,setup(e,{slots:t,expose:l}){const n=(0,g.DU)("table-v2"),r=(0,o.WQ)("tableV2GridScrollLeft"),a=(0,o.KR)(),s=(0,o.EW)((()=>f({width:e.width,height:e.height}))),d=(0,o.EW)((()=>f({width:e.rowWidth,height:e.height}))),i=(0,o.EW)((()=>(0,z.A)((0,o.R1)(e.headerHeight)))),c=e=>{const t=(0,o.R1)(a);(0,o.dY)((()=>{(null==t?void 0:t.scroll)&&t.scroll({left:e})}))},u=()=>{const l=n.e("fixed-header-row"),{columns:o,fixedHeaderData:r,rowHeight:a}=e;return null==r?void 0:r.map(((e,n)=>{var r;const s=f({height:a,width:"100%"});return null==(r=t.fixed)?void 0:r.call(t,{class:l,columns:o,rowData:e,rowIndex:-(n+1),style:s})}))},h=()=>{const l=n.e("dynamic-header-row"),{columns:r}=e;return(0,o.R1)(i).map(((e,o)=>{var n;const a=f({width:"100%",height:e});return null==(n=t.dynamic)?void 0:n.call(t,{class:l,columns:r,headerIndex:o,style:a})}))};return(0,o.$u)((()=>{(null==r?void 0:r.value)&&c(r.value)})),l({scrollToLeft:c}),()=>{if(!(e.height<=0))return(0,o.bF)("div",{ref:a,class:e.class,style:(0,o.R1)(s),role:"rowgroup"},[(0,o.bF)("div",{style:(0,o.R1)(d),class:n.e("header")},[h(),u()])])}}});var M=L,V=l(67297),N=l(91908);const B=(0,o.pM)({name:"ElTableV2Grid",props:G,setup(e,{slots:t,expose:l}){const{ns:n}=(0,o.WQ)(v),{bodyRef:r,fixedRowHeight:a,gridHeight:s,hasHeader:d,headerRef:c,headerHeight:h,totalHeight:w,forceUpdate:R,itemKey:y,onItemRendered:f,resetAfterRowIndex:m,scrollTo:g,scrollToTop:b,scrollToRow:x,scrollLeft:S}=(e=>{const t=(0,o.KR)(),l=(0,o.KR)(),n=(0,o.KR)(0),r=(0,o.EW)((()=>{const{data:t,rowHeight:l,estimatedRowHeight:o}=e;if(!o)return t.length*l})),a=(0,o.EW)((()=>{const{fixedData:t,rowHeight:l}=e;return((null==t?void 0:t.length)||0)*l})),s=(0,o.EW)((()=>p(e.headerHeight))),d=(0,o.EW)((()=>{const{height:t}=e;return Math.max(0,t-(0,o.R1)(s)-(0,o.R1)(a))})),c=(0,o.EW)((()=>(0,o.R1)(s)+(0,o.R1)(a)>0));return(0,o.wB)((()=>e.bodyWidth),(()=>{var t;(0,u.Et)(e.estimatedRowHeight)&&(null==(t=l.value)||t.resetAfter({columnIndex:0},!1))})),{bodyRef:l,forceUpdate:function(){var e,n;null==(e=(0,o.R1)(l))||e.$forceUpdate(),null==(n=(0,o.R1)(t))||n.$forceUpdate()},fixedRowHeight:a,gridHeight:d,hasHeader:c,headerHeight:s,headerRef:t,totalHeight:r,itemKey:({data:t,rowIndex:l})=>t[l][e.rowKey],onItemRendered:function({rowCacheStart:t,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:n}){var r;null==(r=e.onRowsRendered)||r.call(e,{rowCacheStart:t,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:n})},resetAfterRowIndex:function(e,t){var o;null==(o=l.value)||o.resetAfterRowIndex(e,t)},scrollTo:function(e,r){const a=(0,o.R1)(t),s=(0,o.R1)(l);(0,i.Gv)(e)?(null==a||a.scrollToLeft(e.scrollLeft),n.value=e.scrollLeft,null==s||s.scrollTo(e)):(null==a||a.scrollToLeft(e),n.value=e,null==s||s.scrollTo({scrollLeft:e,scrollTop:r}))},scrollToTop:function(e){var t;null==(t=(0,o.R1)(l))||t.scrollTo({scrollTop:e})},scrollToRow:function(e,t){var n;null==(n=(0,o.R1)(l))||n.scrollToItem(e,1,t)},scrollLeft:n}})(e);(0,o.Gt)("tableV2GridScrollLeft",S),l({forceUpdate:R,totalHeight:w,scrollTo:g,scrollToTop:b,scrollToRow:x,resetAfterRowIndex:m});const H=()=>e.bodyWidth;return()=>{const{cache:l,columns:i,data:w,fixedData:R,useIsScrolling:p,scrollbarAlwaysOn:m,scrollbarEndGap:g,scrollbarStartGap:b,style:v,rowHeight:x,bodyWidth:S,estimatedRowHeight:T,headerWidth:E,height:C,width:I,getRowHeight:W,onScroll:K}=e,F=(0,u.Et)(T),j=F?V.A:N.A,O=(0,o.R1)(h);return(0,o.bF)("div",{role:"table",class:[n.e("table"),e.class],style:v},[(0,o.bF)(j,{ref:r,data:w,useIsScrolling:p,itemKey:y,columnCache:0,columnWidth:F?H:S,totalColumn:1,totalRow:w.length,rowCache:l,rowHeight:F?W:x,width:I,height:(0,o.R1)(s),class:n.e("body"),role:"rowgroup",scrollbarStartGap:b,scrollbarEndGap:g,scrollbarAlwaysOn:m,onScroll:K,onItemRendered:f,perfMode:!1},{default:e=>{var l;const o=w[e.rowIndex];return null==(l=t.row)?void 0:l.call(t,{...e,columns:i,rowData:o})}}),(0,o.R1)(d)&&(0,o.bF)(M,{ref:c,class:n.e("header-wrapper"),columns:i,headerData:w,headerHeight:e.headerHeight,fixedHeaderData:R,rowWidth:E,rowHeight:x,width:I,height:Math.min(O+(0,o.R1)(a),C)},{dynamic:t.header,fixed:t.row})])}}});var P=B;var U=(e,{slots:t})=>{const{mainTableRef:l,...n}=e;return(0,o.bF)(P,(0,o.v6)({ref:l},n),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!(0,o.vv)(r)?t:{default:()=>[t]});var r};var _=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:l,...n}=e;return(0,o.bF)(P,(0,o.v6)({ref:l},n),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!(0,o.vv)(r)?t:{default:()=>[t]});var r};var $=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:l,...n}=e;return(0,o.bF)(P,(0,o.v6)({ref:l},n),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!(0,o.vv)(r)?t:{default:()=>[t]});var r};const J=e=>{const{isScrolling:t}=(0,o.WQ)(v),l=(0,o.KR)(!1),n=(0,o.KR)(),r=(0,o.EW)((()=>(0,u.Et)(e.estimatedRowHeight)&&e.rowIndex>=0)),a=(0,o.EW)((()=>{const{rowData:t,rowIndex:l,rowKey:o,onRowHover:n}=e,r=e.rowEventHandlers||{},a={};return Object.entries(r).forEach((([e,n])=>{(0,i.Tn)(n)&&(a[e]=e=>{n({event:e,rowData:t,rowIndex:l,rowKey:o})})})),n&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach((({name:e,hovered:r})=>{const s=a[e];a[e]=e=>{n({event:e,hovered:r,rowData:t,rowIndex:l,rowKey:o}),null==s||s(e)}})),a}));return(0,o.sV)((()=>{(0,o.R1)(r)&&((t=!1)=>{const r=(0,o.R1)(n);if(!r)return;const{columns:a,onRowHeightChange:s,rowKey:i,rowIndex:c,style:u}=e,{height:h}=r.getBoundingClientRect();l.value=!0,(0,o.dY)((()=>{if(t||h!==Number.parseInt(u.height)){const e=a[0],t=(null==e?void 0:e.placeholderSign)===d;null==s||s({rowKey:i,height:h,rowIndex:c},e&&!t&&e.fixed)}}))})(!0)})),{isScrolling:t,measurable:r,measured:l,rowRef:n,eventHandlers:a,onExpand:t=>{const{onRowExpand:l,rowData:o,rowIndex:n,rowKey:r}=e;null==l||l({expanded:t,rowData:o,rowIndex:n,rowKey:r})}}},Q=(0,o.pM)({name:"ElTableV2TableRow",props:D,setup(e,{expose:t,slots:l,attrs:n}){const{eventHandlers:r,isScrolling:a,measurable:s,measured:d,rowRef:c,onExpand:u}=J(e);return t({onExpand:u}),()=>{const{columns:t,columnsStyles:h,expandColumnKey:w,depth:R,rowData:p,rowIndex:y,style:f}=e;let m=t.map(((e,n)=>{const r=(0,i.cy)(p.children)&&p.children.length>0&&e.key===w;return l.cell({column:e,columns:t,columnIndex:n,depth:R,style:h[e.key],rowData:p,rowIndex:y,isScrolling:(0,o.R1)(a),expandIconProps:r?{rowData:p,rowIndex:y,onExpand:u}:void 0})}));if(l.row&&(m=l.row({cells:m.map((e=>(0,i.cy)(e)&&1===e.length?e[0]:e)),style:f,columns:t,depth:R,rowData:p,rowIndex:y,isScrolling:(0,o.R1)(a)})),(0,o.R1)(s)){const{height:t,...l}=f||{},a=(0,o.R1)(d);return(0,o.bF)("div",(0,o.v6)({ref:c,class:e.class,style:a?f:l,role:"row"},n,(0,o.R1)(r)),[m])}return(0,o.bF)("div",(0,o.v6)(n,{ref:c,class:e.class,style:f,role:"row"},(0,o.R1)(r)),[m])}}});var Y=Q;var Z=(e,{slots:t})=>{const{columns:l,columnsStyles:n,depthMap:r,expandColumnKey:a,expandedRowKeys:s,estimatedRowHeight:d,hasFixedColumns:i,rowData:c,rowIndex:u,style:h,isScrolling:w,rowProps:R,rowClass:p,rowKey:f,rowEventHandlers:m,ns:g,onRowHovered:b,onRowExpanded:v}=e,x=y(p,{columns:l,rowData:c,rowIndex:u},""),S=y(R,{columns:l,rowData:c,rowIndex:u}),H=c[f],T=r[H]||0,E=Boolean(a),C=u<0,I=[g.e("row"),x,{[g.e(`row-depth-${T}`)]:E&&u>=0,[g.is("expanded")]:E&&s.includes(H),[g.is("fixed")]:!T&&C,[g.is("customized")]:Boolean(t.row)}],W=i?b:void 0,K={...S,columns:l,columnsStyles:n,class:I,depth:T,expandColumnKey:a,estimatedRowHeight:C?void 0:d,isScrolling:w,rowIndex:u,rowData:c,rowKey:H,rowEventHandlers:m,style:h};return(0,o.bF)(Y,(0,o.v6)(K,{onRowExpand:v,onMouseenter:e=>{null==W||W({hovered:!0,rowKey:H,event:e,rowData:c,rowIndex:u})},onMouseleave:e=>{null==W||W({hovered:!1,rowKey:H,event:e,rowData:c,rowIndex:u})},rowkey:H}),"function"==typeof(F=t)||"[object Object]"===Object.prototype.toString.call(F)&&!(0,o.vv)(F)?t:{default:()=>[t]});var F},X=l(77500);const ee=(e,{slots:t})=>{var l;const{cellData:n,style:r}=e,a=(null==(l=null==n?void 0:n.toString)?void 0:l.call(n))||"",s=(0,o.RG)(t,"default",e,(()=>[a]));return(0,o.bF)("div",{class:e.class,title:a,style:r},[s])};ee.displayName="ElTableV2Cell",ee.inheritAttrs=!1;var te=ee,le=l(91361),oe=l(48548);var ne=e=>{const{expanded:t,expandable:l,onExpand:n,style:r,size:a}=e,s={onClick:l?()=>n(!t):void 0,class:e.class};return(0,o.bF)(le.tk,(0,o.v6)(s,{size:a,style:r}),{default:()=>[(0,o.bF)(oe.Qpb,null,null)]})};const re=({columns:e,column:t,columnIndex:l,depth:n,expandIconProps:a,isScrolling:s,rowData:c,rowIndex:u,style:h,expandedRowKeys:w,ns:R,cellProps:p,expandColumnKey:g,indentSize:b,iconSize:v,rowKey:x},{slots:S})=>{const H=f(h);if(t.placeholderSign===d)return(0,o.bF)("div",{class:R.em("row-cell","placeholder"),style:H},null);const{cellRenderer:T,dataKey:E,dataGetter:C}=t,I=(0,i.Tn)(C)?C({columns:e,column:t,columnIndex:l,rowData:c,rowIndex:u}):(0,X.A)(c,null!=E?E:""),W=y(p,{cellData:I,columns:e,column:t,columnIndex:l,rowIndex:u,rowData:c}),K={class:R.e("cell-text"),columns:e,column:t,columnIndex:l,cellData:I,isScrolling:s,rowData:c,rowIndex:u},F=m(T),j=F?F(K):(0,o.RG)(S,"default",K,(()=>[(0,o.bF)(te,K,null)])),O=[R.e("row-cell"),t.class,t.align===r.CENTER&&R.is("align-center"),t.align===r.RIGHT&&R.is("align-right")],D=u>=0&&g&&t.key===g,q=u>=0&&w.includes(c[x]);let A;const G=`margin-inline-start: ${n*b}px;`;return D&&(A=(0,i.Gv)(a)?(0,o.bF)(ne,(0,o.v6)(a,{class:[R.e("expand-icon"),R.is("expanded",q)],size:v,expanded:q,style:G,expandable:!0}),null):(0,o.bF)("div",{style:[G,`width: ${v}px; height: ${v}px;`].join(" ")},null)),(0,o.bF)("div",(0,o.v6)({class:O,style:H},W,{role:"cell"}),[A,j])};re.inheritAttrs=!1;var ae=re;const se=(0,x.b_)({class:String,columns:T,columnsStyles:{type:(0,x.jq)(Object),required:!0},headerIndex:Number,style:{type:(0,x.jq)(Object)}}),de=(0,o.pM)({name:"ElTableV2HeaderRow",props:se,setup(e,{slots:t}){return()=>{const{columns:l,columnsStyles:n,headerIndex:r,style:a}=e;let s=l.map(((e,o)=>t.cell({columns:l,column:e,columnIndex:o,headerIndex:r,style:n[e.key]})));return t.header&&(s=t.header({cells:s.map((e=>(0,i.cy)(e)&&1===e.length?e[0]:e)),columns:l,headerIndex:r})),(0,o.bF)("div",{class:e.class,style:a,role:"row"},[s])}}});var ie=de;var ce=({columns:e,columnsStyles:t,headerIndex:l,style:n,headerClass:r,headerProps:a,ns:s},{slots:d})=>{const i={columns:e,headerIndex:l},c=[s.e("header-row"),y(r,i,""),{[s.is("customized")]:Boolean(d.header)}],u={...y(a,i),columnsStyles:t,class:c,columns:e,headerIndex:l,style:n};return(0,o.bF)(ie,u,"function"==typeof(h=d)||"[object Object]"===Object.prototype.toString.call(h)&&!(0,o.vv)(h)?d:{default:()=>[d]});var h};const ue=(e,{slots:t})=>(0,o.RG)(t,"default",e,(()=>{var t,l;return[(0,o.bF)("div",{class:e.class,title:null==(t=e.column)?void 0:t.title},[null==(l=e.column)?void 0:l.title])]}));ue.displayName="ElTableV2HeaderCell",ue.inheritAttrs=!1;var he=ue;var we=e=>{const{sortOrder:t}=e;return(0,o.bF)(le.tk,{size:14,class:e.class},{default:()=>[t===n.ASC?(0,o.bF)(oe.MzZ,null,null):(0,o.bF)(oe.L97,null,null)]})};var Re=(e,{slots:t})=>{const{column:l,ns:a,style:i,onColumnSorted:c}=e,u=f(i);if(l.placeholderSign===d)return(0,o.bF)("div",{class:a.em("header-row-cell","placeholder"),style:u},null);const{headerCellRenderer:h,headerClass:w,sortable:R}=l,p={...e,class:a.e("header-cell-text")},g=m(h),b=g?g(p):(0,o.RG)(t,"default",p,(()=>[(0,o.bF)(he,p,null)])),{sortBy:v,sortState:x,headerCellProps:S}=e;let H,T;if(x){const e=x[l.key];H=Boolean(s[e]),T=H?e:n.ASC}else H=l.key===v.key,T=H?v.order:n.ASC;const E=[a.e("header-cell"),y(w,e,""),l.align===r.CENTER&&a.is("align-center"),l.align===r.RIGHT&&a.is("align-right"),R&&a.is("sortable")],C={...y(S,e),onClick:l.sortable?c:void 0,class:E,style:u,"data-key":l.key};return(0,o.bF)("div",(0,o.v6)(C,{role:"columnheader"}),[b,R&&(0,o.bF)(we,{class:[a.e("sort-icon"),H&&a.is("sorting")],sortOrder:T},null)])};const pe=(e,{slots:t})=>{var l;return(0,o.bF)("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};pe.displayName="ElTableV2Footer";var ye=pe,fe=l(4966);const me=(e,{slots:t})=>{const l=(0,o.RG)(t,"default",{},(()=>[(0,o.bF)(fe.x0,null,null)]));return(0,o.bF)("div",{class:e.class,style:e.style},[l])};me.displayName="ElTableV2Empty";var ge=me;const be=(e,{slots:t})=>{var l;return(0,o.bF)("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};be.displayName="ElTableV2Overlay";var ve=be;function xe(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.vv)(e)}const Se=(0,o.pM)({name:"ElTableV2",props:k,setup(e,{slots:t,expose:l}){const n=(0,g.DU)("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,mainColumns:d,mainTableHeight:i,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:h,data:w,depthMap:R,expandedRowKeys:p,hasFixedColumns:y,mainTableRef:f,leftTableRef:m,rightTableRef:x,isDynamic:S,isResetting:H,isScrolling:T,bodyWidth:E,emptyStyle:C,rootStyle:I,headerWidth:W,footerHeight:K,showEmpty:F,scrollTo:j,scrollToLeft:O,scrollToTop:D,scrollToRow:q,getRowHeight:A,onColumnSorted:G,onRowHeightChange:k,onRowHovered:z,onRowExpanded:L,onRowsRendered:M,onScroll:V,onVerticalScroll:N}=b(e);return l({scrollTo:j,scrollToLeft:O,scrollToTop:D,scrollToRow:q}),(0,o.Gt)(v,{ns:n,isResetting:H,isScrolling:T}),()=>{const{cache:l,cellProps:g,estimatedRowHeight:b,expandColumnKey:v,fixedData:H,headerHeight:T,headerClass:j,headerProps:O,headerCellProps:D,sortBy:q,sortState:B,rowHeight:P,rowClass:J,rowEventHandlers:Q,rowKey:Y,rowProps:X,scrollbarAlwaysOn:ee,indentSize:te,iconSize:le,useIsScrolling:oe,vScrollbarSize:ne,width:re}=e,se=(0,o.R1)(w),de={cache:l,class:n.e("main"),columns:(0,o.R1)(d),data:se,fixedData:H,estimatedRowHeight:b,bodyWidth:(0,o.R1)(E)+ne,headerHeight:T,headerWidth:(0,o.R1)(W),height:(0,o.R1)(i),mainTableRef:f,rowKey:Y,rowHeight:P,scrollbarAlwaysOn:ee,scrollbarStartGap:2,scrollbarEndGap:ne,useIsScrolling:oe,width:re,getRowHeight:A,onRowsRendered:M,onScroll:V},ie=(0,o.R1)(u),ue=(0,o.R1)(c),he={cache:l,class:n.e("left"),columns:(0,o.R1)(a),data:se,fixedData:H,estimatedRowHeight:b,leftTableRef:m,rowHeight:P,bodyWidth:ie,headerWidth:ie,headerHeight:T,height:ue,rowKey:Y,scrollbarAlwaysOn:ee,scrollbarStartGap:2,scrollbarEndGap:ne,useIsScrolling:oe,width:ie,getRowHeight:A,onScroll:N},we=(0,o.R1)(h)+ne,pe={cache:l,class:n.e("right"),columns:(0,o.R1)(s),data:se,fixedData:H,estimatedRowHeight:b,rightTableRef:x,rowHeight:P,bodyWidth:we,headerWidth:we,headerHeight:T,height:ue,rowKey:Y,scrollbarAlwaysOn:ee,scrollbarStartGap:2,scrollbarEndGap:ne,width:we,style:`--${(0,o.R1)(n.namespace)}-table-scrollbar-size: ${ne}px`,useIsScrolling:oe,getRowHeight:A,onScroll:N},fe=(0,o.R1)(r),me={ns:n,depthMap:(0,o.R1)(R),columnsStyles:fe,expandColumnKey:v,expandedRowKeys:(0,o.R1)(p),estimatedRowHeight:b,hasFixedColumns:(0,o.R1)(y),rowProps:X,rowClass:J,rowKey:Y,rowEventHandlers:Q,onRowHovered:z,onRowExpanded:L,onRowHeightChange:k},be={cellProps:g,expandColumnKey:v,indentSize:te,iconSize:le,rowKey:Y,expandedRowKeys:(0,o.R1)(p),ns:n},Se={ns:n,headerClass:j,headerProps:O,columnsStyles:fe},He={ns:n,sortBy:q,sortState:B,headerCellProps:D,onColumnSorted:G},Te={row:e=>(0,o.bF)(Z,(0,o.v6)(e,me),{row:t.row,cell:e=>{let l;return t.cell?(0,o.bF)(ae,(0,o.v6)(e,be,{style:fe[e.column.key]}),xe(l=t.cell(e))?l:{default:()=>[l]}):(0,o.bF)(ae,(0,o.v6)(e,be,{style:fe[e.column.key]}),null)}}),header:e=>(0,o.bF)(ce,(0,o.v6)(e,Se),{header:t.header,cell:e=>{let l;return t["header-cell"]?(0,o.bF)(Re,(0,o.v6)(e,He,{style:fe[e.column.key]}),xe(l=t["header-cell"](e))?l:{default:()=>[l]}):(0,o.bF)(Re,(0,o.v6)(e,He,{style:fe[e.column.key]}),null)}})},Ee=[e.class,n.b(),n.e("root"),{[n.is("dynamic")]:(0,o.R1)(S)}],Ce={class:n.e("footer"),style:(0,o.R1)(K)};return(0,o.bF)("div",{class:Ee,style:(0,o.R1)(I)},[(0,o.bF)(U,de,xe(Te)?Te:{default:()=>[Te]}),(0,o.bF)(_,he,xe(Te)?Te:{default:()=>[Te]}),(0,o.bF)($,pe,xe(Te)?Te:{default:()=>[Te]}),t.footer&&(0,o.bF)(ye,Ce,{default:t.footer}),(0,o.R1)(F)&&(0,o.bF)(ge,{class:n.e("empty"),style:(0,o.R1)(C)},{default:t.empty}),t.overlay&&(0,o.bF)(ve,{class:n.e("overlay")},{default:t.overlay})])}}});var He=Se;const Te=(0,x.b_)({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:(0,x.jq)(Function)}});var Ee=l(97786);const Ce=(0,o.pM)({name:"ElAutoResizer",props:Te,setup(e,{slots:t}){const l=(0,g.DU)("auto-resizer"),{height:n,width:r,sizer:a}=(e=>{const t=(0,o.KR)(),l=(0,o.KR)(0),n=(0,o.KR)(0);let r;return(0,o.sV)((()=>{r=(0,Ee.wYm)(t,(([e])=>{const{width:t,height:o}=e.contentRect,{paddingLeft:r,paddingRight:a,paddingTop:s,paddingBottom:d}=getComputedStyle(e.target),i=Number.parseInt(r)||0,c=Number.parseInt(a)||0,u=Number.parseInt(s)||0,h=Number.parseInt(d)||0;l.value=t-i-c,n.value=o-u-h})).stop})),(0,o.xo)((()=>{null==r||r()})),(0,o.wB)([l,n],(([t,l])=>{var o;null==(o=e.onResize)||o.call(e,{width:t,height:l})})),{sizer:t,width:l,height:n}})(e),s={width:"100%",height:"100%"};return()=>{var e;return(0,o.bF)("div",{ref:a,class:l.b(),style:s},[null==(e=t.default)?void 0:e.call(t,{height:n.value,width:r.value})])}}});var Ie=Ce,We=l(64769);const Ke=(0,We.GU)(He),Fe=(0,We.GU)(Ie)}}]);